{
  "info": {
    "_postman_id": "369a0854-52e1-477e-8026-89085325dd75",
    "name": "ALLY_Smoke_Suite-QAT_v14",
    "description": "Ally- STC01 to STC20\\[Create ally, add other details, activate ally and edit\\]\n\nWebookhook- STC038 to STC041.\n\nAll sub-merchant onboarding STc-037\n\nPayment intents-SCT42\n\nAlly user- Ally user creation -STC020-STC026.\n\nActivate/det-STC29 and STC 36\n\nAlly user API key- STC32-34.\n\nAlly payments\n\nAlly reports\n\nAlly Transaction details",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "11951345"
  },
  "item": [
    {
      "name": "Login as Admin",
      "item": [
        {
          "name": "STC_001: Verify the Admin can login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate token is present and save to environment\r",
                  "pm.test(\"TC02 - Validate token is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"token\");\r",
                  "    pm.expect(jsonData.token).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"token\", jsonData.token);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate refreshToken is present and save to environment\r",
                  "pm.test(\"TC03 - Validate refreshToken is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"refreshToken\");\r",
                  "    pm.expect(jsonData.refreshToken).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate parentId is present and save to environment\r",
                  "pm.test(\"TC04 - Validate parentId is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"parentId\");\r",
                  "    pm.expect(jsonData.parentId).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC05 - Validate resellerId is present and save to environment\r",
                  "pm.test(\"TC05 - Validate resellerId is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"resellerId\");\r",
                  "    pm.expect(jsonData.resellerId).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "});\r",
                  "\r",
                  "// // ✅ TC06 - Validate merchantId is present and save to environment\r",
                  "// pm.test(\"TC06 - Validate merchantId is present and save to environment\", function () {\r",
                  "//     pm.expect(jsonData).to.have.property(\"merchantId\");\r",
                  "//     pm.expect(jsonData.merchantId).to.be.a(\"string\").that.is.not.empty;\r",
                  "//     pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "//OLD//\r",
                  "\r",
                  "\r",
                  "// let jsonData = pm.response.json();\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.environment.set(\"token\", jsonData.token);\r",
                  "// pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "// pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "// pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "// pm.environment.set(\"env_merchantId\", jsonData.merchantId);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " //Dev\r\n// {\r\n//       \"userName\": \"AdminUser\",\r\n//       \"password\": \"AdminDev#242024\"\r\n//  }\r\n\r\n\r\n\r\n//QAT\r\n{\r\n\"userName\": \"SiddheshwarQAT\",\r\n\"password\": \"666#Qwertyuiop\"\r\n}\r\n\r\n// // //UAT\r\n\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "ALLY",
      "item": [
        {
          "name": "STC_002: Verify that admin can Create a new Ally.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "let response = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 201\r",
                  "pm.test(\"TC01 - Validate status code is 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate adminUserName is present and save safely\r",
                  "pm.test(\"TC02 - Validate adminUserName is present and save to environment\", function () {\r",
                  "    let latestAdminUserName = response?.adminUserName || pm.environment.get(\"adminUserName_backup\") || \"\";\r",
                  "\r",
                  "    pm.expect(latestAdminUserName).to.be.a(\"string\").that.is.not.empty;\r",
                  "\r",
                  "    // Save to environment\r",
                  "    pm.environment.set(\"adminUserName\", latestAdminUserName);\r",
                  "    pm.environment.set(\"Ally_UserName\", latestAdminUserName);\r",
                  "    pm.environment.set(\"adminUserName_backup\", latestAdminUserName);\r",
                  "\r",
                  "    console.log(\"✅ Updated adminUserName:\", latestAdminUserName);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate AID is present and save to environment\r",
                  "pm.test(\"TC03 - Validate AID is present and save to environment\", function () {\r",
                  "    pm.expect(response).to.have.property(\"id\");\r",
                  "    pm.expect(response.id).to.be.a(\"string\").that.is.not.empty;\r",
                  "\r",
                  "    pm.environment.set(\"AID\", response.id);\r",
                  "    console.log(\"✅ Saved AID:\", response.id);\r",
                  "});\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "// let response = pm.response.json();\r",
                  "\r",
                  "// // --- Save adminUserName safely ---\r",
                  "// let latestAdminUserName = response?.adminUserName || pm.environment.get(\"adminUserName_backup\") || \"\";\r",
                  "\r",
                  "// // If we got a new value, update it and store a backup\r",
                  "// if (latestAdminUserName) {\r",
                  "//     pm.environment.set(\"adminUserName\", latestAdminUserName);\r",
                  "//     pm.environment.set(\"Ally_UserName\", latestAdminUserName);\r",
                  "//     pm.environment.set(\"adminUserName_backup\", latestAdminUserName);\r",
                  "//     console.log(\"✅ Updated adminUserName:\", latestAdminUserName);\r",
                  "// } else {\r",
                  "//     console.warn(\"⚠️ adminUserName missing in response and no backup found\");\r",
                  "// }\r",
                  "\r",
                  "// // --- Save AID if present ---\r",
                  "// if (response?.id) {\r",
                  "//     pm.environment.set(\"AID\", response.id);\r",
                  "//     console.log(\"✅ Saved AID:\", response.id);\r",
                  "// } else {\r",
                  "//     console.warn(\"⚠️ AID not found in response\");\r",
                  "// }\r",
                  "\r",
                  "// // ✅ Validate status code\r",
                  "// pm.test(\"Status code is 201\", function () {\r",
                  "//     pm.response.to.have.status(201);\r",
                  "// });\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "\r",
                  "\r",
                  "function generateUsername() {\r",
                  "    let firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Morgan\", \"Casey\", \"Riley\", \"Cameron\", \"Avery\"];\r",
                  "    let lastNames = [\"Smith\", \"Johnson\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Anderson\", \"Thomas\"];\r",
                  "    \r",
                  "    let firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\r",
                  "    let lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\r",
                  "    let randomNumber = Math.floor(10 + Math.random() * 90); // Random 4-digit number\r",
                  "\r",
                  "    return `${firstName}${lastName}${randomNumber}`;\r",
                  "}\r",
                  "\r",
                  "let randomUsername = generateUsername();\r",
                  "pm.environment.set(\"random_username\", randomUsername);\r",
                  "\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"{{$randomCompanyName}}\",\r\n    \"adminUserName\": \"{{random_username}}\",\r\n    \"contact\": {\r\n        \"name\": {\r\n            \"firstName\": \"{{$randomFirstName}}\",\r\n            \"lastName\": \"{{$randomLastName}}\"\r\n        },\r\n        \"phone\": \"9028303090\",\r\n        \"email\": \"{{$randomFirstName}}@yopmail.com\",\r\n        \"url\": \"\",\r\n        \"address\": {\r\n            \"addressLine1\": \"233 5th Ave Ext\",\r\n            \"addressLine2\": \"Johnstown, New York\",\r\n            \"city\": \"Herkimer\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"13351\"\r\n        }\r\n    }\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_006: Verify that the API add the payment acceptance limits for a Ally.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"AnytimePayment\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"9999099.99\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response body contains 'AnytimePayment'\r",
                  "pm.test(\"TC02 - Validate response body contains 'AnytimePayment'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"AnytimePayment\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate response body contains '9999099.99'\r",
                  "pm.test(\"TC03 - Validate response body contains '9999099.99'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"9999099.99\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n    {\r\n        \"paymentType\": \"AnytimePayment\",\r\n        \"applicableTo\": [\r\n            {\r\n                \"paymentType\": [\r\n                    \"ach\"\r\n                ],\r\n                \"amount\": 9999099.99\r\n            },\r\n            {\r\n                \"paymentType\": [\r\n                    \"CreditCard\"\r\n                ],\r\n                \"amount\": 6009.00\r\n            },\r\n            {\r\n                \"paymentType\": [\r\n                    \"DebitCard\"\r\n                ],\r\n                \"amount\": 60.00\r\n            }\r\n        ]\r\n    }\r\n]",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/paymentacceptancelimits",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "paymentacceptancelimits"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_007: Verify that the API returns the payment acceptance limits for a valid ally_id",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"AnytimePayment\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"9999099.99\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ACH\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"CreditCard\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"DebitCard\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response body contains 'AnytimePayment'\r",
                  "pm.test(\"TC02 - Validate response body contains 'AnytimePayment'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"AnytimePayment\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate response body contains '9999099.99'\r",
                  "pm.test(\"TC03 - Validate response body contains '9999099.99'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"9999099.99\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate response body contains 'ACH'\r",
                  "pm.test(\"TC04 - Validate response body contains 'ACH'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ACH\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC05 - Validate response body contains 'CreditCard'\r",
                  "pm.test(\"TC05 - Validate response body contains 'CreditCard'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"CreditCard\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC06 - Validate response body contains 'DebitCard'\r",
                  "pm.test(\"TC06 - Validate response body contains 'DebitCard'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"DebitCard\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/paymentacceptancelimits",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "paymentacceptancelimits"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_008: Verify the admin can edit the payment acceptance of ally.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"AnytimePayment\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"50000.0\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"100060.0\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"60.0\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "/// NEW\r",
                  "\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response body contains 'AnytimePayment'\r",
                  "pm.test(\"TC02 - Validate response body contains 'AnytimePayment'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"AnytimePayment\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate response body contains '50000.0'\r",
                  "pm.test(\"TC03 - Validate response body contains '50000.0'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"50000.0\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate response body contains '100060.0'\r",
                  "pm.test(\"TC04 - Validate response body contains '100060.0'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"100060.0\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC05 - Validate response body contains '60.0'\r",
                  "pm.test(\"TC05 - Validate response body contains '60.0'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"60.0\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n    {\r\n        \"paymentType\": \"AnytimePayment\",\r\n        \"applicableTo\": [\r\n            {\r\n                \"paymentType\": [\r\n                    \"ACH\"\r\n                ],\r\n                \"amount\": 50000.0\r\n            },\r\n            {\r\n                \"paymentType\": [\r\n                    \"CreditCard\"\r\n                ],\r\n                \"amount\": 100060.0\r\n            }\r\n            // {\r\n            //     \"paymentType\": [\r\n            //         \"DebitCard\"\r\n            //     ],\r\n            //     \"amount\": 680.0\r\n            // }\r\n        ]\r\n    }\r\n]",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/paymentacceptancelimits",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "paymentacceptancelimits"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_009: Verify that an admin user can successfully retrieve the fees configured for an Ally.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "// let jsonData = pm.response.json();\r",
                  "\r",
                  "// // Ensure the data array exists\r",
                  "// if (jsonData.data && Array.isArray(jsonData.data)) {\r",
                  "//     jsonData.data.forEach(fee => {\r",
                  "//         // Store ID based on allyFeeType\r",
                  "//         pm.environment.set(fee.allyFeeType, fee.id);\r",
                  "//     });\r",
                  "// }\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "// let techFee = jsonData.data.find(fee => fee.allyFeeType === \"TechnologyFee\");\r",
                  "\r",
                  "// if (techFee) {\r",
                  "//     pm.environment.set(\"Tech_fee_id\", techFee.id);\r",
                  "// }\r",
                  "// let techFee2 = jsonData.data.find(fee => fee.allyFeeType === \"ProcessingFee\");\r",
                  "\r",
                  "// if (techFee2) {\r",
                  "//     pm.environment.set(\"Proc_fee_id\", techFee2.id);\r",
                  "// }\r",
                  "// let techFee3 = jsonData.data.find(fee => fee.allyFeeType === \"RefundFee\");\r",
                  "\r",
                  "// if (techFee3) {\r",
                  "//     pm.environment.set(\"Ref_fee_id\", techFee3.id);\r",
                  "// }\r",
                  "// let techFee4 = jsonData.data.find(fee => fee.allyFeeType === \"ChargebackFee\");\r",
                  "\r",
                  "// if (techFee4) {\r",
                  "//     pm.environment.set(\"Char_fee_id\", techFee4.id);\r",
                  "// }\r",
                  "\r",
                  "\r",
                  "\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"TechnologyFee\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ProcessingFee\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"RefundFee\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ChargebackFee\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "///NEW\r",
                  "\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate data array exists and store allyFeeType IDs\r",
                  "pm.test(\"TC02 - Validate data array exists and save allyFeeType IDs to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"data\");\r",
                  "    pm.expect(jsonData.data).to.be.an(\"array\").that.is.not.empty;\r",
                  "\r",
                  "    jsonData.data.forEach(fee => {\r",
                  "        if (fee.allyFeeType && fee.id) {\r",
                  "            pm.environment.set(fee.allyFeeType, fee.id);\r",
                  "        }\r",
                  "    });\r",
                  "\r",
                  "    let techFee = jsonData.data.find(fee => fee.allyFeeType === \"TechnologyFee\");\r",
                  "    if (techFee) pm.environment.set(\"Tech_fee_id\", techFee.id);\r",
                  "\r",
                  "    let procFee = jsonData.data.find(fee => fee.allyFeeType === \"ProcessingFee\");\r",
                  "    if (procFee) pm.environment.set(\"Proc_fee_id\", procFee.id);\r",
                  "\r",
                  "    let refFee = jsonData.data.find(fee => fee.allyFeeType === \"RefundFee\");\r",
                  "    if (refFee) pm.environment.set(\"Ref_fee_id\", refFee.id);\r",
                  "\r",
                  "    let charFee = jsonData.data.find(fee => fee.allyFeeType === \"ChargebackFee\");\r",
                  "    if (charFee) pm.environment.set(\"Char_fee_id\", charFee.id);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate response body contains 'TechnologyFee'\r",
                  "pm.test(\"TC03 - Validate response body contains 'TechnologyFee'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"TechnologyFee\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate response body contains 'ProcessingFee'\r",
                  "pm.test(\"TC04 - Validate response body contains 'ProcessingFee'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ProcessingFee\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC05 - Validate response body contains 'RefundFee'\r",
                  "pm.test(\"TC05 - Validate response body contains 'RefundFee'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"RefundFee\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC06 - Validate response body contains 'ChargebackFee'\r",
                  "pm.test(\"TC06 - Validate response body contains 'ChargebackFee'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ChargebackFee\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/fees",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "fees"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_010: Verify that an admin user can successfully configure a fee for an Ally.",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "// NEW\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n            \"id\": \"{{Tech_fee_id}}\",  //gNxrw8l3\r\n            //\"allyId\": \"{{AID}}\",\r\n            \"allyFeeType\": \"TechnologyFee\",\r\n            \"allyFeeTypeDescription\": \"Technology Fee\",\r\n            \"feeType\": \"SubMerchant\",\r\n            \"displayName\": \"Technology Fee test\",\r\n           \r\n            \"allyFeeDetails\": [\r\n                {\r\n                    // \"billingMode\": \"Invoiced\",\r\n                    \"defaultPercentageValue\": 10.0,\r\n                    \"defaultFixedValue\": 25.0,\r\n                    \"applicableTo\": [\r\n                        \"ACH\"\r\n                    ],\r\n                    \"applicableToOutboundPayments\": null\r\n                },\r\n                {\r\n                    \"defaultPercentageValue\": 63.19,\r\n                    \"defaultFixedValue\": 10.0,\r\n                    \"applicableTo\": [\r\n                        \"CreditCard\",\r\n                        \"DebitCard\"\r\n                    ],\r\n                    \"applicableToOutboundPayments\": null\r\n                }\r\n            ]\r\n           \r\n        }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/fees/{{Tech_fee_id}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "fees",
                "{{Tech_fee_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_033: Verify that an admin user can't set  \"billingMode\": \"Invoiced\".",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 400\", function () {\r",
                  "//     pm.response.to.have.status(400);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "// pm.test(\"Validate BillingMode error in response\", function () {\r",
                  "//     let jsonData = pm.response.json();\r",
                  "\r",
                  "//     // Check main message\r",
                  "//     pm.expect(jsonData.message).to.eql(\"Key_InvalidFields\");\r",
                  "\r",
                  "//     // Check errors array exists and has at least one item\r",
                  "//     pm.expect(jsonData.errors).to.be.an(\"array\").that.is.not.empty;\r",
                  "\r",
                  "//     // Check the specific field and message in errors\r",
                  "//     let billingModeError = jsonData.errors.find(err => err.field === \"AllyFeeDetails[1].BillingMode\");\r",
                  "//     pm.expect(billingModeError).to.not.be.undefined;\r",
                  "//     pm.expect(billingModeError.message).to.eql(\"Key_InvalidBillingMode\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "// ✅ TC01 - Validate status code is 400\r",
                  "pm.test(\"TC01 - Validate status code is 400\", function () {\r",
                  "    pm.response.to.have.status(400);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate BillingMode error in response\r",
                  "pm.test(\"TC02 - Validate BillingMode error in response\", function () {\r",
                  "    let jsonData = pm.response.json();\r",
                  "\r",
                  "    // Check main message\r",
                  "    pm.expect(jsonData).to.have.property(\"message\", \"Key_InvalidFields\");\r",
                  "\r",
                  "    // Check errors array exists and has at least one item\r",
                  "    pm.expect(jsonData.errors).to.be.an(\"array\").that.is.not.empty;\r",
                  "\r",
                  "    // Check the specific field and message in errors\r",
                  "    let billingModeError = jsonData.errors.find(err => err.field === \"AllyFeeDetails[1].BillingMode\");\r",
                  "    pm.expect(billingModeError).to.not.be.undefined;\r",
                  "    pm.expect(billingModeError.message).to.eql(\"Key_InvalidBillingMode\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n            \"id\": \"{{Tech_fee_id}}\",  //gNxrw8l3\r\n            //\"allyId\": \"{{AID}}\",\r\n            \"allyFeeType\": \"TechnologyFee\",\r\n            \"allyFeeTypeDescription\": \"Technology Fee\",\r\n            \"feeType\": \"SubMerchant\",\r\n            \"displayName\": \"Technology Fee test\",\r\n           \r\n            \"allyFeeDetails\": [\r\n                {\r\n                     \"billingMode\": \"Invoiced\",\r\n                    \"defaultPercentageValue\": 10.0,\r\n                    \"defaultFixedValue\": 25.0,\r\n                    \"applicableTo\": [\r\n                        \"ACH\"\r\n                    ],\r\n                    \"applicableToOutboundPayments\": null\r\n                },\r\n                {\r\n                     \"billingMode\": \"Invoiced\",\r\n                    \"defaultPercentageValue\": 63.19,\r\n                    \"defaultFixedValue\": 10.0,\r\n                    \"applicableTo\": [\r\n                        \"CreditCard\",\r\n                        \"DebitCard\"\r\n                    ],\r\n                    \"applicableToOutboundPayments\": null\r\n                }\r\n            ]\r\n           \r\n        }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/fees/{{Tech_fee_id}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "fees",
                "{{Tech_fee_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_011: Verify the admin can retrieve a list of all features Allies are allowed to use.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response body contains 'AndDoneJs'\r",
                  "pm.test(\"TC02 - Validate response body contains 'AndDoneJs'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"AndDoneJs\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate response body contains 'PCICompliant'\r",
                  "pm.test(\"TC03 - Validate response body contains 'PCICompliant'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"PCICompliant\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate response body contains 'CardTokenization'\r",
                  "pm.test(\"TC04 - Validate response body contains 'CardTokenization'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"CardTokenization\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC05 - Validate response body contains 'ACHTokenization'\r",
                  "pm.test(\"TC05 - Validate response body contains 'ACHTokenization'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ACHTokenization\");\r",
                  "});\r",
                  "\r",
                  "// // ✅ TC06 - Validate response body contains 'PreferPaymentBatching'\r",
                  "// pm.test(\"TC06 - Validate response body contains 'PreferPaymentBatching'\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"PreferPaymentBatching\");\r",
                  "// });\r",
                  "\r",
                  "// // ✅ TC07 - Validate response body contains 'EmbeddedPremiumFinance'\r",
                  "// pm.test(\"TC07 - Validate response body contains 'EmbeddedPremiumFinance'\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"EmbeddedPremiumFinance\");\r",
                  "// });\r",
                  "\r",
                  "// ✅ TC08 - Validate response body contains 'AndDonePlatformAccount'\r",
                  "pm.test(\"TC08 - Validate response body contains 'AndDonePlatformAccount'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"AndDonePlatformAccount\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC09 - Validate response body contains 'RefundCollection'\r",
                  "pm.test(\"TC09 - Validate response body contains 'RefundCollection'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"RefundCollection\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC10 - Validate response body contains 'ACHFullAccountNumber'\r",
                  "pm.test(\"TC10 - Validate response body contains 'ACHFullAccountNumber'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ACHFullAccountNumber\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC11 - Validate response body contains 'ChargebackOptions'\r",
                  "pm.test(\"TC11 - Validate response body contains 'ChargebackOptions'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ChargebackOptions\");\r",
                  "});\r",
                  "\r",
                  "// // ✅ TC12 - Validate response body contains 'Invoicing'\r",
                  "// pm.test(\"TC12 - Validate response body contains 'Invoicing'\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"Invoicing\");\r",
                  "// });\r",
                  "\r",
                  "// ✅ TC13 - Validate response body contains 'OverrideTechnologyFee'\r",
                  "pm.test(\"TC13 - Validate response body contains 'OverrideTechnologyFee'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"OverrideTechnologyFee\");\r",
                  "});\r",
                  "\r",
                  "//OLD\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"AndDoneJs\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"PCICompliant\");\r",
                  "// });\r",
                  "\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"CardTokenization\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ACHTokenization\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"PreferPaymentBatching\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"EmbeddedPremiumFinance\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"AndDonePlatformAccount\");\r",
                  "// });\r",
                  "// // pm.test(\"Body matches string\", function () {\r",
                  "// //     pm.expect(pm.response.text()).to.include(\"EmailTransactionReceipt\");\r",
                  "// //});\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"RefundCollection\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ACHFullAccountNumber\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ChargebackOptions\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"Invoicing\");\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"OverrideTechnologyFee\");\r",
                  "// });\r",
                  "\r",
                  "// Extract a feature name and store in environment for next calls\r",
                  "let response = pm.response.json();\r",
                  "\r",
                  "// Get first item name\r",
                  "let featureName = response[0].name;\r",
                  "\r",
                  "// Store as environment variable\r",
                  "pm.environment.set(\"featureName\", featureName);\r",
                  "\r",
                  "console.log(\"Stored Feature Name:\", featureName);\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "x-version",
                "value": "2.1",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/features?usertype=5",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "features"
              ],
              "query": [
                {
                  "key": "usertype",
                  "value": "5"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_012: Verify the admin can successfully enable a AndDoneJs feature for a valid Ally.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"reason\": \"reason for enabling the Anddone JS feature\",\r\n    \"metaData\": \"metadata related to the feature\",\r\n    \"isEnabled\": true,\r\n    \"ProvisionedData\": \"[]\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/features/{{featureName}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "features",
                "{{featureName}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_013: Verify the API returns the list of enabled features for a valid Ally ID.",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/features",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "features"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_014: Verify the admin can edit the allowed transaction types.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n    {\r\n        \"channelType\": \"ACH\",\r\n        \"channelSubTypeId\": 7,\r\n        \"supportedProcessMethods\": \"2\"\r\n    },\r\n    {\r\n        \"channelType\": \"ACH\",\r\n        \"channelSubTypeId\": 16,\r\n        \"supportedProcessMethods\": \"2\"\r\n    },\r\n    // {\r\n    //     \"channelType\": \"ACH\",\r\n    //     \"channelSubTypeId\": 17,\r\n    //     \"supportedProcessMethods\": \"2\"\r\n    // },\r\n    // {\r\n    //     \"channelType\": \"CreditCard\",\r\n    //     \"channelSubTypeId\": 1,\r\n    //     \"supportedProcessMethods\": \"3\"\r\n   // },\r\n    {\r\n        \"channelType\": \"CreditCard\",\r\n        \"channelSubTypeId\": 2,\r\n        \"supportedProcessMethods\": \"3\"\r\n    },\r\n    {\r\n        \"channelType\": \"CreditCard\",\r\n        \"channelSubTypeId\": 3,\r\n        \"supportedProcessMethods\": \"3\"\r\n    },\r\n    // {\r\n    //     \"channelType\": \"CreditCard\",\r\n    //     \"channelSubTypeId\": 4,\r\n    //     \"supportedProcessMethods\": \"3\"\r\n    // },\r\n    // {\r\n    //     \"channelType\": \"CreditCard\",\r\n    //     \"channelSubTypeId\": 5,\r\n    //     \"supportedProcessMethods\": \"3\"\r\n    // },\r\n    {\r\n        \"channelType\": \"DebitCard\",\r\n        \"channelSubTypeId\": 11,\r\n        \"supportedProcessMethods\": \"3\"\r\n    }\r\n]",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/allowedtransactiontypes",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "allowedtransactiontypes"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_015: Verify the API will return the details of Transaction Types allowed for the specified channel of a ally.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ACH\");\r",
                  "// });\r",
                  "\r",
                  "//new\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response body contains 'ACH'\r",
                  "pm.test(\"TC02 - Validate response body contains 'ACH'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ACH\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/allowedtransactiontypes",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "allowedtransactiontypes"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_016: Verify the admin can add the allowed transaction types.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\r\n    {\r\n        \"channelType\": \"ACH\",\r\n        \"channelSubTypeId\": 7,\r\n        \"supportedProcessMethods\": \"2\"\r\n    },\r\n    {\r\n        \"channelType\": \"ACH\",\r\n        \"channelSubTypeId\": 16,\r\n        \"supportedProcessMethods\": \"2\"\r\n    },\r\n    {\r\n        \"channelType\": \"ACH\",\r\n        \"channelSubTypeId\": 17,\r\n        \"supportedProcessMethods\": \"2\"\r\n    },\r\n    {\r\n        \"channelType\": \"CreditCard\",\r\n        \"channelSubTypeId\": 1,\r\n        \"supportedProcessMethods\": \"3\"\r\n    },\r\n    {\r\n        \"channelType\": \"CreditCard\",\r\n        \"channelSubTypeId\": 2,\r\n        \"supportedProcessMethods\": \"3\"\r\n    }\r\n    // {\r\n    //     \"channelType\": \"CreditCard\",\r\n    //     \"channelSubTypeId\": 3,\r\n    //     \"supportedProcessMethods\": \"3\"\r\n    // },\r\n    // {\r\n    //     \"channelType\": \"CreditCard\",\r\n    //     \"channelSubTypeId\": 4,\r\n    //     \"supportedProcessMethods\": \"3\"\r\n    // },\r\n    // {\r\n    //     \"channelType\": \"CreditCard\",\r\n    //     \"channelSubTypeId\": 5,\r\n    //     \"supportedProcessMethods\": \"3\"\r\n    // },\r\n    // {\r\n    //     \"channelType\": \"DebitCard\",\r\n    //     \"channelSubTypeId\": 11,\r\n    //     \"supportedProcessMethods\": \"3\"\r\n    // }\r\n]",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/allowedtransactiontypes",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "allowedtransactiontypes"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_017: Verify the admin can retrieve all Ally details.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 3000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_018: Verify the admin can retrieve Ally Details by valid Ally ID.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "// pm.test(\"Response is valid and has correct structure\", function () {\r",
                  "//     let jsonData = pm.response.json();\r",
                  "\r",
                  "//     // Check if the response contains the \"isActive\" field\r",
                  "//     pm.expect(jsonData).to.have.property(\"isActive\");\r",
                  "\r",
                  "//     // Check if \"isActive\" is a boolean\r",
                  "//     pm.expect(jsonData.isActive).to.be.a(\"boolean\");\r",
                  "\r",
                  "//     // Optional: Check if \"isActive\" is true\r",
                  "//     pm.expect(jsonData.isActive).to.equal(false);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response has correct structure and 'isActive' field\r",
                  "pm.test(\"TC02 - Validate response has correct structure and 'isActive' field\", function () {\r",
                  "    let jsonData = pm.response.json();\r",
                  "\r",
                  "    // Check if the response contains the \"isActive\" field\r",
                  "    pm.expect(jsonData).to.have.property(\"isActive\");\r",
                  "\r",
                  "    // Check if \"isActive\" is a boolean\r",
                  "    pm.expect(jsonData.isActive).to.be.a(\"boolean\");\r",
                  "\r",
                  "    // Optional: Check if \"isActive\" is false\r",
                  "    pm.expect(jsonData.isActive).to.equal(false);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_019: Verify that admin can activate Ally successfully.",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/activations",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "activations"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_003: Verify the admin can add a Pay In Full(ACH) Payment Authorization statements for Ally",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 5000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"processMethod\": \"ACH\",\r\n    \"pasType\": \"PayInFull\",\r\n    \"body\": \"By clicking \\\"submit\\\" below, I authorize AndDone, on behalf of <b>[[DBAName]]</b>, to initiate a onetime electronic debit in the amount QATAlly.\"\r\n}\r\n\r\n\r\n// {\r\n//      \"processMethod\": \"CardNotPresent\",\r\n//     \"pasType\": \"PayInFull\",\r\n    \r\n//     \"body\":\"By clicking \\\"submit\\\" below, I authorize AndDone, on behalf of <b>[[DBAName]]</b>, to initiate a onetime electronic debit in the amount shown from the account and the financial institution identified on this form. I may only revoke this authorization by contacting AndDone at support@anddone.com This authorization remains in effect until AndDone has had a reasonable opportunity to act on my revocation. Contact <b>[[DBAName]]</b> to inquire if no-fee pay options are available. Please print and retain a copy of this authorization.<br/>I certify that I have the authority to use this bank account, and the authority to make the payment as stated above. I further certify that the bank account shown is enabled for ACH Debit and Credit transactions. It is understood that all parties will comply with the provisions where applicable, of the Operating Rules of the National Automated Clearing House Association (\\\"NACHA\\\"), in existence as of the date of this transaction.\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/payauthstatements",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "payauthstatements"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_004: Get Payment Authorization statements for Ally",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"PayInFull\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "//new\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response body contains 'PayInFull'\r",
                  "pm.test(\"TC02 - Validate response body contains 'PayInFull'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"PayInFull\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/payauthstatements",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "payauthstatements"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_005: Verify the admin can edit the Payment Authorization statements for Ally",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"ACH\");\r",
                  "// });\r",
                  "\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"PayInFull\");\r",
                  "// });\r",
                  "\r",
                  "// pm.test(\"Body matches string\", function () {\r",
                  "//     pm.expect(pm.response.text()).to.include(\"This text is for test only\");\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "/////NEW//////////\r",
                  "\r",
                  "\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate response body contains 'ACH'\r",
                  "pm.test(\"TC02 - Validate response body contains 'ACH'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"ACH\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate response body contains 'PayInFull'\r",
                  "pm.test(\"TC03 - Validate response body contains 'PayInFull'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"PayInFull\");\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate response body contains 'This text is for test only'\r",
                  "pm.test(\"TC04 - Validate response body contains 'This text is for test only'\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"This text is for test only\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"processMethod\": \"ACH\",\r\n    \"pasType\": \"PayInFull\",\r\n    \"body\": \"This text is for test only, This text is for test only, This text is for test only QATAlly.\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/payauthstatements",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "payauthstatements"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_020: Verify that an AndDone Admin can successfully update the details of an Ally (except for the Admin Username).",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 3000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_widget}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "    {\r\n    \"name\": \"{{$randomCompanyName}}\",\r\n    \"adminUserName\": \"{{Ally_UserName}}\",//RMxUqYQxG\r\n    \"contact\": {\r\n        \"name\": {\r\n            \"firstName\": \"{{$randomFirstName}}\",\r\n            \"lastName\": \"{{$randomLastName}}\"\r\n        },\r\n        \"phone\": \"9028303090\",\r\n        \"email\": \"555@yopmail.com\",\r\n        \"url\": \"\",\r\n        \"address\": {\r\n            \"addressLine1\": \"12 st New york\",\r\n            \"addressLine2\": \"USA\",\r\n            \"city\": \"Herkimer\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"13350\"\r\n        }\r\n    }\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_037: Verify the ally can create a sub-merchant by using the secure API.",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "\r",
                  "\r",
                  "function generateUsername() {\r",
                  "    let firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Morgan\", \"Casey\", \"Riley\", \"Cameron\", \"Avery\"];\r",
                  "    let lastNames = [\"Smith\", \"Johnson\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Anderson\", \"Thomas\"];\r",
                  "    \r",
                  "    let firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\r",
                  "    let lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\r",
                  "    let randomNumber = Math.floor(1000 + Math.random() * 9000); // Random 4-digit number\r",
                  "\r",
                  "    return `${firstName}${lastName}${randomNumber}`;\r",
                  "}\r",
                  "\r",
                  "let randomUsername = generateUsername();\r",
                  "pm.environment.set(\"random_username\", randomUsername);\r",
                  "\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 3000); // 2-second delay"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "\r",
                  "let jsonData = pm.response.json();\r",
                  "// ✅ TC01 - Validate status code is 201\r",
                  "pm.test(\"TC01 - Validate status code is 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "\r",
                  "// ✅ TC02 - Validate response contains 'merchantID'\r",
                  "pm.test(\"TC02 - Validate response contains 'merchantID'\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"merchantID\");\r",
                  "    pm.expect(jsonData.merchantID).to.be.a(\"string\").that.is.not.empty;\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate response contains 'companyName'\r",
                  "pm.test(\"TC03 - Validate response contains 'companyName'\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"companyName\");\r",
                  "    pm.expect(jsonData.companyName).to.be.a(\"string\").that.is.not.empty;\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate response contains 'merchantDBA'\r",
                  "pm.test(\"TC04 - Validate response contains 'merchantDBA'\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"merchantDBA\");\r",
                  "    pm.expect(jsonData.merchantDBA).to.be.a(\"string\").that.is.not.empty;\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "key": "value",
                  "value": "{{env_merchantAccessKey}}",
                  "type": "string"
                },
                {
                  "key": "in",
                  "value": "header",
                  "type": "string"
                },
                {
                  "key": "key",
                  "value": "x-api-key",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"merchantDetails\": {\r\n  \r\n           \"CompanyName\": \"{{$randomCompanyName}}\",\r\n            \"dbaName\": \"{{$randomCompanyName}}\",\r\n        //     \"contact\": {\r\n        //         \"name\": {\r\n        //             \"firstName\": \"{{$randomFirstName}}\",\r\n        //             \"lastName\": \"{{$randomLastName}}\"\r\n        //         },\r\n               \r\n        //         //\"phone\": \"1234567890\",\r\n        //         //\"email\": \"merchant@gmail.com\", // optional\r\n        //         \"address\": {\r\n        //             \"addressLine1\": \"address line 1\",\r\n        //             \"addressLine2\": \"address line 2\", // optional\r\n        //             \"city\": \"Herkimer\",\r\n        //             \"state\": \"NY\",\r\n        //             \"country\": \"USA\", // country name, like USA, Canada\r\n        //             \"postalCode\": \"13350\"\r\n        //         }\r\n        //    },\r\n           \"AllyId\" : \"KevGGLvW\"\r\n          // \"AllyId\" :\"qKd2r1d6\"\r\n        }\r\n//     \"allowedPaymentMethods\": [\r\n//             {\r\n//                 \"type\": \"ACH\",   \r\n//                 \"subTypes\": [\"web\", \"ccd\"]\r\n//             },\r\n\r\n//             {\r\n//                 \"type\": \"CreditCard\",\r\n// \t\t\t\t\"subTypes\": [\"visa\", \"master\", \"diners\"]\r\n//             } \r\n//         ],\r\n//     \"features\": [ \r\n//             {\r\n//                 \"name\": \"PCICompliant\", \r\n//                 \"reason\": \"For testing purpose\",\r\n//                 \"enabled\": true,   \r\n//                 \"additionalData\": \"[]\" \r\n//             },\r\n//             {\r\n//     \"name\":\"IPFSPayments\",            \r\n//     \"reason\": \"reason for enabling the IPFSP feature\",\r\n//     \"metaData\": \"metadata related to the feature\",\r\n//     \"isEnabled\": true,\r\n//    \"additionalData\":\"[{\\\"Name\\\":\\\"AgencyID\\\",\\\"Label\\\":\\\"Agency ID\\\",\\\"Type\\\":\\\"TEXT\\\",\\\"Value\\\":\\\"test133\\\",\\\"IsRequired\\\":true},{\\\"Name\\\":\\\"BranchID\\\",\\\"Label\\\":\\\"Branch ID\\\",\\\"Type\\\":\\\"TEXT\\\",\\\"Value\\\":\\\"test 1\\\",\\\"IsRequired\\\":true}]\"\r\n//    }\r\n//     ],\r\n//     \"fees\": [ \r\n//             {\r\n//                 \"type\": \"TechnologyFee\",\r\n//                 \"status\": \"active\", \r\n//                 \"details\": [\r\n//                     {\r\n//                         \"percentageValue\": 0, \r\n//                         \"fixedValue\": 6,\r\n//                         \"appliesTo\": [\r\n//                             \"ACH\"\r\n//                         ]\r\n//                     },\r\n//                     {\r\n//                         \"percentageValue\": 0, \r\n//                         \"fixedValue\": 6,\r\n//                         \"appliesTo\": [\r\n//                             \"CreditCard\",\r\n//                             \"DebitCard\"\r\n//                         ]\r\n//                     }\r\n//                 ]\r\n//             }\r\n//     ],\r\n//     \"payAuthStatements\": [\r\n//         {\r\n//             \"paymentMethod\": \"ACH\",  \r\n//             \"type\": \"PayInFull\",  \r\n//             \"body\": \"This is pas body\"\r\n//         }\r\n//     ]\r\n }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/secure/allies/merchants",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "secure",
                "allies",
                "merchants"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_001: Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate token is present and save to environment\r",
                  "pm.test(\"TC02 - Validate token is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"token\");\r",
                  "    pm.expect(jsonData.token).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"token\", jsonData.token);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate refreshToken is present and save to environment\r",
                  "pm.test(\"TC03 - Validate refreshToken is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"refreshToken\");\r",
                  "    pm.expect(jsonData.refreshToken).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate parentId is present and save to environment\r",
                  "pm.test(\"TC04 - Validate parentId is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"parentId\");\r",
                  "    pm.expect(jsonData.parentId).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC05 - Validate resellerId is present and save to environment\r",
                  "pm.test(\"TC05 - Validate resellerId is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"resellerId\");\r",
                  "    pm.expect(jsonData.resellerId).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "});\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "//OLD\r",
                  "\r",
                  "// // Standard validations\r",
                  "// let jsonData;\r",
                  "// try {\r",
                  "//     jsonData = pm.response.json();\r",
                  "// } catch (e) {\r",
                  "//     jsonData = {};\r",
                  "// }\r",
                  "\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "// // Store values from login (optional)\r",
                  "// if (jsonData.token) pm.environment.set(\"token\", jsonData.token);\r",
                  "// if (jsonData.refreshToken) pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "// if (jsonData.parentId) pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "// if (jsonData.resellerId) pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "// if (jsonData.merchantId) pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " //Dev\r\n// {\r\n//       \"userName\": \"AdminUser\",\r\n//       \"password\": \"AdminDev#242024\"\r\n//  }\r\n\r\n\r\n\r\n//QAT\r\n{\r\n\"userName\": \"SiddheshwarQAT\",\r\n\"password\": \"666#Qwertyuiop\"\r\n}\r\n\r\n// // //UAT\r\n\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_045: Verify that Ally can Retrieve list of sub merchant.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID2}}/merchants",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID2}}",
                "merchants"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_046: Verify that Ally can Create Secure payment intent",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var dynamicTitle = \"Title_\" + \r",
                  "pm.variables.replaceIn('{{$randomProduct}}') + \"_\"+ pm.variables.replaceIn('{{$randomInt}}');\r",
                  "pm.environment.set(\"paymentTitle\",dynamicTitle);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "key": "value",
                  "value": "{{env_merchantAccessKey}}",
                  "type": "string"
                },
                {
                  "key": "in",
                  "value": "header",
                  "type": "string"
                },
                {
                  "key": "key",
                  "value": "x-api-key",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "x-app-key",
                "value": "jxbgY08D",
                "type": "text"
              },
              {
                "key": "x-version",
                "value": "2.3",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "\r\n{\r\n    \"saveForFuture\": false,\r\n    \"title\": \"{{paymentTitle}}\",\r\n    \"shortDescription\": \"shortDescription\",\r\n    \"enablePremiumFinance\": false,\r\n    \"paymentDescription\": \"paymentDescription\",\r\n   \r\n    \"invoiceNumber\": \"AnddoneONLY\",\r\n    \"expiresIn\": \"30000\",\r\n\t\r\n\t\t\"Customers\": [ {\r\n         \"FirstName\" : \"Sidd\",\r\n         \"LastName\" : \"QAT Test\",\r\n         \"Email\" : \"sidd@yopmcail.com\",\r\n         \"Phone\" : \"8147593250\"\r\n     }\r\n     ],\r\n\t\t\"AdditionalDetailsPreference\": 2,\r\n   \r\n    \"pfr\": {\r\n        \"entity\": \"IPFS\",\r\n        \"reference\": \"Reference_test\",\r\n        \"paymentType\": \"OtherPayment\", //NA = 0, DownPayment = 1,InstallmentPayment = 2,FeePayment = 3, OtherPayment = 4\r\n        \"quote\": \"Q_1212\",\r\n        \"accountNumber\": \"1234567890\"\r\n    },\r\n    \"intent\": {\r\n        \"paymentTypes\": [\r\n            \"ACH\"\r\n           // \"CreditCard\",\r\n            //\"DebitCard\"\r\n        ]\r\n    },\r\n    \"amount\":990.00\r\n   }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/secure/paymentintents",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "secure",
                "paymentintents"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_091: Validate Split Payment not available in feature list for Allies",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// let response = pm.response.json();\r",
                  "// let features = response || []; // fallback if response is not array\r",
                  "\r",
                  "// // Extract only feature names\r",
                  "// let featureNames = features.map(f => f.name);\r",
                  "\r",
                  "// pm.test(\"Split Payment is not in applicable feature list\", function () {\r",
                  "//     pm.expect(featureNames).to.not.include(\"Split Payment\");\r",
                  "// });\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "\r",
                  "let response = pm.response.json();\r",
                  "let features = response || []; // fallback if response is not array\r",
                  "\r",
                  "// Extract only feature names\r",
                  "let featureNames = features.map(f => f.name);\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate 'Split Payment' is not in applicable feature list\r",
                  "pm.test(\"TC02 - Validate 'Split Payment' is not in applicable feature list\", function () {\r",
                  "    pm.expect(featureNames).to.not.include(\"Split Payment\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "x-version",
                "value": "2.1",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/features?usertype=5",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "features"
              ],
              "query": [
                {
                  "key": "usertype",
                  "value": "5"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_092: Validate that Split Payments feature is removed for all allies that had this feature as enabled",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// let response = pm.response.json();\r",
                  "\r",
                  "// // Always normalize into an array\r",
                  "// let features = Array.isArray(response) ? response : [response];\r",
                  "\r",
                  "// // Extract only feature names\r",
                  "// let featureNames = features.map(f => f.name);\r",
                  "\r",
                  "// pm.test(\"Split Payment is not in applicable feature list\", function () {\r",
                  "//     pm.expect(featureNames).to.not.include(\"Split Payment\");\r",
                  "// });\r",
                  "\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "let response = pm.response.json();\r",
                  "\r",
                  "// Always normalize into an array\r",
                  "let features = Array.isArray(response) ? response : [response];\r",
                  "\r",
                  "// Extract only feature names\r",
                  "let featureNames = features.map(f => f.name);\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate 'Split Payment' is not in applicable feature list\r",
                  "pm.test(\"TC02 - Validate 'Split Payment' is not in applicable feature list\", function () {\r",
                  "    pm.expect(featureNames).to.not.include(\"Split Payment\");\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/features",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "features"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Ally User Management",
      "item": [
        {
          "name": "STC_020: Login as ally",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// let jsonData = pm.response.json();\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.environment.set(\"token\", jsonData.token);\r",
                  "// pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "// pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "// pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "// pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "\r",
                  "\r",
                  "// pm.environment.set(\"Ally_User_ID\", jsonData.userId);\r",
                  "// pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Save response tokens and IDs to environment variables\r",
                  "pm.test(\"TC02 - Save response tokens and IDs to environment variables\", function () {\r",
                  "    pm.environment.set(\"token\", jsonData.token);\r",
                  "    pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "    pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "    pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "    pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "    pm.environment.set(\"Ally_User_ID\", jsonData.userId);\r",
                  "    pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " //Dev\r\n// {\r\n//       \"userName\": \"AdminUser\",\r\n//       \"password\": \"AdminDev#242024\"\r\n//  }\r\n\r\n\r\n\r\n//QAT-ally\r\n// {\r\n// \"userName\": \"TaylorVerma89\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }\r\n{\r\n\"userName\": \"AlexThomas2731\",\r\n\"password\": \"123#Qwertyuiop\"\r\n}\r\n// // //UAT\r\n\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_021: Verify that Ally can Create Ally User with Valid Data(BO)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "function generateUsername() {\r",
                  "    let firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Morgan\", \"Casey\", \"Riley\", \"Cameron\", \"Avery\", \"Dhanush\", \"Raj\", \"Vikram\", \"Karthik\", \"Arjun\", \"Sanjay\", \"Rohan\", \"Pranav\"];\r",
                  "    let lastNames = [\"Smith\", \"Johnson\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Anderson\", \"Thomas\", \"Sharma\", \"Verma\", \"Iyer\", \"Reddy\", \"Menon\", \"Patel\", \"Nair\", \"Mehta\"];\r",
                  "    \r",
                  "    let firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\r",
                  "    let lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\r",
                  "    let randomNumber = Math.floor(1000 + Math.random() * 9000); // Random 4-digit number\r",
                  "\r",
                  "    return `${firstName}${lastName}${randomNumber}`;\r",
                  "}\r",
                  "\r",
                  "let randomUsername = generateUsername();\r",
                  "pm.environment.set(\"random_username\", randomUsername);\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 3000); // 2-second delay\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "// let jsonData = pm.response.json();\r",
                  "\r",
                  "// pm.environment.set(\"Ally_User_ID\", jsonData.id);\r",
                  "// pm.environment.set(\"Ally_User_uname\", jsonData.userName);\r",
                  "\r",
                  "// pm.test(\"Status code is 201\", function () {\r",
                  "//     pm.response.to.have.status(201);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "///NEW\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 201\r",
                  "pm.test(\"TC01 - Validate status code is 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Save user ID and username to environment variables\r",
                  "pm.test(\"TC02 - Save user ID and username to environment variables\", function () {\r",
                  "    pm.environment.set(\"Ally_User_ID\", jsonData.id);\r",
                  "    pm.environment.set(\"Ally_User_uname\", jsonData.userName);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"userName\": \"{{random_username}}\",\r\n    \"userType\": 5,\r\n    \"contact\": {\r\n        \"name\": {\r\n            \"firstName\": \"{{$randomFirstName}}\",\r\n            \"lastName\": \"{{$randomLastName}}\"\r\n        },\r\n        \"phone\": \"9028303090\",\r\n        \"email\": \"{{$randomFirstName}}@yopmail.com\",\r\n        \"address\": {\r\n            \"addressLine1\": \"33 Washington Square W\",\r\n            \"addressLine2\": \"NYC\",\r\n            \"city\": \"New york\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"62701\"\r\n        }\r\n    },\r\n    \"isAdmin\":true,\r\n    \"parentId\": \"{{AID}}\",// parentId and allies ID should be same\r\n    \"userAuthenticationType\" : \"1\" //or APIOnly, beareronly\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_022: Verify that an AndDone Admin can successfully update the details of an Ally user",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "// Function to generate a random username with minimum 7 characters\r",
                  "function generateUsername(length) {\r",
                  "    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklnopq123454678';\r",
                  "    let username = '';\r",
                  "    for (let i = 0; i < length; i++) {\r",
                  "        username += chars.charAt(Math.floor(Math.random() * chars.length));\r",
                  "    }\r",
                  "    return username;\r",
                  "}\r",
                  "\r",
                  "// Ensure the username has a minimum of 7 characters\r",
                  "const usernameLength = Math.max(7, Math.floor(Math.random() * 3 + 7)); // Random length between 7 and 16\r",
                  "const randomUsername = generateUsername(usernameLength);\r",
                  "\r",
                  "// Set the username in the environment variable\r",
                  "pm.environment.set(\"randomUsername\", randomUsername);\r",
                  "\r",
                  "// Log for debugging\r",
                  "console.log(\"Generated Username:\", randomUsername);\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_widget}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"id\": \"{{Ally_User_ID}}\",\r\n    \"userName\": \"{{Ally_User_uname}}\",\r\n    \"userType\": 5,\r\n    \"contact\": {\r\n        \"name\": {\r\n            \"title\": null,\r\n            \"firstName\": \"{{$randomFirstName}}\",\r\n            \"middleName\": null,\r\n            \"lastName\": \"{{$randomLastName}}\"\r\n        },\r\n        \"companyName\": null,\r\n        \"department\": null,\r\n        \"fax\": null,\r\n        \"phone\": \"9028303090\",\r\n        \"alternatePhone\": null,\r\n        \"mobile\": null,\r\n        \"email\": \"{{$randomFirstName}}@yopmail.com\",\r\n        \"url\": null,\r\n        \"address\": {\r\n            \"addressLine1\": \"33 Washington Square W\",\r\n            \"addressLine2\": \"NYC\",\r\n            \"city\": \"New york\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"62701\",\r\n            \"timeZone\": null\r\n        }\r\n    },\r\n    \r\n    \"isAdmin\": true,\r\n    \"parentId\": \"{{AID}}\",   \r\n    \"timeZone\": null,\r\n    \"userAuthenticationType\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users/{{Ally_User_ID}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users",
                "{{Ally_User_ID}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_023: Verify that Ally can Create Ally User with Valid Data(AP)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "\r",
                  "\r",
                  "function generateUsername() {\r",
                  "    let firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Morgan\", \"Casey\", \"Riley\", \"Cameron\", \"Avery\", \"Dhanush\", \"Raj\", \"Vikram\", \"Karthik\", \"Arjun\", \"Sanjay\", \"Rohan\", \"Pranav\"];\r",
                  "    let lastNames = [\"Smith\", \"Johnson\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Anderson\", \"Thomas\", \"Sharma\", \"Verma\", \"Iyer\", \"Reddy\", \"Menon\", \"Patel\", \"Nair\", \"Mehta\"];\r",
                  "    \r",
                  "    let firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\r",
                  "    let lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\r",
                  "    let randomNumber = Math.floor(1000 + Math.random() * 9000); // Random 4-digit number\r",
                  "\r",
                  "    return `${firstName}${lastName}${randomNumber}`;\r",
                  "}\r",
                  "\r",
                  "let randomUsername = generateUsername();\r",
                  "pm.environment.set(\"random_username\", randomUsername);\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 5000); // 2-second delay\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "// let jsonData = pm.response.json();\r",
                  "\r",
                  "// pm.environment.set(\"Ally_User_ID\", jsonData.id);\r",
                  "// pm.environment.set(\"Ally_User_uname\", jsonData.userName);\r",
                  "\r",
                  "\r",
                  "// pm.test(\"Status code is 201\", function () {\r",
                  "//     pm.response.to.have.status(201);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 201\r",
                  "pm.test(\"TC01 - Validate status code is 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Save user ID and username to environment variables\r",
                  "pm.test(\"TC02 - Validate and save user ID and username to environment variables\", function () {\r",
                  "    pm.environment.set(\"Ally_User_ID\", jsonData.id);\r",
                  "    pm.environment.set(\"Ally_User_uname\", jsonData.userName);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"userName\": \"{{random_username}}\",\r\n    \"userType\": 5,\r\n    \"contact\": {\r\n        // \"name\": {\r\n        //     \"firstName\": \"{{$randomFirstName}}\",\r\n        //     \"lastName\": \"{{$randomLastName}}\"\r\n        // },\r\n        \"phone\": \"9028303090\",\r\n        \"email\": \"{{$randomFirstName}}@yopmail.com\",\r\n        \"address\": {\r\n            \"addressLine1\": \"33 Washington Square W\",\r\n            \"addressLine2\": \"NYC\",\r\n            \"city\": \"New york\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"62701\"\r\n        }\r\n    },\r\n    \"isAdmin\":true,\r\n    \"parentId\": \"{{AID}}\",// parentId and allies ID should be same\r\n    \"userAuthenticationType\" : \"2\" //or APIOnly, beareronly\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_024: Verify that an AndDone Admin can successfully update the details of an Ally user(APIkey)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_widget}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"id\": \"{{Ally_User_ID}}\",\r\n    \"userName\": \"{{Ally_User_uname}}\",\r\n    \"userType\": 5,\r\n    \"contact\": {\r\n        \r\n       \r\n        \"phone\": \"9028303080\",\r\n        \"alternatePhone\": null,\r\n        \"mobile\": null,\r\n        \"email\": \"Bradford213@yopmail.com\",\r\n        \"url\": null,\r\n        \"address\": {\r\n            \"addressLine1\": \"33 Washington Square W\",\r\n            \"addressLine2\": \"NYC\",\r\n            \"city\": \"New york\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"62701\",\r\n            \"timeZone\": null\r\n        }\r\n    },\r\n    \r\n    \"isAdmin\": true,\r\n    \"invalidLoginAttempts\": 0,\r\n    \"roleId\": null,\r\n    \"parentId\": \"{{AID}}\",\r\n     \"userAuthenticationType\": 2\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users/{{Ally_User_ID}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users",
                "{{Ally_User_ID}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_025: Verify that Ally can Create Ally User with Valid Data(BearerAndAPI)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "\r",
                  "\r",
                  "function generateUsername() {\r",
                  "    let firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Morgan\", \"Casey\", \"Riley\", \"Cameron\", \"Avery\", \"Dhanush\", \"Raj\", \"Vikram\", \"Karthik\", \"Arjun\", \"Sanjay\", \"Rohan\", \"Pranav\"];\r",
                  "    let lastNames = [\"Smith\", \"Johnson\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Anderson\", \"Thomas\", \"Sharma\", \"Verma\", \"Iyer\", \"Reddy\", \"Menon\", \"Patel\", \"Nair\", \"Mehta\"];\r",
                  "    \r",
                  "    let firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\r",
                  "    let lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\r",
                  "    let randomNumber = Math.floor(1000 + Math.random() * 9000); // Random 4-digit number\r",
                  "\r",
                  "    return `${firstName}${lastName}${randomNumber}`;\r",
                  "}\r",
                  "\r",
                  "let randomUsername = generateUsername();\r",
                  "pm.environment.set(\"random_username\", randomUsername);\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// let jsonData = pm.response.json();\r",
                  "\r",
                  "// pm.environment.set(\"Ally_User_ID\", jsonData.id);\r",
                  "// pm.environment.set(\"Ally_User_uname\", jsonData.userName);\r",
                  "\r",
                  "// pm.test(\"Status code is 201\", function () {\r",
                  "//     pm.response.to.have.status(201);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "//new\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 201\r",
                  "pm.test(\"TC01 - Validate status code is 201\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate and save user ID and username to environment variables\r",
                  "pm.test(\"TC02 - Validate and save user ID and username to environment variables\", function () {\r",
                  "    pm.environment.set(\"Ally_User_ID\", jsonData.id);\r",
                  "    pm.environment.set(\"Ally_User_uname\", jsonData.userName);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"userName\": \"{{random_username}}\",\r\n    \"userType\": 5,\r\n  \"userAuthenticationType\": 3, //new field NA=0,BearerOnly=1,APIOnly=2,\tBearerAndAPI=3\r\n    \"contact\": {\r\n        \"name\": {\r\n            \"firstName\": \"{{$randomFirstName}}\",\r\n            \"lastName\": \"{{$randomLastName}}\"\r\n        },\r\n        \"phone\": \"9028303080\",\r\n        \"email\": \"{{$randomFirstName}}@yopmail.com\",\r\n        \"address\": {\r\n            \"addressLine1\": \"33 Washington Square W\",\r\n            \"addressLine2\": \"NYC\",\r\n            \"city\": \"New york\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"62701\"\r\n        }\r\n    },\r\n    \"isAdmin\":true,\r\n    \"parentId\": \"{{AID}}\"// parentId and allies ID should be same\r\n  \r\n}\r\n\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_026: Verify that an AndDone Admin can successfully update the details of an Ally user",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_widget}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"id\": \"{{Ally_User_ID}}\",\r\n    \"userName\": \"{{Ally_User_uname}}\",\r\n    \"userType\": 5,\r\n    \"contact\": {\r\n        \"name\": {\r\n            \"title\": null,\r\n            \"firstName\": \"Lilyan\",\r\n            \"middleName\": null,\r\n            \"lastName\": \"Rice\"\r\n        },\r\n        \"companyName\": null,\r\n        \"department\": null,\r\n        \"fax\": null,\r\n     \"phone\": \"9028300000\",\r\n        \"alternatePhone\": null,\r\n        \"mobile\": null,\r\n        \"email\": \"Deshaun@yopmail.com\",\r\n        \"url\": null,\r\n        \"address\": {\r\n            \"addressLine1\": \"33 Washington Square W\",\r\n            \"addressLine2\": \"NYC\",\r\n            \"city\": \"New york\",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"62700\",\r\n            \"timeZone\": null\r\n        }\r\n    },\r\n    \r\n    \"isAdmin\": true,\r\n    \r\n    \"parentId\": \"{{AID}}\",\r\n    \"timeZone\": null,\r\n    \"userAuthenticationType\": 3\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users/{{Ally_User_ID}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users",
                "{{Ally_User_ID}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_027: Verify the admin retrieve all Ally user details.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_028: Verify the admin can retrieve Ally Details by valid Ally user ID.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users/{{Ally_User_ID}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users",
                "{{Ally_User_ID}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_029: Verify that an Ally user is successfully activated.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 3000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users/{{Ally_User_ID}}/activations",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users",
                "{{Ally_User_ID}}",
                "activations"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_036: Verify that an Ally user is successfully deactivated.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/users/{{Ally_User_ID}}/activations",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "users",
                "{{Ally_User_ID}}",
                "activations"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_030: Verify that the Ally user Login to Ally Portal",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  " let jsonData = pm.response.json();\r",
                  "pm.environment.set(\"token\", jsonData.token);\r",
                  "pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "\r",
                  "\r",
                  "\r",
                  "pm.environment.set(\"USID\", jsonData.refreshToken);\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_widget}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "// {\r\n//      \"userName\": \"poaUUiA\",\r\n//      \"password\": \"123#Qwertyuiop\"\r\n//  }\r\n{\r\n    \"username\": \"MorganThomas4502\",\r\n    \"password\": \"MorganThomas@4502\"\r\n}\r\n// {\r\n//     \"username\": \"OTgUlfxOPlrHjvU\",\r\n//     \"password\": \"11\"\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_031: Verify that the Ally user can Refresh Bearer Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 1000); // 1-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_portal}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"refreshToken\": \"{{USID}}\"\r\n}\r\n\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions/refresh",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions",
                "refresh"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_035: Verify that the Ally user Log out to Ally Portal",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 1000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_portal}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_032: Verify that the Ally user Login to Ally Portal(APIKEY)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  " let jsonData = pm.response.json();\r",
                  "pm.environment.set(\"token\", jsonData.token);\r",
                  "pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "\r",
                  "\r",
                  "\r",
                  "pm.environment.set(\"USID\", jsonData.refreshToken);\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "pm.environment.set(\"Ally_User_ID\", jsonData.userId);\r",
                  "pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_widget}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "////UAT\r\n//  {\r\n//     \"username\": \"ArjunMehta4195\",\r\n//     \"password\": \"123#Qwertyuiop\"\r\n//  }\r\n// QAT\r\n// {\r\n//     \"username\": \"SiddheshwarQAT\",\r\n//     \"password\": \"666#Qwertyuiop\"\r\n// }\r\n{\r\n    \"username\": \"RutherMartin9098\",\r\n    \"password\": \"123#Qwertyuiop\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        }
      ],
      "description": "As an AndDone Ally User,\n\nI would like to be able to create a new Ally User\n\nso that I can extend the access to Ally portal to new users."
    },
    {
      "name": "PAYMENTS and PAYMENT DETAILS",
      "item": [
        {
          "name": "Ally Payment",
          "item": [
            {
              "name": "1. AndDone JS: Ally",
              "item": [
                {
                  "name": "ACH Payment",
                  "item": [
                    {
                      "name": "STC_001: Login Admin",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "// let jsonData = pm.response.json();\r",
                              "// pm.test(\"Status code is 200\", function () {\r",
                              "//     pm.response.to.have.status(200);\r",
                              "// });\r",
                              "// pm.environment.set(\"token\", jsonData.token);\r",
                              "// pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                              "// pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                              "// pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                              "// pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                              "\r",
                              "// NEW\r",
                              "let jsonData = pm.response.json();\r",
                              "\r",
                              "// ✅ TC01 - Validate status code is 200\r",
                              "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                              "    pm.response.to.have.status(200);\r",
                              "});\r",
                              "\r",
                              "// ✅ TC02 - Validate presence of essential fields in response\r",
                              "pm.test(\"TC02 - Validate presence of essential fields in response\", function () {\r",
                              "    pm.expect(jsonData).to.have.property(\"token\");\r",
                              "    pm.expect(jsonData).to.have.property(\"refreshToken\");\r",
                              "    pm.expect(jsonData).to.have.property(\"parentId\");\r",
                              "    pm.expect(jsonData).to.have.property(\"resellerId\");\r",
                              "    pm.expect(jsonData).to.have.property(\"merchantId\");\r",
                              "});\r",
                              "\r",
                              "// ✅ TC03 - Save tokens and IDs to environment variables\r",
                              "pm.test(\"TC03 - Save tokens and IDs to environment variables\", function () {\r",
                              "    pm.environment.set(\"token\", jsonData.token);\r",
                              "    pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                              "    pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                              "    pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                              "    pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                              "});\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "method": "POST",
                        "header": [
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": " //Dev\r\n// {\r\n//       \"userName\": \"AdminUser\",\r\n//       \"password\": \"AdminDev#242024\"\r\n//  }\r\n\r\n\r\n\r\n//QAT\r\n{\r\n\"userName\": \"SiddheshwarQAT\",\r\n\"password\": \"666#Qwertyuiop\"\r\n}\r\n\r\n// // //UAT\r\n\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/users/sessions",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "users",
                            "sessions"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_058: Verify the ally user can fetch the API key information.",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "// let jsonData = pm.response.json();\r",
                              "// pm.test(\"Status code is 200\", function () {\r",
                              "//     pm.response.to.have.status(200);\r",
                              "// });\r",
                              "// // Access the first item in the array and get keyValue\r",
                              "// if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].keyValue) {\r",
                              "//     pm.environment.set(\"env_merchantAccessKey1\", jsonData[0].keyValue);\r",
                              "//     console.log(\"Saved env_merchantAccessKey1:\", jsonData[0].keyValue);\r",
                              "// } else {\r",
                              "//     console.log(\"keyValue not found or array is empty:\", jsonData);\r",
                              "// }\r",
                              "\r",
                              "\r",
                              "//NEW\r",
                              "let jsonData = pm.response.json();\r",
                              "\r",
                              "// ✅ TC01 - Validate status code is 200\r",
                              "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                              "    pm.response.to.have.status(200);\r",
                              "});\r",
                              "\r",
                              "// ✅ TC02 - Validate and extract merchant access key\r",
                              "pm.test(\"TC02 - Extract and save merchant access key if available\", function () {\r",
                              "    if (Array.isArray(jsonData) && jsonData.length > 0 && jsonData[0].keyValue) {\r",
                              "        let accessKey = jsonData[0].keyValue;\r",
                              "        pm.environment.set(\"env_merchantAccessKey1\", accessKey);\r",
                              "        console.log(\"✅ Saved env_merchantAccessKey1:\", accessKey);\r",
                              "    } else {\r",
                              "        console.warn(\"⚠️ keyValue not found or response array is empty:\", jsonData);\r",
                              "    }\r",
                              "});\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 1000); // 2-second delay\r",
                              "\r",
                              "\r",
                              "\r",
                              "//{\r",
                              "//Normal report   \r",
                              "\r",
                              "//   \"id\": \"Blx3ZKv1\", \r",
                              "\r",
                              "//     \"name\": \"Homenick - Jacobs\", \r",
                              "\r",
                              "// \"email\": \"Mona@yopmail.com \r",
                              "\r",
                              "// \"adminUserName\": \"TaylorVerma89\" \r",
                              "\r",
                              "// 123#Qwertyuiop \r",
                              "\r",
                              "\r",
                              "\r",
                              "//allyuserAPi-jdeaB4dz\r",
                              "\r",
                              "// FD6TkVFeP3VkJjPG4N1i/FoqINmrhMlQgSsrjmIMwi8= \r",
                              "//}"
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "protocolProfileBehavior": {
                        "disableBodyPruning": true
                      },
                      "request": {
                        "auth": {
                          "type": "bearer",
                          "bearer": [
                            {
                              "key": "token",
                              "value": "{{token}}",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "GET",
                        "header": [
                          {
                            "key": "Origin",
                            "value": "{{origin_admin}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "",
                          "options": {
                            "raw": {
                              "language": "text"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/allies/{{AID3}}/users/{{Ally_User_ID1}}/keys",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "allies",
                            "{{AID3}}",
                            "users",
                            "{{Ally_User_ID1}}",
                            "keys"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_075: Verify that Ally can retrieve all submerchants for an Ally.",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "\r",
                              "// let jsonData = pm.response.json();\r",
                              "\r",
                              "// if (jsonData.data && jsonData.data.length >= 2) {\r",
                              "//     pm.environment.set(\"merchantId1\", jsonData.data[0].merchantId);\r",
                              "//     pm.environment.set(\"merchantId2\", jsonData.data[1].merchantId);\r",
                              "\r",
                              "//     console.log(\"Saved merchantId1:\", jsonData.data[0].merchantId);\r",
                              "//     console.log(\"Saved merchantId2:\", jsonData.data[1].merchantId);\r",
                              "// }\r",
                              "// pm.test(\"Status code is 200\", function () {\r",
                              "//     pm.response.to.have.status(200);\r",
                              "// });\r",
                              "\r",
                              "\r",
                              "\r",
                              "let jsonData = pm.response.json();\r",
                              "\r",
                              "// ✅ TC01 - Validate status code is 200\r",
                              "pm.test(\"TC01 - Status code is 200\", function () {\r",
                              "    pm.response.to.have.status(200);\r",
                              "});\r",
                              "\r",
                              "// ✅ TC02 - Extract and save first two merchant IDs\r",
                              "pm.test(\"TC02 - Extract and save merchant IDs if available\", function () {\r",
                              "    if (jsonData.data && Array.isArray(jsonData.data) && jsonData.data.length >= 2) {\r",
                              "        let merchantId1 = jsonData.data[0].merchantId;\r",
                              "        let merchantId2 = jsonData.data[1].merchantId;\r",
                              "\r",
                              "        pm.environment.set(\"merchantId1\", merchantId1);\r",
                              "        pm.environment.set(\"merchantId2\", merchantId2);\r",
                              "\r",
                              "        console.log(\"✅ Saved merchantId1:\", merchantId1);\r",
                              "        console.log(\"✅ Saved merchantId2:\", merchantId2);\r",
                              "    } else {\r",
                              "        console.warn(\"⚠️ Response does not contain at least 2 merchant entries:\", jsonData);\r",
                              "    }\r",
                              "});\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "in",
                              "value": "header",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "Origin",
                            "value": "{{origin_admin}}",
                            "type": "text"
                          },
                          {
                            "key": "x-api-key",
                            "value": "w46d4rf/YKjp6J6PodGl+TmvnFgxvh4+Ds8UgXd00Ps=",
                            "type": "text",
                            "disabled": true
                          }
                        ],
                        "url": {
                          "raw": "{{BaseURL}}/secure/allies/merchants/search",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "secure",
                            "allies",
                            "merchants",
                            "search"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_047: Verify that Ally can create a Secure Payment Intent",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "let jsonData = pm.response.json();\r",
                              "pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "\r",
                              "pm.test(\"Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "\r",
                              "// let jsonData = pm.response.json();\r",
                              "\r",
                              "// // ✅ TC01 - Validate status code\r",
                              "// pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "// // ✅ TC02 - Extract and save paymentToken\r",
                              "// pm.test(\"TC02 - Extract and save paymentToken\", function () {\r",
                              "//     pm.expect(jsonData).to.have.property(\"paymentToken\");\r",
                              "//     pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "//     console.log(\"✅ Saved env_paymentToken:\", jsonData.paymentToken);\r",
                              "// });\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "\r",
                              "var dynamicTitle = \"Title_\" + \r",
                              "pm.variables.replaceIn('{{$randomProduct}}') + \"_\"+ pm.variables.replaceIn('{{$randomInt}}');\r",
                              "pm.environment.set(\"paymentTitle\",dynamicTitle);\r",
                              "\r",
                              "\r",
                              "const min = 500;\r",
                              "const max = 2000;\r",
                              "const randomAmount = Math.floor(Math.random() * (max - min + 1)) + min;\r",
                              "\r",
                              "// Set it as an environment or global variable\r",
                              "pm.environment.set(\"randomAmount\", randomAmount);\r",
                              "\r",
                              "\r",
                              "\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-app-key",
                            "value": "{{merchantId1}}",
                            "type": "text"
                          },
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "// public enum ReferenceType\r\n//     {\r\n//         QuoteId = 1,\r\n//         AccountNumber = 2,\r\n//         PolicyNumber = 3,\r\n//         InvoiceNumber = 4,\r\n//         Other = 5\r\n//     }\r\n{\r\n    \"saveForFuture\": false,\r\n    \"title\": \"{{paymentTitle}}\",\r\n     \"suppressTechnologyFee\": false,\r\n  //   \"overrideTechnologyFee\": \"2.0\",\r\n    \"shortDescription\": \"shortDescription\",\r\n    \"enablePremiumFinance\": false,\r\n    \"paymentDescription\": \"paymentDescription\",\r\n    // \"suppressTechnologyFee\": false,\r\n    // \"overrideTechnologyFee\": 15.5,\r\n    \"invoiceNumber\": \"AnddoneONLY\",\r\n    \"expiresIn\": \"3000\",\r\n\t// \"referenceDataList\": [   \r\n    //     {\r\n    //            \"referenceType\": \"1\",\r\n    //            \"referenceKey\": \"\",\r\n    //            \"referenceNumber\": \"Q-4835| Q-5454| Q-3233\"\r\n    //     },\r\n    //     {\r\n    //            \"referenceType\": \"5\",\r\n    //            \"referenceKey\": \"AccountNumber\",\r\n    //            \"referenceNumber\": \"A-4835| A-5454| A-3233\"\r\n    //     }\r\n    // ],\r\n\t\t\"Customers\": [ {\r\n         \"FirstName\" : \"Vera\",\r\n         \"LastName\" : \"twovirtual\",\r\n         \"Email\" : \"API@yopmail.com\",\r\n         \"Phone\" : \"8123293250\"\r\n     }\r\n     ],\r\n\t\t\"AdditionalDetailsPreference\": 2,\r\n    // \"selectedCustomerFields\": \"First Name,Last Name,Email,Phone Number\",\r\n    // \"pfr\": {\r\n    //     \"entity\": \"IPFS\",\r\n    //     \"reference\": \"Reference_test\",\r\n    //     \"paymentType\": \"OtherPayment\", //NA = 0, DownPayment = 1,InstallmentPayment = 2,FeePayment = 3, OtherPayment = 4\r\n    //     \"quote\": \"Q_1212\",\r\n    //     \"accountNumber\": \"123456\"\r\n    // },\r\n\r\n   \r\n\r\n    \r\n    \"intent\": {\r\n        \"paymentTypes\": [\r\n        \"ACH\",\r\n        \"CreditCard\"\r\n          // \"DebitCard\"\r\n        ]\r\n    },\r\n    \"amount\": {{randomAmount}}\r\n    // \"amount\": 1300.00\r\n    //  \"Splits\": \r\n    //  [\r\n    //     {\r\n    //         \"VirtualAccount\": \"virtual_test02\",\r\n    //         \"Amount\": 75,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //     },\r\n    //     {\r\n    //         \"VirtualAccount\": \"virtual_test01\",\r\n    //         \"Amount\": 50,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //     },\r\n    //     {\r\n    //         \"VirtualAccount\": \"IPFS_Default\",\r\n    //         \"Amount\": 75,\r\n    //         \"Reference\": \"null\"\r\n    //     },\r\n    //     {\r\n    //         \"VirtualAccount\": \"AndDone_Default\",\r\n    //         \"Amount\": 50,\r\n    //         \"Reference\": \"null\"\r\n    //     }\r\n    // ]\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/secure/paymentintents",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "secure",
                            "paymentintents"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_048: Verify that Ally can create ACH Transaction",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "pm.test(\"Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "\r",
                              "pm.test(\"Body matches string\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "});\r",
                              "pm.test(\"Body matches string\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "});\r",
                              "\r",
                              "pm.test(\"Body matches string\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"allyId\");\r",
                              "});\r",
                              "\r",
                              "\r",
                              "// //NEW\r",
                              "// // ✅ TC01 - Validate status code\r",
                              "// pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "// // ✅ TC02 - Validate response body includes key fields\r",
                              "// pm.test(\"TC02 - Response body contains user-related keys\", function () {\r",
                              "//     const responseText = pm.response.text();\r",
                              "\r",
                              "//     pm.expect(responseText).to.include(\"userId\");\r",
                              "//     pm.expect(responseText).to.include(\"username\");\r",
                              "//     pm.expect(responseText).to.include(\"allyId\");\r",
                              "// });\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "in",
                              "value": "header",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          },
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "x-app-key",
                            "value": "{{merchantId1}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"token\": \"{{env_paymentToken}}\",\r\n    \"transactionCode\": \"WEB\",\r\n    \"channelType\": \"ACH\",\r\n    \"tenderInfo\": {\r\n        \"AccountHolderName\": \"reference\",\r\n        \"routingNumber\": \"011000138\",\r\n        \"bankName\": \"JPMorgan Chase\",\r\n        \"accountNumber\": \"123456789667\",\r\n        \"removeDiscounting\": false,\r\n        \"taxAmount\": 0,\r\n        \"createAccountToken\": false,\r\n        \"accountType\": \"cuurent65\"\r\n        \r\n    },\r\n    \"billingcontact\": {\r\n        \"name\": {\r\n            \"firstname\": \"Monticello\",\r\n            \"lastname\": \"Twovirtual\"\r\n        },\r\n        \"address\": {\r\n            \"addressLine1\": \"41\",\r\n            \"addressLine2\": \"Anawana Lake Road\",\r\n            \"city\": \"Monticello\",\r\n            \"state\": \"AK\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"12701\"\r\n        }\r\n    },\r\n    \"type\": \"PaymentIntent\"\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/payments",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "payments"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_089: Verify that Ally can create a Secure Payment Intent for VirtualAccount",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "// let jsonData = pm.response.json();\r",
                              "// pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "\r",
                              "// pm.test(\"Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"virtualAccount\");\r",
                              "// });\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"splits\");\r",
                              "// });\r",
                              "\r",
                              "\r",
                              "let jsonData = pm.response.json();\r",
                              "\r",
                              "// ✅ Save payment token\r",
                              "if (jsonData.paymentToken) {\r",
                              "    pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "    console.log(\"✅ Saved env_paymentToken:\", jsonData.paymentToken);\r",
                              "} else {\r",
                              "    console.warn(\"⚠️ paymentToken not found in response\");\r",
                              "}\r",
                              "\r",
                              "// ✅ TC01 - Validate status code\r",
                              "pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "// ✅ TC02 - Validate response body contains key fields\r",
                              "pm.test(\"TC02 - Response body includes expected keys\", function () {\r",
                              "    const responseText = pm.response.text();\r",
                              "\r",
                              "    pm.expect(responseText).to.include(\"virtualAccount\");\r",
                              "    pm.expect(responseText).to.include(\"splits\");\r",
                              "});\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "\r",
                              "var dynamicTitle = \"Title_\" + \r",
                              "pm.variables.replaceIn('{{$randomProduct}}') + \"_\"+ pm.variables.replaceIn('{{$randomInt}}');\r",
                              "pm.environment.set(\"paymentTitle\",dynamicTitle);\r",
                              "\r",
                              "\r",
                              "const min = 500;\r",
                              "const max = 2000;\r",
                              "const randomAmount = Math.floor(Math.random() * (max - min + 1)) + min;\r",
                              "\r",
                              "// Set it as an environment or global variable\r",
                              "pm.environment.set(\"randomAmount\", randomAmount);\r",
                              "\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              "\r",
                              "\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "dXVD7/KL8/wt1jM8iVUGuEwtTEmk4Ql5XB+O/dWE6ug=",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-app-key",
                            "value": "jxbYYrvD",
                            "type": "text"
                          },
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "// public enum ReferenceType\r\n//     {\r\n//         QuoteId = 1,\r\n//         AccountNumber = 2,\r\n//         PolicyNumber = 3,\r\n//         InvoiceNumber = 4,\r\n//         Other = 5\r\n//     }\r\n{\r\n    \"saveForFuture\": false,\r\n    \"title\": \"{{paymentTitle}}\",\r\n     \"suppressTechnologyFee\": false,\r\n  //   \"overrideTechnologyFee\": \"2.0\",\r\n    \"shortDescription\": \"shortDescription\",\r\n    \"enablePremiumFinance\": false,\r\n    \"paymentDescription\": \"paymentDescription\",\r\n    // \"suppressTechnologyFee\": false,\r\n    // \"overrideTechnologyFee\": 15.5,\r\n    \"invoiceNumber\": \"AnddoneONLY\",\r\n    \"expiresIn\": \"3000\",\r\n\t// \"referenceDataList\": [   \r\n    //     {\r\n    //            \"referenceType\": \"1\",\r\n    //            \"referenceKey\": \"\",\r\n    //            \"referenceNumber\": \"Q-4835| Q-5454| Q-3233\"\r\n    //     },\r\n    //     {\r\n    //            \"referenceType\": \"5\",\r\n    //            \"referenceKey\": \"AccountNumber\",\r\n    //            \"referenceNumber\": \"A-4835| A-5454| A-3233\"\r\n    //     }\r\n    // ],\r\n\t\t\"Customers\": [ {\r\n         \"FirstName\" : \"Vera\",\r\n         \"LastName\" : \"twovirtual\",\r\n         \"Email\" : \"API@yopmail.com\",\r\n         \"Phone\" : \"8123293250\"\r\n     }\r\n     ],\r\n\t\t\"AdditionalDetailsPreference\": 2,\r\n    // \"selectedCustomerFields\": \"First Name,Last Name,Email,Phone Number\",\r\n    // \"pfr\": {\r\n    //     \"entity\": \"IPFS\",\r\n    //     \"reference\": \"Reference_test\",\r\n    //     \"paymentType\": \"OtherPayment\", //NA = 0, DownPayment = 1,InstallmentPayment = 2,FeePayment = 3, OtherPayment = 4\r\n    //     \"quote\": \"Q_1212\",\r\n    //     \"accountNumber\": \"123456\"\r\n    // },\r\n\r\n   \r\n   \r\n     //   \"keyValue\": \"dXVD7/KL8/wt1jM8iVUGuEwtTEmk4Ql5XB+O/dWE6ug=\", MID- jxbYYrvD\r\n\r\n    \r\n    \"intent\": {\r\n        \"paymentTypes\": [\r\n        \"ACH\",\r\n        \"CreditCard\"\r\n          // \"DebitCard\"\r\n        ]\r\n    },\r\n    \"amount\": {{randomAmount}},\r\n    // \"amount\": 1300.00\r\n     \"Splits\": \r\n     [\r\n    //     {\r\n    //         \"VirtualAccount\": \"virtual_test02\",\r\n    //         \"Amount\": 75,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //     },\r\n    //     {\r\n    //         \"VirtualAccount\": \"virtual_test01\",\r\n    //         \"Amount\": 50,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //     },\r\n        {\r\n            \"VirtualAccount\": \"IPFS_Default\",\r\n            \"Amount\": 75,\r\n            \"Reference\": \"null\"\r\n        },\r\n        {\r\n            \"VirtualAccount\": \"AndDone_Default\",\r\n            \"Amount\": 50,\r\n            \"Reference\": \"null\"\r\n        }\r\n    ]\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/secure/paymentintents",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "secure",
                            "paymentintents"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_090: Verify that Ally can create a ACH Transaction for VirtualAccount",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "// pm.test(\"Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "// });\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "// });\r",
                              "\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"allyId\");\r",
                              "// });\r",
                              "\r",
                              "\r",
                              "//NEW\r",
                              "// ✅ TC01 - Validate response status\r",
                              "pm.test(\"TC01 - Validate status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "// ✅ TC02 - Validate response contains 'userId'\r",
                              "pm.test(\"TC02 - Validate response includes 'userId'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "});\r",
                              "\r",
                              "// ✅ TC03 - Validate response contains 'username'\r",
                              "pm.test(\"TC03 - Validate response includes 'username'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "});\r",
                              "\r",
                              "// ✅ TC04 - Validate response contains 'allyId'\r",
                              "pm.test(\"TC04 - Validate response includes 'allyId'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"allyId\");\r",
                              "});\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey}}",
                              "type": "string"
                            },
                            {
                              "key": "in",
                              "value": "header",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          },
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "x-app-key",
                            "value": "jxbYYrvD",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"token\": \"{{env_paymentToken}}\",\r\n    \"transactionCode\": \"WEB\",\r\n    \"channelType\": \"ACH\",\r\n    \"tenderInfo\": {\r\n        \"AccountHolderName\": \"reference\",\r\n        \"routingNumber\": \"011000138\",\r\n        \"bankName\": \"JPMorgan Chase\",\r\n        \"accountNumber\": \"123456789667\",\r\n        \"removeDiscounting\": false,\r\n        \"taxAmount\": 0,\r\n        \"createAccountToken\": false,\r\n        \"accountType\": \"cuurent65\"\r\n        \r\n    },\r\n    \"billingcontact\": {\r\n        \"name\": {\r\n            \"firstname\": \"Monticello\",\r\n            \"lastname\": \"Twovirtual\"\r\n        },\r\n        \"address\": {\r\n            \"addressLine1\": \"41\",\r\n            \"addressLine2\": \"Anawana Lake Road\",\r\n            \"city\": \"Monticello\",\r\n            \"state\": \"AK\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"12701\"\r\n        }\r\n    },\r\n    \"type\": \"PaymentIntent\"\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/payments",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "payments"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_080: Verify that Ally can search secure payments",
                      "event": [
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "var dynamicTitle = \"Title_\" + \r",
                              "pm.variables.replaceIn('{{$randomProduct}}') + \"_\"+ pm.variables.replaceIn('{{$randomInt}}');\r",
                              "pm.environment.set(\"paymentTitle\",dynamicTitle);\r",
                              "\r",
                              "\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "// pm.test(\"Status code is 200\", function () {\r",
                              "//     pm.response.to.have.status(200);\r",
                              "// });\r",
                              "\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"partnerSellRate\");\r",
                              "// });\r",
                              "\r",
                              "\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "// });\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"userName\");\r",
                              "// });\r",
                              "\r",
                              "//NEW\r",
                              "// ✅ TC01 - Validate response status\r",
                              "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                              "    pm.response.to.have.status(200);\r",
                              "});\r",
                              "\r",
                              "// ✅ TC02 - Validate response includes 'partnerSellRate'\r",
                              "pm.test(\"TC02 - Validate response includes 'partnerSellRate'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"partnerSellRate\");\r",
                              "});\r",
                              "\r",
                              "// ✅ TC03 - Validate response includes 'userId'\r",
                              "pm.test(\"TC03 - Validate response includes 'userId'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "});\r",
                              "\r",
                              "// ✅ TC04 - Validate response includes 'userName'\r",
                              "pm.test(\"TC04 - Validate response includes 'userName'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"userName\");\r",
                              "});\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "in",
                              "value": "header",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-app-key",
                            "value": "68K6Qlxo",
                            "type": "text",
                            "disabled": true
                          },
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{origin_admin}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/secure/payments/search?StartRow=0&PageSize=10&TransactionsCount=false&TransactionType=Sale&TotalRecordCount=0&Asc=false&SortField=TransactionDate&isTransactionCostBreakDown=true",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "secure",
                            "payments",
                            "search"
                          ],
                          "query": [
                            {
                              "key": "ChannelType",
                              "value": "3",
                              "disabled": true
                            },
                            {
                              "key": "EndDate",
                              "value": "06-05-2023",
                              "disabled": true
                            },
                            {
                              "key": "StartDate",
                              "value": "04-01-2023",
                              "disabled": true
                            },
                            {
                              "key": "StartRow",
                              "value": "0",
                              "description": "start"
                            },
                            {
                              "key": "PageSize",
                              "value": "10"
                            },
                            {
                              "key": "TransactionsCount",
                              "value": "false"
                            },
                            {
                              "key": "TransactionType",
                              "value": "Sale"
                            },
                            {
                              "key": "TotalRecordCount",
                              "value": "0"
                            },
                            {
                              "key": "Asc",
                              "value": "false"
                            },
                            {
                              "key": "SortField",
                              "value": "TransactionDate"
                            },
                            {
                              "key": "isTransactionCostBreakDown",
                              "value": "true"
                            }
                          ]
                        }
                      },
                      "response": []
                    }
                  ]
                },
                {
                  "name": "Debit Card Payment",
                  "item": [
                    {
                      "name": "STC_051: Verify that Ally can create a Secure Payment Intent Debit Card",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "let jsonData = pm.response.json();\r",
                              "pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "\r",
                              "pm.test(\"Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "//NEW\r",
                              "// // ✅ TC01 - Validate status code\r",
                              "// pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "// // ✅ TC02 - Extract and save payment token\r",
                              "// let jsonData = pm.response.json();\r",
                              "\r",
                              "// pm.test(\"TC02 - Validate and store 'paymentToken'\", function () {\r",
                              "//     pm.expect(jsonData).to.have.property(\"paymentToken\");\r",
                              "//     pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "//     console.log(\"✅ Saved env_paymentToken:\", jsonData.paymentToken);\r",
                              "// });\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "\r",
                              "var dynamicTitle = \"Title_\" + \r",
                              "pm.variables.replaceIn('{{$randomProduct}}') + \"_\"+ pm.variables.replaceIn('{{$randomInt}}');\r",
                              "pm.environment.set(\"paymentTitle\",dynamicTitle);\r",
                              "\r",
                              "\r",
                              "const min = 500;\r",
                              "const max = 9999;\r",
                              "const randomAmount = Math.floor(Math.random() * (max - min + 1)) + min;\r",
                              "\r",
                              "// Set it as an environment or global variable\r",
                              "pm.environment.set(\"randomAmount\", randomAmount);\r",
                              "\r",
                              "\r",
                              "\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-app-key",
                            "value": "{{merchantId2}}",
                            "type": "text"
                          },
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "// public enum ReferenceType\r\n//     {\r\n//         QuoteId = 1,\r\n//         AccountNumber = 2,\r\n//         PolicyNumber = 3,\r\n//         InvoiceNumber = 4,\r\n//         Other = 5\r\n//     }\r\n{\r\n    \"saveForFuture\": false,\r\n    // \"suppressTechnologyFee\": true,\r\n    // \"overrideTechnologyFee\": 4,\r\n    \"title\": \"{{paymentTitle}}\",\r\n    \"shortDescription\": \"shortDescription\",\r\n    \"enablePremiumFinance\": false,\r\n    \"paymentDescription\": \"paymentDescription\",\r\n    \"invoiceNumber\": \"AnddoneONLY\",\r\n    \"expiresIn\": \"3000\",\r\n    \"isPremiumFinancier\": true,\r\n    \"pfr\": {\r\n        \"entity\": \"IPFS\",\r\n        \"reference\": \"Reference_test\",\r\n        \"paymentType\": \"OtherPayment\", //NA = 0, DownPayment = 1,InstallmentPayment = 2,FeePayment = 3, OtherPayment = 4\r\n        \"quote\": \"Q_1212\",\r\n        \"accountNumber\": \"4000 1600 0000 0004\"\r\n    },\r\n    \"AdditionalDetailsPreference\": 3,\r\n    \"intent\": {\r\n        \"paymentTypes\": [\r\n           // \"ACH\",\r\n          // \"CreditCard\",\r\n            \"DebitCard\"\r\n        ]\r\n    },\r\n    \"amount\": {{randomAmount}}\r\n  //  \"amount\": 145\r\n    // \"referenceDataList\": [   \r\n    //     {\r\n    //            \"referenceType\": \"1\",\r\n    //            \"referenceKey\": \"\",\r\n    //            \"referenceNumber\": \"Q-4835| Q-5454| Q-3233\"\r\n    //     } ,\r\n    //     {\r\n    //            \"referenceType\": \"5\",\r\n    //            \"referenceKey\": \"Account Number\",\r\n    //            \"referenceNumber\": \"A-4835, A-2323, A-273823\"\r\n    //     }\r\n    // ],\r\n    // \"Splits\": [\r\n    //     {\r\n    //         \"VirtualAccount\": \"VirtualACC_02\",\r\n    //         \"Amount\": 100,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //     }   \r\n    // ]\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/secure/paymentintents",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "secure",
                            "paymentintents"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_052: Verify that Ally can create a Debit Card Transaction",
                      "event": [
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "let count = parseInt(pm.environment.get(\"loopCount\") || 0);\r",
                              "let max = 2;\r",
                              "\r",
                              "count++;\r",
                              "pm.environment.set(\"loopCount\", count);\r",
                              "\r",
                              "if (count < max) {\r",
                              "    pm.execution.setNextRequest(\"STC_051: Create a Payment Intent Debit Card\");  // Replace with exact name of Request A\r",
                              "} else {\r",
                              "    pm.environment.unset(\"loopCount\");\r",
                              "}\r",
                              "\r",
                              "\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 4000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "pm.test(\"Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "pm.test(\"Body matches string\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "});\r",
                              "pm.test(\"Body matches string\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "});\r",
                              "\r",
                              "//NEW\r",
                              "// // ✅ TC01 - Validate status code\r",
                              "// pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "// // ✅ TC02 - Validate key fields in response body\r",
                              "// const responseBody = pm.response.text();\r",
                              "\r",
                              "// pm.test(\"TC02 - Response body includes 'userId'\", function () {\r",
                              "//     pm.expect(responseBody).to.include(\"userId\");\r",
                              "// });\r",
                              "\r",
                              "// pm.test(\"TC03 - Response body includes 'username'\", function () {\r",
                              "//     pm.expect(responseBody).to.include(\"username\");\r",
                              "// });\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "x-app-key",
                            "value": "{{merchantId2}}",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"token\": \"{{env_paymentToken}}\",\r\n    \"billingcontact\": {\r\n        \"phone\": \"8003213388\",\r\n        \"name\": {\r\n            \"firstname\": \"John\",\r\n            \"lastname\": \"Smith\"\r\n        },\r\n        \"address\": {\r\n            \"addressLine1\": \"30\",\r\n            \"addressLine2\": \"Memorial Drive\",\r\n            \"city\": \"Avon \",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"12701\"\r\n        }\r\n    },\r\n    \"transactionCode\": \"Web\",\r\n    \"channelType\": \"DebitCard\",\r\n    \"tenderInfo\": {\r\n        \"cardHolderName\": \"SiddQAT\",\r\n        \"cardType\": \"VISA\",\r\n      //  \"cardNumber\": \"4002690000000008\",\r\n        \"cardNumber\":\"4871049999999910\",\r\n        \"cardExpiry\": \"0330\",\r\n        \"cvDataStatus\": \"AV\",\r\n        \"cvv\": \"737\",\r\n        //\"createAccountToken\": true,\r\n        \"removeDiscounting\": false,\r\n        \"createAccountToken\": false\r\n    },\r\n    \"type\": \"PaymentIntent\"\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/payments",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "payments"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_053: Verify that Ally can create a Secure ACH Transaction",
                      "event": [
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "\r",
                              "\r",
                              "const min = 500;\r",
                              "const max = 500;\r",
                              "const randomAmount = Math.floor(Math.random() * (max - min + 1)) + min;\r",
                              "\r",
                              "// Set it as an environment or global variable\r",
                              "pm.environment.set(\"randomAmount\", randomAmount);\r",
                              "\r",
                              "\r",
                              "let count = pm.environment.get(\"count\") || 0;\r",
                              "let maxCount = 5; // change to how many times you want to run\r",
                              "\r",
                              "count++;\r",
                              "pm.environment.set(\"count\", count);\r",
                              "\r",
                              "if (count < maxCount) {\r",
                              "    postman.setNextRequest(pm.info.requestName); // loops this request again\r",
                              "} else {\r",
                              "    pm.environment.unset(\"count\");\r",
                              "}\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 1000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "// pm.test(\"Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "// });\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "// });\r",
                              "\r",
                              "// pm.test(\"Body matches string\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"partnerSellRate\");\r",
                              "// });\r",
                              "\r",
                              "//NEW\r",
                              "// ✅ TC01 - Validate status code\r",
                              "pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "// ✅ TC02 - Validate response body includes 'userId'\r",
                              "pm.test(\"TC02 - Response body includes 'userId'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "});\r",
                              "\r",
                              "// ✅ TC03 - Validate response body includes 'username'\r",
                              "pm.test(\"TC03 - Response body includes 'username'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "});\r",
                              "\r",
                              "// ✅ TC04 - Validate response body includes 'partnerSellRate'\r",
                              "pm.test(\"TC04 - Response body includes 'partnerSellRate'\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"partnerSellRate\");\r",
                              "});\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "x-app-key",
                            "value": "{{merchantId2}}",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"transactionCode\": \"CCD\",\r\n    \"channelType\": \"ACH\",\r\n    // \"suppressTechnologyFee\": false,\r\n    //\"overrideTechnologyFee\": 3.5,\r\n    \"isPremiumFinancier\": true,\r\n    \"pfr\": {\r\n        \"entity\": \"IPFS\",\r\n        \"reference\": \"Reference_test\",\r\n        \"paymentType\": \"OtherPayment\", //NA = 0, DownPayment = 1,InstallmentPayment = 2,FeePayment = 3, OtherPayment = 4\r\n        \"quote\": \"Q_1212\",\r\n        \"accountNumber\": \"1234567890\"\r\n    },\r\n    \"tenderInfo\": {\r\n        //  \"amount\": 1005.25,\r\n        \"amount\": {{randomAmount}},\r\n        \"accountHolderName\": \"TESt RAJ\",\r\n        \"routingNumber\": \"011000138\",\r\n        \"bankName\": null,\r\n        \"accountNumber\": \"123456789\",\r\n        \"removeDiscounting\": false,\r\n        \"accountType\": \"checking\"\r\n    },\r\n    \"type\": \"OpenPayment\",\r\n    // \"Splits\": [\r\n    //     {\r\n    //         \"VirtualAccount\": \"VirtualAC_03\",\r\n    //         \"Amount\": 40,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //  },\r\n    // ],\r\n    \"paymentReference\": \"QAT-COD-111124-4113787\",\r\n    \"billingcontact\": null\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/secure/payments",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "secure",
                            "payments"
                          ]
                        }
                      },
                      "response": []
                    }
                  ]
                },
                {
                  "name": "Credit Card Payment",
                  "item": [
                    {
                      "name": "STC_049: Verify that Ally can create a Secure Payment Intent for Credit Card",
                      "event": [
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "\r",
                              "var dynamicTitle = \"Title_\" + \r",
                              "pm.variables.replaceIn('{{$randomProduct}}') + \"_\"+ pm.variables.replaceIn('{{$randomInt}}');\r",
                              "pm.environment.set(\"paymentTitle\",dynamicTitle);\r",
                              "\r",
                              "\r",
                              "var dynamicInvoice = \"Invoice_\" + \r",
                              "pm.variables.replaceIn('{{$randomProduct}}') + \"_\"+ pm.variables.replaceIn('{{$randomInt}}');\r",
                              "pm.environment.set(\"invoiceNumber\",dynamicInvoice);\r",
                              "\r",
                              "const min = 500;\r",
                              "const max = 2009;\r",
                              "const randomAmount = Math.floor(Math.random() * (max - min + 1)) + min;\r",
                              "\r",
                              "// Set it as an environment or global variable\r",
                              "pm.environment.set(\"randomAmount\", randomAmount);\r",
                              "\r",
                              "\r",
                              "\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "let jsonData = pm.response.json();\r",
                              "pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "\r",
                              "\r",
                              "pm.test(\"Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "\r",
                              "// let jsonData = pm.response.json();\r",
                              "\r",
                              "// // ✅ TC01 - Validate status code\r",
                              "// pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "// // ✅ TC02 - Extract and save paymentToken safely\r",
                              "// pm.test(\"TC02 - Extract and save 'paymentToken'\", function () {\r",
                              "//     if (jsonData.paymentToken) {\r",
                              "//         pm.environment.set(\"env_paymentToken\", jsonData.paymentToken);\r",
                              "//         console.log(\"✅ Saved env_paymentToken:\", jsonData.paymentToken);\r",
                              "//     } else {\r",
                              "//         console.warn(\"⚠️ paymentToken not found in response\");\r",
                              "//     }\r",
                              "// });\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-app-key",
                            "value": "{{merchantId1}}",
                            "type": "text"
                          },
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{origin_admin}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "// public enum ReferenceType\r\n//     {\r\n//         QuoteId = 1,\r\n//         AccountNumber = 2,\r\n//         PolicyNumber = 3,\r\n//         InvoiceNumber = 4,\r\n//         Other = 5\r\n//     }\r\n{\r\n    \"AccountNumber\": \"ACH-001\",\r\n    \"title\": \"{{paymentTitle}}\",\r\n    \"saveForFuture\": false,\r\n    \"amount\": {{randomAmount}},\r\n    //\"amount\": 2500,\r\n    \"expiresIn\": \"30000\",\r\n    \"isPremiumFinancier\": true,\r\n    \"pfr\": {\r\n        \"entity\": \"IPFS\",\r\n        \"reference\": \"Reference_test\",\r\n        \"paymentType\": \"OtherPayment\", //NA = 0, DownPayment = 1,InstallmentPayment = 2,FeePayment = 3, OtherPayment = 4\r\n        \"quote\": \"Q_1212\",\r\n        \"accountNumber\": \"1234567890\"\r\n    },\r\n    // \"suppressTechnologyFee\": false,\r\n    // \"overrideTechnologyFee\": 20.19,\r\n    \"intent\": {\r\n        \"paymentTypes\": [\r\n            \"CreditCard\"\r\n        ]\r\n    },\r\n    \"Customers\": [ {\r\n         \"FirstName\" : \"Vinay\",\r\n         \"LastName\" : \"gel\",\r\n         \"Email\" : \"vinay65@yopmail.com\",\r\n         \"Phone\" : \"8147593250\"\r\n     }\r\n     ],\r\n\t\"AdditionalDetailsPreference\": 2\r\n    // \"referenceDataList\": [   \r\n    //     {\r\n    //            \"referenceType\": \"1\",\r\n    //            \"referenceKey\": \"\",\r\n    //            \"referenceNumber\": \"Q-4835| Q-5454| Q-3233\"\r\n    //     }\r\n    // ]\r\n    // \"Splits\": [\r\n    //     {\r\n    //         \"VirtualAccount\": \"Diksha1234\",\r\n    //         \"Amount\": 80,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //     },\r\n    //     {\r\n    //         \"VirtualAccount\": \"IPFS_Default\",\r\n    //         \"Amount\": 10,\r\n    //         \"Reference\": \"null\"\r\n    //     }\r\n    //     // {\r\n    //     //     \"VirtualAccount\": \"AndDone_Default\",\r\n    //     //     \"Amount\": 20,\r\n    //     //     \"Reference\": \"null\"\r\n    //     // }\r\n    // ]\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/secure/paymentintents",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "secure",
                            "paymentintents"
                          ]
                        }
                      },
                      "response": []
                    },
                    {
                      "name": "STC_050: Verify that Ally can create a Credit Card Transaction",
                      "event": [
                        {
                          "listen": "test",
                          "script": {
                            "exec": [
                              "pm.test(\"Status code is 201\", function () {\r",
                              "    pm.response.to.have.status(201);\r",
                              "});\r",
                              "\r",
                              "\r",
                              "pm.test(\"Body matches string\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "});\r",
                              "pm.test(\"Body matches string\", function () {\r",
                              "    pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "});\r",
                              "\r",
                              "// //NEW\r",
                              "// // ✅ TC01 - Validate status code\r",
                              "// pm.test(\"TC01 - Status code is 201\", function () {\r",
                              "//     pm.response.to.have.status(201);\r",
                              "// });\r",
                              "\r",
                              "// // ✅ TC02 - Validate response body includes 'userId'\r",
                              "// pm.test(\"TC02 - Response body includes 'userId'\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"userId\");\r",
                              "// });\r",
                              "\r",
                              "// // ✅ TC03 - Validate response body includes 'username'\r",
                              "// pm.test(\"TC03 - Response body includes 'username'\", function () {\r",
                              "//     pm.expect(pm.response.text()).to.include(\"username\");\r",
                              "// });\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        },
                        {
                          "listen": "prerequest",
                          "script": {
                            "exec": [
                              "let count = parseInt(pm.environment.get(\"loopCount\") || 0);\r",
                              "let max = 2;\r",
                              "\r",
                              "count++;\r",
                              "pm.environment.set(\"loopCount\", count);\r",
                              "\r",
                              "if (count < max) {\r",
                              "    pm.execution.setNextRequest(\"STC_049: Create a  Payment Intent Credit Card\");  // Replace with exact name of Request A\r",
                              "} else {\r",
                              "    pm.environment.unset(\"loopCount\");\r",
                              "}\r",
                              "\r",
                              "setTimeout(() => {\r",
                              "    console.log(\"Delay executed\");\r",
                              "}, 2000); // 2-second delay\r",
                              ""
                            ],
                            "type": "text/javascript",
                            "packages": {},
                            "requests": {}
                          }
                        }
                      ],
                      "request": {
                        "auth": {
                          "type": "apikey",
                          "apikey": [
                            {
                              "key": "value",
                              "value": "{{env_merchantAccessKey1}}",
                              "type": "string"
                            },
                            {
                              "key": "in",
                              "value": "header",
                              "type": "string"
                            },
                            {
                              "key": "key",
                              "value": "x-api-key",
                              "type": "string"
                            }
                          ]
                        },
                        "method": "POST",
                        "header": [
                          {
                            "key": "x-version",
                            "value": "2.2",
                            "type": "text"
                          },
                          {
                            "key": "Origin",
                            "value": "{{BaseURL}}",
                            "type": "text"
                          },
                          {
                            "key": "x-api-key",
                            "value": "{{merchantId1}}",
                            "type": "text"
                          }
                        ],
                        "body": {
                          "mode": "raw",
                          "raw": "{\r\n    \"token\": \"{{env_paymentToken}}\",\r\n    \"transactionCode\": \"Web\",\r\n    \"channelType\": \"CreditCard\",\r\n    \"type\": \"PaymentIntent\",\r\n    \"tenderInfo\": {\r\n        \"cardHolderName\": \"twoVirtual\",\r\n        \"createAccountToken\": false,\r\n        \"reference\": \"ReferenceText\",\r\n        \"cardType\": \"VISA\",\r\n        \"cardNumber\": \"4035 5010 0000 0008\",\r\n        \"cardExpiry\": \"0330\",\r\n        \"cvv\": \"737\",\r\n        \"cvDataStatus\": \"AV\",\r\n        \"removeDiscounting\": false\r\n    },\r\n    \"billingcontact\": {\r\n        \"name\": {\r\n            \"firstname\": \"Smith\",\r\n            \"lastname\": \"split\"\r\n        },\r\n        \"address\": {\r\n            \"addressLine1\": \"30\",\r\n            \"addressLine2\": \"Memorial Drive\",\r\n            \"city\": \"Avon \",\r\n            \"state\": \"NY\",\r\n            \"country\": 1,\r\n            \"postalCode\": \"12345-1234\"\r\n        }\r\n    }\r\n}",
                          "options": {
                            "raw": {
                              "language": "json"
                            }
                          }
                        },
                        "url": {
                          "raw": "{{BaseURL}}/payments",
                          "host": [
                            "{{BaseURL}}"
                          ],
                          "path": [
                            "payments"
                          ]
                        }
                      },
                      "response": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "2. Ally Transactions Details",
              "item": [
                {
                  "name": "STC_054: Login as ally",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "let response = pm.response.json();\r",
                          "pm.environment.set(\"AID\", response.parentId);\r",
                          "\r",
                          "let jsonData = pm.response.json();\r",
                          "pm.test(\"Status code is 200\", function () {\r",
                          "    pm.response.to.have.status(200);\r",
                          "});\r",
                          "pm.environment.set(\"token\", jsonData.token);\r",
                          "pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                          "pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                          "pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                          "pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 1000); // 2-second delay\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Origin",
                        "value": "{{origin_admin}}",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "// //QAT-31/07>Blx3ZKv1\r\n{\r\n\"userName\": \"TaylorVerma89\",\r\n\"password\": \"111#Qwertyuiop\"\r\n}\r\n\r\n\r\n//504\r\n\r\n// {\r\n// \"userName\": \"KeerthanaOver27\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }\r\n\r\n// {\r\n//     \"UserName\":\"CaseyWilson4370\",\r\n//     \"Password\":\"CaseyWilson#4370\"\r\n// }",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{BaseURL}}/users/sessions",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "users",
                        "sessions"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "STC_055: Verify that Ally can Get all transactions",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// ✅ TC01 - Validate status code\r",
                          "pm.test(\"TC01 - Status code is 200\", function () {\r",
                          "    pm.response.to.have.status(200);\r",
                          "});\r",
                          "\r",
                          "let response = pm.response.json();\r",
                          "\r",
                          "// Adjust to match your API response structure\r",
                          "let transactions = response.data || response.transactions || response;\r",
                          "\r",
                          "if (Array.isArray(transactions)) {\r",
                          "    // Filter only successful transactions\r",
                          "    let successTxns = transactions.filter(tx => tx.transactionStatus === \"Success\");\r",
                          "\r",
                          "    if (successTxns.length > 0) {\r",
                          "        // Sort by transactionDate (latest first)\r",
                          "        successTxns.sort((a, b) => new Date(b.transactionDate) - new Date(a.transactionDate));\r",
                          "\r",
                          "        // Take top 3 latest transactions\r",
                          "        let latestTxns = successTxns.slice(0, 3);\r",
                          "\r",
                          "        // ✅ TC02 - Save top 3 transaction IDs\r",
                          "        latestTxns.forEach((tx, i) => {\r",
                          "            pm.environment.set(`transactionId_${i+1}`, tx.transactionId);\r",
                          "            console.log(`✅ Saved Transaction ID ${i+1}:`, tx.transactionId);\r",
                          "        });\r",
                          "\r",
                          "        // Save all IDs as an array\r",
                          "        pm.environment.set(\"transactionIds\", JSON.stringify(latestTxns.map(tx => tx.transactionId)));\r",
                          "    } else {\r",
                          "        console.log(\"⚠️ No successful transactions found\");\r",
                          "    }\r",
                          "} else {\r",
                          "    console.warn(\"⚠️ Transactions array not found in response\");\r",
                          "}\r",
                          "\r",
                          "\r",
                          "\r",
                          "\r",
                          "\r",
                          "// pm.test(\"Status code is 200\", function () {\r",
                          "//     pm.response.to.have.status(200);\r",
                          "// });\r",
                          "\r",
                          "\r",
                          "\r",
                          "\r",
                          "// let response = pm.response.json();\r",
                          "\r",
                          "// // Adjust to match your API response structure\r",
                          "// let transactions = response.data || response.transactions || response;\r",
                          "\r",
                          "// if (Array.isArray(transactions)) {\r",
                          "//     // Filter only successful ones\r",
                          "//     let successTxns = transactions.filter(tx => tx.transactionStatus === \"Success\");\r",
                          "\r",
                          "//     if (successTxns.length > 0) {\r",
                          "//         // Sort by transactionDate (latest first)\r",
                          "//         successTxns.sort((a, b) => new Date(b.transactionDate) - new Date(a.transactionDate));\r",
                          "\r",
                          "//         // Take top 3 (or fewer if less available)\r",
                          "//         let latestTxns = successTxns.slice(0, 3);\r",
                          "\r",
                          "//         // Save individually\r",
                          "//         latestTxns.forEach((tx, i) => {\r",
                          "//             pm.environment.set(`transactionId_${i+1}`, tx.transactionId);\r",
                          "//             console.log(`Saved Transaction ID ${i+1}:`, tx.transactionId);\r",
                          "//         });\r",
                          "\r",
                          "//         // Optionally also save them as an array\r",
                          "//         pm.environment.set(\"transactionIds\", JSON.stringify(latestTxns.map(tx => tx.transactionId)));\r",
                          "//     } else {\r",
                          "//         console.log(\"No successful transactions found\");\r",
                          "//     }\r",
                          "// }\r",
                          "\r",
                          "\r",
                          "// // let response = pm.response.json();\r",
                          "\r",
                          "// // // Adjust to match your API response structure\r",
                          "// // let transactions = response.data || response.transactions || response;\r",
                          "\r",
                          "// // let latestTransaction = null;\r",
                          "\r",
                          "// // if (Array.isArray(transactions)) {\r",
                          "// //     // Filter only successful ones\r",
                          "// //     let successTxns = transactions.filter(tx => tx.transactionStatus === \"Success\");\r",
                          "\r",
                          "// //     if (successTxns.length > 0) {\r",
                          "// //         // Sort by transactionDate (assuming format like \"7/31/2025 2:08:04 AM\")\r",
                          "// //         successTxns.sort((a, b) => new Date(b.transactionDate) - new Date(a.transactionDate));\r",
                          "\r",
                          "// //         // Pick the latest one\r",
                          "// //         latestTransaction = successTxns[0];\r",
                          "// //     }\r",
                          "// // }\r",
                          "\r",
                          "// // if (latestTransaction) {\r",
                          "// //     pm.environment.set(\"transactionId\", latestTransaction.transactionId);\r",
                          "// //     console.log(\"Saved Latest Transaction ID:\", latestTransaction.transactionId);\r",
                          "// // } else {\r",
                          "// //     console.log(\"No successful transaction found\");\r",
                          "// // }\r",
                          "\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 3000); // 2-second delay\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Origin",
                        "value": "{{BaseURL}}",
                        "type": "text"
                      }
                    ],
                    "url": {
                      "raw": "{{BaseURL}}/allies/{{AID}}/transactions?TransactionType=Sale&StartRow=0&PageSize=10&Asc=true&TransactionStatuses=Success&TotalRecordCount=0&StartDate=2025-09-10&EndDate=2025-10-25",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "allies",
                        "{{AID}}",
                        "transactions"
                      ],
                      "query": [
                        {
                          "key": "BinNumber",
                          "value": "400002",
                          "disabled": true
                        },
                        {
                          "key": "MaskAccount",
                          "value": "0004",
                          "disabled": true
                        },
                        {
                          "key": "EndDate",
                          "value": "04-25-2024",
                          "disabled": true
                        },
                        {
                          "key": "TransactionType",
                          "value": "Sale"
                        },
                        {
                          "key": "channelTypes",
                          "value": "2",
                          "disabled": true
                        },
                        {
                          "key": "ToAmount",
                          "value": "99",
                          "disabled": true
                        },
                        {
                          "key": "FromAmount",
                          "value": "50",
                          "disabled": true
                        },
                        {
                          "key": "Amount",
                          "value": "57",
                          "disabled": true
                        },
                        {
                          "key": "TraceNumbers",
                          "value": "XIMP749VCLO7X9",
                          "disabled": true
                        },
                        {
                          "key": "MerchantReference",
                          "value": "PL",
                          "disabled": true
                        },
                        {
                          "key": "SearchText",
                          "value": "accountHolder",
                          "disabled": true
                        },
                        {
                          "key": "AdditionalFields",
                          "value": "policynumber:po",
                          "disabled": true
                        },
                        {
                          "key": "ShopperName",
                          "value": "chargeback",
                          "disabled": true
                        },
                        {
                          "key": "ProcessMethod",
                          "value": "3",
                          "disabled": true
                        },
                        {
                          "key": "PaymentMethod",
                          "value": "ACH",
                          "disabled": true
                        },
                        {
                          "key": "AccountAlias",
                          "value": "IPFS_Default",
                          "disabled": true
                        },
                        {
                          "key": "TransactionStatuses",
                          "value": "Paid Refunded",
                          "disabled": true
                        },
                        {
                          "key": "PaymentTypes",
                          "value": "AnytimePayment",
                          "disabled": true
                        },
                        {
                          "key": "TransactionIds",
                          "value": "f6851349-c235-483c-af4b-24df6435aa9c",
                          "disabled": true
                        },
                        {
                          "key": "BatchId",
                          "value": "55",
                          "disabled": true
                        },
                        {
                          "key": "SortField",
                          "value": "transactionDate",
                          "disabled": true
                        },
                        {
                          "key": "StartRow",
                          "value": "0"
                        },
                        {
                          "key": "PageSize",
                          "value": "10"
                        },
                        {
                          "key": "Asc",
                          "value": "true"
                        },
                        {
                          "key": "StartDate",
                          "value": "01-01-2025",
                          "disabled": true
                        },
                        {
                          "key": "TransactionsCount",
                          "value": "true",
                          "disabled": true
                        },
                        {
                          "key": "MerchantName",
                          "value": "Oberbrunner and Sons",
                          "disabled": true
                        },
                        {
                          "key": "Asc",
                          "value": "false",
                          "disabled": true
                        },
                        {
                          "key": "SearchText=Lynch%20In&TransactionStatuses=Success&PageSize=50&StartRow=0&Asc=true&SortField=MerchantDBAName&TransactionType=Sale&TransactionsCount=true&TotalRecordCount=0&StartDate=2025-09-01&EndDate=2025-09-10",
                          "value": "",
                          "disabled": true
                        },
                        {
                          "key": "TransactionStatuses",
                          "value": "Success"
                        },
                        {
                          "key": "PageSize",
                          "value": "50",
                          "disabled": true
                        },
                        {
                          "key": "SortField",
                          "value": "MerchantDBAName",
                          "disabled": true
                        },
                        {
                          "key": "TotalRecordCount",
                          "value": "0"
                        },
                        {
                          "key": "StartDate",
                          "value": "2025-09-10"
                        },
                        {
                          "key": "EndDate",
                          "value": "2025-10-25"
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "STC_056: Verify that Ally can retrieve details of a transaction.",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// ✅ Parse response safely\r",
                          "let jsonData = {};\r",
                          "try {\r",
                          "    jsonData = pm.response.json();\r",
                          "} catch (e) {\r",
                          "    console.error(\"⚠️ Response is not valid JSON:\", e);\r",
                          "}\r",
                          "\r",
                          "// ✅ TC01 - Validate status code\r",
                          "pm.test(\"TC01 - Status code is 200\", function () {\r",
                          "    pm.response.to.have.status(200);\r",
                          "});\r",
                          "\r",
                          "// ✅ TC02 - Validate transaction response includes required fields\r",
                          "pm.test(\"TC02 - Transaction response includes required fields\", function () {\r",
                          "    pm.expect(jsonData).to.have.property(\"transactionId\");\r",
                          "    pm.expect(jsonData).to.have.property(\"transactionStatus\");\r",
                          "    pm.expect(jsonData).to.have.property(\"companyName\");\r",
                          "    pm.expect(jsonData).to.have.property(\"merchantDBAName\");\r",
                          "    pm.expect(jsonData).to.have.property(\"username\");\r",
                          "    pm.expect(jsonData).to.have.property(\"allyId\");\r",
                          "});\r",
                          "\r",
                          "// ✅ TC03 - Log key info for debugging\r",
                          "console.log(\"Transaction ID:\", jsonData.transactionId || \"N/A\");\r",
                          "console.log(\"Merchant Company:\", jsonData.companyName || \"N/A\");\r",
                          "console.log(\"Merchant DBA Name:\", jsonData.merchantDBAName || \"N/A\");\r",
                          "\r",
                          "// ✅ TC04 - Extract and save transactionOrigin\r",
                          "if (jsonData.transactionOrigin) {\r",
                          "    pm.environment.set(\"transactionOrigin\", jsonData.transactionOrigin);\r",
                          "    console.log(\"✅ Saved transactionOrigin:\", jsonData.transactionOrigin);\r",
                          "} else {\r",
                          "    console.warn(\"⚠️ transactionOrigin not found in response\");\r",
                          "}\r",
                          "\r",
                          "// ✅ TC05 - Extract and save merchantId\r",
                          "if (jsonData.merchantId) {\r",
                          "    pm.environment.set(\"merchantId\", jsonData.merchantId);\r",
                          "    console.log(\"✅ Saved merchantId:\", jsonData.merchantId);\r",
                          "} else {\r",
                          "    console.warn(\"⚠️ merchantId not found in response\");\r",
                          "}\r",
                          "\r",
                          "\r",
                          "\r",
                          "// // ✅ Parse response safely\r",
                          "// let jsonData = {};\r",
                          "// try {\r",
                          "//     jsonData = pm.response.json();\r",
                          "// } catch (e) {\r",
                          "//     console.error(\"Response is not valid JSON:\", e);\r",
                          "// }\r",
                          "\r",
                          "// // ✅ TC01 - Verify status code\r",
                          "// pm.test(\"Status code is 200\", function () {\r",
                          "//     pm.response.to.have.status(200);\r",
                          "// });\r",
                          "\r",
                          "// // ✅ TC06 - Validate transaction response structure\r",
                          "// pm.test(\"Transaction response includes required fields\", function () {\r",
                          "//     pm.expect(jsonData).to.have.property(\"transactionId\");\r",
                          "//     pm.expect(jsonData).to.have.property(\"transactionStatus\");\r",
                          "//     pm.expect(jsonData).to.have.property(\"companyName\");\r",
                          "//     pm.expect(jsonData).to.have.property(\"merchantDBAName\");\r",
                          "//     pm.expect(jsonData).to.have.property(\"username\");\r",
                          "//     pm.expect(jsonData).to.have.property(\"allyId\");\r",
                          "// });\r",
                          "\r",
                          "// // ✅ Log key info for debugging\r",
                          "// console.log(\"Transaction ID:\", jsonData.transactionId || \"N/A\");\r",
                          "// console.log(\"Merchant Company:\", jsonData.companyName || \"N/A\");\r",
                          "// console.log(\"Merchant DBA Name:\", jsonData.merchantDBAName || \"N/A\");\r",
                          "\r",
                          "// // ✅ Extract and save important environment variables\r",
                          "// if (jsonData.transactionOrigin) {\r",
                          "//     pm.environment.set(\"transactionOrigin\", jsonData.transactionOrigin);\r",
                          "//     console.log(\"✅ Saved transactionOrigin:\", jsonData.transactionOrigin);\r",
                          "// } else {\r",
                          "//     console.warn(\"⚠️ transactionOrigin not found in response\");\r",
                          "// }\r",
                          "\r",
                          "// if (jsonData.merchantId) {\r",
                          "//     pm.environment.set(\"merchantId\", jsonData.merchantId);\r",
                          "//     console.log(\"✅ Saved merchantId:\", jsonData.merchantId);\r",
                          "// } else {\r",
                          "//     console.warn(\"⚠️ merchantId not found in response\");\r",
                          "// }\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 3000); // 2-second delay\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Origin",
                        "value": "{{origin_admin}}",
                        "type": "text"
                      },
                      {
                        "key": "x-version",
                        "value": "2.2",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": {
                      "raw": "{{BaseURL}}/allies/{{AID}}/transactions/{{transactionId_1}}",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "allies",
                        "{{AID}}",
                        "transactions",
                        "{{transactionId_1}}"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "STC_081: Verify that Ally can retrieve a transaction details using id in secure API",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// pm.test(\"Status code is 200\", function () {\r",
                          "//     pm.response.to.have.status(200);\r",
                          "// });\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"userName\");\r",
                          "// });\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"partnerSellRate\");\r",
                          "// });\r",
                          "\r",
                          "//NEW\r",
                          "\r",
                          "// ✅ TC01 - Validate status code\r",
                          "pm.test(\"TC01 - Status code is 200\", function () {\r",
                          "    pm.response.to.have.status(200);\r",
                          "});\r",
                          "\r",
                          "// ✅ TC02 - Validate response body includes 'userName'\r",
                          "pm.test(\"TC02 - Response body includes 'userName'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"userName\");\r",
                          "});\r",
                          "\r",
                          "// ✅ TC03 - Validate response body includes 'partnerSellRate'\r",
                          "pm.test(\"TC03 - Response body includes 'partnerSellRate'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"partnerSellRate\");\r",
                          "});\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 3000); // 2-second delay\r",
                          "\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "apikey",
                      "apikey": [
                        {
                          "key": "value",
                          "value": "{{env_merchantAccessKey1}}",
                          "type": "string"
                        },
                        {
                          "key": "key",
                          "value": "x-api-key",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "x-app-key",
                        "value": "{{merchantId}}",
                        "type": "text"
                      },
                      {
                        "key": "x-version",
                        "value": "2.2",
                        "type": "text"
                      },
                      {
                        "key": "Origin",
                        "value": "{{BaseURL}}",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"id\": \"{{transactionId_1}}\",\r\n    \"Type\":\"{{transactionOrigin}}\",\r\n     //\"Type\":\"PaymentIntent\",\r\n    \"IncludeRefundTransactions\" : false\r\n}\r\n// {\r\n//      \"id\": \"0d733672-98fb-4388-ab21-3fc6efeaf5a9\",\r\n//      \"PaymentToken\":\"ZdmKBY4x\",\r\n//      \"Type\":\"PaymentIntent\",\r\n//      \"IncludeRefundTransactions\" : true\r\n// }\r\n\r\n// {\r\n//      \"id\": \"c2624a36-9cc5-45d0-8a94-2b5750867d82\",\r\n//     // \"PaymentToken\":\"Jd0awo1v\",\r\n//      \"Type\":\"PaymentIntent\",\r\n//      \"IncludeRefundTransactions\" : false\r\n// }",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{BaseURL}}/secure/paymentsdetails",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "secure",
                        "paymentsdetails"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "STC_057: Verify that Ally can Get eligibility for a refund",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "let res = pm.response;\r",
                          "let json = {};\r",
                          "\r",
                          "// ✅ TC01 - Parse response safely\r",
                          "try {\r",
                          "    json = res.json();\r",
                          "} catch (e) {\r",
                          "    pm.test(\"TC01 - Response is not a valid JSON\", function () {\r",
                          "        throw new Error(\"⚠️ Invalid JSON response\");\r",
                          "    });\r",
                          "}\r",
                          "\r",
                          "// ✅ TC02 - Validate Content-Type\r",
                          "pm.test(\"TC01 - Content-Type includes application/json\", function () {\r",
                          "    pm.expect(res.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
                          "});\r",
                          "\r",
                          "// Handle different status codes\r",
                          "if (res.code === 200) {\r",
                          "    // ✅ TC03 - Validate 200 OK\r",
                          "    pm.test(\"TC02 - Status code is 200 - Success\", function () {\r",
                          "        pm.expect(res.code).to.eql(200);\r",
                          "    });\r",
                          "\r",
                          "    // ✅ TC04 - Validate refundEligible field\r",
                          "    pm.test(\"TC03 - Validate refundEligible field\", function () {\r",
                          "        pm.expect(json).to.have.property(\"refundEligible\");\r",
                          "        pm.expect(json.refundEligible).to.be.a(\"boolean\");\r",
                          "    });\r",
                          "\r",
                          "} else if (res.code === 400) {\r",
                          "    // ✅ TC05 - Validate 400 Bad Request\r",
                          "    pm.test(\"TC05 - Status code is 400 - Business rule failed\", function () {\r",
                          "        pm.expect(res.code).to.eql(400);\r",
                          "    });\r",
                          "\r",
                          "    // ✅ TC06 - Validate error message and structure\r",
                          "    pm.test(\"TC06 - Validate error message and errors array\", function () {\r",
                          "        pm.expect(json.message).to.eql(\"Key_SetteledTransactionCanNotBeLessThanTwoBussinessDay\");\r",
                          "        pm.expect(json.errors).to.be.an(\"array\");\r",
                          "    });\r",
                          "\r",
                          "} else {\r",
                          "    // ✅ TC07 - Unexpected status code\r",
                          "    pm.test(\"TC07 - Unexpected response status\", function () {\r",
                          "        throw new Error(\"⚠️ Unhandled status code: \" + res.code);\r",
                          "    });\r",
                          "}\r",
                          "\r",
                          "\r",
                          "\r",
                          "\r",
                          "// let res = pm.response;\r",
                          "// let json = {};\r",
                          "\r",
                          "// try {\r",
                          "//     json = res.json();\r",
                          "// } catch (e) {\r",
                          "//     pm.test(\"Response is not a valid JSON\", function () {\r",
                          "//         throw new Error(\"Invalid JSON response\");\r",
                          "//     });\r",
                          "// }\r",
                          "\r",
                          "// pm.test(\"Content-Type includes application/json\", function () {\r",
                          "//     pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");\r",
                          "// });\r",
                          "\r",
                          "\r",
                          "\r",
                          "\r",
                          "// // Handle 200 OK\r",
                          "// if (res.code === 200) {\r",
                          "//     pm.test(\"Status code is 200 - Success\", function () {\r",
                          "//         pm.expect(res.code).to.eql(200);\r",
                          "//     });\r",
                          "\r",
                          "//     pm.test(\"Validate refundEligible field\", function () {\r",
                          "//         pm.expect(json).to.have.property(\"refundEligible\");\r",
                          "//         pm.expect(json.refundEligible).to.be.a(\"boolean\");\r",
                          "//     });\r",
                          "\r",
                          "// } else if (res.code === 400) {\r",
                          "//     pm.test(\"Status code is 400 - Business rule failed\", function () {\r",
                          "//         pm.expect(res.code).to.eql(400);\r",
                          "//     });\r",
                          "\r",
                          "//     pm.test(\"Validate error message\", function () {\r",
                          "//         pm.expect(json.message).to.eql(\"Key_SetteledTransactionCanNotBeLessThanTwoBussinessDay\");\r",
                          "//         pm.expect(json.errors).to.be.an(\"array\");\r",
                          "//     });\r",
                          "\r",
                          "// } else {\r",
                          "//     pm.test(\"Unexpected response status\", function () {\r",
                          "//         throw new Error(\"Unhandled status code: \" + res.code);\r",
                          "//     });\r",
                          "// }"
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 2000); // 2-second delay\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "protocolProfileBehavior": {
                    "disableBodyPruning": true
                  },
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "GET",
                    "header": [
                      {
                        "key": "Origin",
                        "value": "{{origin_admin}}",
                        "type": "text"
                      },
                      {
                        "key": "x-version",
                        "value": "2.2",
                        "type": "text",
                        "disabled": true
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": ""
                    },
                    "url": {
                      "raw": "{{BaseURL}}/allies/{{AID}}/transactions/{{transactionId_1}}/refunds/eligibility",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "allies",
                        "{{AID}}",
                        "transactions",
                        "{{transactionId_1}}",
                        "refunds",
                        "eligibility"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "STC_088: Verify that Ally can Refund using bearer token API",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// pm.test(\"Status code is 201\", function () {\r",
                          "//     pm.response.to.have.status(201);\r",
                          "// });\r",
                          "\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"Refund\");\r",
                          "// });\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"userId\");\r",
                          "// });\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"userName\");\r",
                          "// });\r",
                          "\r",
                          "// ✅ TC01 - Validate status code\r",
                          "pm.test(\"TC01 - Status code is 201\", function () {\r",
                          "    pm.response.to.have.status(201);\r",
                          "});\r",
                          "\r",
                          "// ✅ TC02 - Validate response body includes 'Refund'\r",
                          "pm.test(\"TC02 - Response body includes 'Refund'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"Refund\");\r",
                          "});\r",
                          "\r",
                          "// ✅ TC03 - Validate response body includes 'userId'\r",
                          "pm.test(\"TC03 - Response body includes 'userId'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                          "});\r",
                          "\r",
                          "// ✅ TC04 - Validate response body includes 'userName'\r",
                          "pm.test(\"TC04 - Response body includes 'userName'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"userName\");\r",
                          "});\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 2000); // 2-second delay\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "bearer",
                      "bearer": [
                        {
                          "key": "token",
                          "value": "{{token}}",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Origin",
                        "value": "{{origin_admin}}",
                        "type": "text"
                      },
                      {
                        "key": "x-version",
                        "value": "2.2",
                        "type": "text",
                        "disabled": true
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"RefundAmount\": 1,\r\n    \"RefundDetail\": \"Partial amount is refunded through API\",\r\n    \"RefundReason\": \"Fraud transaction\",\r\n    \"RefundType\": 4\r\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{BaseURL}}/allies/{{AID}}/transactions/{{transactionId_2}}/refund",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "allies",
                        "{{AID}}",
                        "transactions",
                        "{{transactionId_2}}",
                        "refund"
                      ],
                      "query": [
                        {
                          "key": "x-version",
                          "value": "2.2",
                          "disabled": true
                        }
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "STC_073: Verify that Ally can get Refund eligibility using Secure API",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// pm.test(\"Status code is 200\", function () {\r",
                          "//     pm.response.to.have.status(200);\r",
                          "// });\r",
                          "\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"true\");\r",
                          "// });\r",
                          "\r",
                          "// ✅ TC01 - Validate status code\r",
                          "pm.test(\"TC01 - Status code is 200\", function () {\r",
                          "    pm.response.to.have.status(200);\r",
                          "});\r",
                          "\r",
                          "// ✅ TC02 - Validate response body includes 'true'\r",
                          "pm.test(\"TC02 - Response body includes 'true'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"true\");\r",
                          "});\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 2000); // 2-second delay\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "apikey",
                      "apikey": [
                        {
                          "key": "value",
                          "value": "{{env_merchantAccessKey1}}",
                          "type": "string"
                        },
                        {
                          "key": "in",
                          "value": "header",
                          "type": "string"
                        },
                        {
                          "key": "key",
                          "value": "x-api-key",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Origin",
                        "value": "{{BaseURL}}",
                        "type": "text"
                      },
                      {
                        "key": "x-version",
                        "value": "2.2",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "\r\n{\r\n   \"TransactionId\": \"{{transactionId_1}}\"\r\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{BaseURL}}/secure/refunds/eligibility",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "secure",
                        "refunds",
                        "eligibility"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "STC_074: Verify that Ally can Create refund payment using Secure API",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// pm.test(\"Status code is 201\", function () {\r",
                          "//     pm.response.to.have.status(201);\r",
                          "// });\r",
                          "\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"Success\");\r",
                          "// });\r",
                          "\r",
                          "\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"userId\");\r",
                          "// });\r",
                          "// pm.test(\"Body matches string\", function () {\r",
                          "//     pm.expect(pm.response.text()).to.include(\"userName\");\r",
                          "// });\r",
                          "\r",
                          "//new\r",
                          "// ✅ TC01 - Validate status code\r",
                          "pm.test(\"TC01 - Status code is 201\", function () {\r",
                          "    pm.response.to.have.status(201);\r",
                          "});\r",
                          "\r",
                          "// ✅ TC02 - Validate response body includes 'Success'\r",
                          "pm.test(\"TC02 - Response body includes 'Success'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"Success\");\r",
                          "});\r",
                          "\r",
                          "// ✅ TC03 - Validate response body includes 'userId'\r",
                          "pm.test(\"TC03 - Response body includes 'userId'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"userId\");\r",
                          "});\r",
                          "\r",
                          "// ✅ TC04 - Validate response body includes 'userName'\r",
                          "pm.test(\"TC04 - Response body includes 'userName'\", function () {\r",
                          "    pm.expect(pm.response.text()).to.include(\"userName\");\r",
                          "});\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "setTimeout(() => {\r",
                          "    console.log(\"Delay executed\");\r",
                          "}, 2000); // 2-second delay\r",
                          ""
                        ],
                        "type": "text/javascript",
                        "packages": {},
                        "requests": {}
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "apikey",
                      "apikey": [
                        {
                          "key": "value",
                          "value": "{{env_merchantAccessKey1}}",
                          "type": "string"
                        },
                        {
                          "key": "in",
                          "value": "header",
                          "type": "string"
                        },
                        {
                          "key": "key",
                          "value": "x-api-key",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Origin",
                        "value": "{{BaseURL}}",
                        "type": "text"
                      },
                      {
                        "key": "x-version",
                        "value": "2.2",
                        "type": "text"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\r\n    \"refundAmount\": 10.0,\r\n    \"transactionId\": \"{{transactionId_1}}\",\r\n    \"RefundReason\": \"Customer Request\",\r\n    \"RefundDetail\": \"test \",\r\n    \"refundType\": \"4\"\r\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{BaseURL}}/secure/refunds",
                      "host": [
                        "{{BaseURL}}"
                      ],
                      "path": [
                        "secure",
                        "refunds"
                      ]
                    }
                  },
                  "response": []
                }
              ],
              "description": "StartFragment\n\nAs an AndDone Platform\n\nI would like to have payment apis to support the payments view on Ally portal\n\nso that the Allies can easily view and manage their payments.\n\nEndFragment"
            }
          ]
        }
      ]
    },
    {
      "name": "Ally Report Management",
      "item": [
        {
          "name": "NACHA",
          "item": [
            {
              "name": "STC_071: Verify that Ally can create Secure ACH Transaction(NACHA)",
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "\r",
                      "\r",
                      "const min = 500;\r",
                      "const max = 2000;\r",
                      "const randomAmount = Math.floor(Math.random() * (max - min + 1)) + min;\r",
                      "\r",
                      "// Set it as an environment or global variable\r",
                      "pm.environment.set(\"randomAmount\", randomAmount);\r",
                      "\r",
                      "\r",
                      "let count = pm.environment.get(\"count\") || 0;\r",
                      "let maxCount = 3; // change to how many times you want to run\r",
                      "\r",
                      "count++;\r",
                      "pm.environment.set(\"count\", count);\r",
                      "\r",
                      "if (count < maxCount) {\r",
                      "    postman.setNextRequest(pm.info.requestName); // loops this request again\r",
                      "} else {\r",
                      "    pm.environment.unset(\"count\");\r",
                      "}\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// ✅ TC01 - Validate status code\r",
                      "pm.test(\"TC01 - Status code is 201\", function () {\r",
                      "    pm.response.to.have.status(201);\r",
                      "});\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "apikey",
                  "apikey": [
                    {
                      "key": "value",
                      "value": "{{env_merchantAccessKey3}}",
                      "type": "string"
                    },
                    {
                      "key": "key",
                      "value": "x-api-key",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "x-version",
                    "value": "2.2",
                    "type": "text"
                  },
                  {
                    "key": "x-app-key",
                    "value": "ndDNO7xO",
                    "type": "text"
                  },
                  {
                    "key": "Origin",
                    "value": "{{BaseURL}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"transactionCode\": \"CCD\",\r\n    \"channelType\": \"ACH\",\r\n    // \"suppressTechnologyFee\": false,\r\n    //\"overrideTechnologyFee\": 3.5,\r\n    \"isPremiumFinancier\": true,\r\n    \"pfr\": {\r\n        \"entity\": \"IPFS\",\r\n        \"reference\": \"Reference_test\",\r\n        \"paymentType\": \"OtherPayment\", //NA = 0, DownPayment = 1,InstallmentPayment = 2,FeePayment = 3, OtherPayment = 4\r\n        \"quote\": \"Q_1212\",\r\n        \"accountNumber\": \"1234567890\"\r\n    },\r\n    \"tenderInfo\": {\r\n        //  \"amount\": 1005.25,\r\n        \"amount\": {{randomAmount}},\r\n        \"accountHolderName\": \"TESt RAJ\",\r\n        \"routingNumber\": \"011000138\",\r\n        \"bankName\": null,\r\n        \"accountNumber\": \"123456789\",\r\n        \"removeDiscounting\": false,\r\n        \"accountType\": \"checking\"\r\n    },\r\n    \"type\": \"OpenPayment\",\r\n    // \"Splits\": [\r\n    //     {\r\n    //         \"VirtualAccount\": \"VirtualAC_03\",\r\n    //         \"Amount\": 40,\r\n    //         \"Reference\": \"null\",\r\n    //         \"ChargeIndicator\": false\r\n    //  },\r\n    // ],\r\n    \"paymentReference\": \"QAT-COD-111124-4113787\",\r\n    \"billingcontact\": null\r\n}\r\n\r\n\r\n// \"id\": \"wKvomp8y\", \r\n\r\n//     \"name\": \"Orn, Grant and Hackett\", \r\n\r\n// Fletcher@yopmail.com\", \r\n\r\n// TaylorNaidu89  123#Qwertyuiop \r\n\r\n// h9kndvrSH3M5tMdUiPaG3YNjLx7pPLPkQ16wppESczM= \r\n\r\n \r\n\r\n// { \r\n\r\n//     \"merchantID\": \"ndDNO7xO\", \r\n\r\n//     \"companyName\": \"Nolan Inc\", \r\n\r\n//     \"merchantDBA\": \"Schinner, Luettgen and Rohan\" \r\n\r\n// } \r\n\r\n\r\n\r\n",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/secure/payments",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "secure",
                    "payments"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_065: Ally login for NACHA",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let jsonData = pm.response.json();\r",
                      "pm.test(\"TC01-Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "pm.environment.set(\"token\", jsonData.token);\r",
                      "pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                      "pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                      "pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                      "pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                      "\r",
                      "pm.environment.set(\"AID\", jsonData.parentId);\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{BaseURL}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": " //Ally NACHA QAT-08/01-\r\n\r\n{\r\n    \"UserName\":\"TaylorNaidu89\",\r\n    \"Password\":\"999#Qwertyuiop\"\r\n}\r\n\r\n//E2EAllytestuser99\r\n// {\r\n//     \"UserName\":\"E2EAllytestuser99\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/users/sessions",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "users",
                    "sessions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_066: Verify that Ally can Get the list of reports available to subscribe for auto generation or view downloaded reports.(NACHA)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "\r",
                      "\r",
                      "let response = pm.response.json();\r",
                      "\r",
                      "// if (Array.isArray(response) && response.length > 0) {\r",
                      "//     response.forEach((item, index) => {\r",
                      "//         let variableName = `report_id${index + 1}`;\r",
                      "//         pm.environment.set(variableName, item.reportId);\r",
                      "//         console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "//     });\r",
                      "// }\r",
                      "\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `report_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.reportId);\r",
                      "        console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"TC01- Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_067: Verify that Ally can Get subscriptions (Auto generate) available for all reports(NACHA)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `report_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.reportId);\r",
                      "        console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"TC01- Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/subscriptions",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "subscriptions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_068: Verify that Ally can Get all previously generated reports(NACHA)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// let response = pm.response.json();\r",
                      "\r",
                      "// // Optional: clear old ids (e.g., id1, id2, etc.)\r",
                      "// for (let i = 1; i <= 10; i++) {\r",
                      "//     pm.environment.unset(`id${i}`);\r",
                      "// }\r",
                      "\r",
                      "// // Save each id dynamically\r",
                      "// if (response.data && response.data.length > 0) {\r",
                      "//     response.data.forEach((item, index) => {\r",
                      "//         let variableName = `id${index + 1}`;\r",
                      "//         pm.environment.set(variableName, item.id);\r",
                      "//         console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "//     });\r",
                      "// } else {\r",
                      "//     console.warn(\"No data found in response.\");\r",
                      "// }\r",
                      "\r",
                      "// pm.test(\"Status code is 200\", function () {\r",
                      "//     pm.response.to.have.status(200);\r",
                      "// });\r",
                      "\r",
                      "let response = pm.response.json();\r",
                      "\r",
                      "// Optional: clear old ids (id1–id10)\r",
                      "for (let i = 1; i <= 10; i++) {\r",
                      "    pm.environment.unset(`id${i}`);\r",
                      "}\r",
                      "\r",
                      "// Save only top 5 IDs\r",
                      "if (response.data && Array.isArray(response.data) && response.data.length > 0) {\r",
                      "    // Slice the first 5 items\r",
                      "    response.data.slice(0, 5).forEach((item, index) => {\r",
                      "        let variableName = `id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "\r",
                      "// Validate response status\r",
                      "pm.test(\"TC01 - Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id5}}/logs",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id5}}",
                    "logs"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_069: Verify that Ally can Download a generated report(NACHA)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"TC01 - Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id5}}/logs/{{id2}}/downloads",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id5}}",
                    "logs",
                    "{{id2}}",
                    "downloads"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_070: Verify that Ally can get logs of previously generated reports(NACHA)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "// Optional: clear old ids (e.g., id1, id2, etc.)\r",
                      "for (let i = 1; i <= 10; i++) {\r",
                      "    pm.environment.unset(`id${i}`);\r",
                      "}\r",
                      "\r",
                      "// Save each id dynamically\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "\r",
                      "pm.test(\"TC01- Status code is 201\", function () {\r",
                      "    pm.response.to.have.status(201);\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "\r\n{\r\n    \"Date\": \"08-29-2025\"\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id5}}/logs",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id5}}",
                    "logs"
                  ]
                }
              },
              "response": []
            }
          ],
          "description": "StartFragment\n\nAs an AndDone Ally\n\nI want the NACHA reports to be generated by including the transaction for all my sub-merchants\n\nso that I can view all transactions of my merchants in a single report for analysis.\n\n<u><b>Details</b></u>\n\n- Daily NACHA Transactions report shall be generated for Allies. Ally shall be subscribed for this report when the NACHA reports feature is enabled for the Ally.\n    \n- Ally NACHA reports shall contain all the ACH transactions done by the Ally Merchants.\n    \n- Add Ally id, Ally username as columns at the end of the report.\n    \n\n## Acceptance Criteria\n\n- Validate that Allies are subscribed to the Daily NACHA transactions report when the feature is enabled for that Ally and the Ally is activated.\n    \n- Validate that the ally report has all the ACH transactions done by their Merchants.\n    \n- Validate that Ally id, Ally username as columns at the end of the report.\n    \n\nEndFragment"
        },
        {
          "name": "Reports",
          "item": [
            {
              "name": "STC_059: Ally login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "\r",
                      "let jsonData = pm.response.json();\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "pm.environment.set(\"token\", jsonData.token);\r",
                      "pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                      "pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                      "pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                      "pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                      "\r",
                      "pm.environment.set(\"AID\", jsonData.parentId);\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{BaseURL}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": " \r\n//  // QAT-17-6RdQwNxX\r\n\r\n//  {\r\n//     \"UserName\":\"RohanWilson10\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }\r\n \r\n \r\n \r\n \r\n \r\n // //Dev\r\n\r\n// {\r\n//     \"UserName\":\"AlexMiller85\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }\r\n\r\n// // //Ally report-YX8XlE8r\r\n{\r\n\"userName\": \"MorganThomas82\",\r\n\"password\": \"123@Qwertyuiop\"\r\n}\r\n\r\n\r\n//ABv9G58a//\r\n// {\r\n//     \"userName\": \"AlexMiller8727\",\r\n//     \"password\": \"AlexMiller@8727\"\r\n// }\r\n\r\n\r\n// //NACHA-LQvz2yvV\r\n\r\n// {\r\n//     \"UserName\":\"CaseyMiller55\",\r\n//     \"Password\":\"Qwertyuiop123#\"\r\n// }\r\n\r\n////QAT NEW yB8BG7dg\r\n// {\r\n//     \"UserName\":\"HarshadNaidu34\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }\r\n // //Vn8MBKd2\r\n// {\r\n//     \"UserName\":\"KarthikPatel36\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }\r\n\r\n// {\r\n// \"userName\": \"CameronAnderson58\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }\r\n\r\n// // //UAT\r\n\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/users/sessions",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "users",
                    "sessions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_060: Verify that Ally can Get the list of reports available for Ally to subscribe for auto generation or view downloaded reports.",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "\r",
                      "\r",
                      "let response = pm.response.json();\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `report_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.reportId);\r",
                      "        console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "pm.test(\"Body matches string\", function () {\r",
                      "    pm.expect(pm.response.text()).to.include(\"Monthly Profitability Report\");\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_061: Verify that Ally can Get subscriptions (Auto generate) available for all reports",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `report_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.reportId);\r",
                      "        console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `subscription_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"Body matches string\", function () {\r",
                      "    pm.expect(pm.response.text()).to.include(\"L68Krxoq\");\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/subscriptions",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "subscriptions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_062: Verify that Ally can Get all previously generated reports",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "// Optional: clear old ids (id1–id10)\r",
                      "for (let i = 1; i <= 10; i++) {\r",
                      "    pm.environment.unset(`id${i}`);\r",
                      "}\r",
                      "\r",
                      "// Save only top 5 IDs\r",
                      "if (response.data && Array.isArray(response.data) && response.data.length > 0) {\r",
                      "    // Slice the first 5 items\r",
                      "    response.data.slice(0, 5).forEach((item, index) => {\r",
                      "        let variableName = `id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "\r",
                      "// Validate response status\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id1}}/logs",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id1}}",
                    "logs"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_063: Verify that Ally can Download a generated report",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "// Extract and store download link in environment\r",
                      "let jsonData = pm.response.json();\r",
                      "pm.environment.set(\"downloadLink\", jsonData.downloadLink);\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id1}}/logs/{{id1}}/downloads",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id1}}",
                    "logs",
                    "{{id1}}",
                    "downloads"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_088:Verify that Ally can Download CSV generated report using secure API.",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "// Get raw response\r",
                      "let rawData = pm.response.text();\r",
                      "\r",
                      "// Split rows\r",
                      "let rows = rawData.trim().split(\"\\n\");\r",
                      "\r",
                      "// Extract headers\r",
                      "let headers = rows[0].split(\",\");\r",
                      "\r",
                      "// Extract first data row\r",
                      "let dataRow = rows[1].split(\",\");\r",
                      "\r",
                      "// Define expected headers\r",
                      "let expectedHeaders = [\r",
                      "    \"MerchantId\",\"TransactionId\",\"TransactionType\",\"MerchantReference\",\r",
                      "    \"TraceNumber\",\"PaymentMethod\",\"Brand\",\"Currency\",\"TimeZone\",\"SubTotal\",\r",
                      "    \"TotalAmount\",\"TechnologyFee\"\r",
                      "];\r",
                      "\r",
                      "// ✅ Validate headers exist\r",
                      "expectedHeaders.forEach(h => {\r",
                      "    pm.test(`Header exists: ${h}`, function () {\r",
                      "        pm.expect(headers).to.include(h);\r",
                      "    });\r",
                      "});\r",
                      "\r",
                      "// ✅ Build row object { header: value }\r",
                      "let row = {};\r",
                      "headers.forEach((h, i) => {\r",
                      "    row[h] = dataRow[i];\r",
                      "});\r",
                      "\r",
                      "\r",
                      "\r",
                      "// ✅ Validate specific rules\r",
                      "pm.test(\"Currency should be USD\", () => {\r",
                      "    pm.expect(row.Currency).to.eql(\"USD\");\r",
                      "});\r",
                      "\r",
                      "\r",
                      "\r",
                      "// pm.test(\"Amounts should be numeric\", () => {\r",
                      "//     [\"SubTotal\",\"TotalAmount\",\"TechnologyFee\",\"PartnerShare\",\"CommissionAmount\",\"NetSettlementAmount\"].forEach(f => {\r",
                      "//         pm.expect(Number(row[f])).not.NaN;\r",
                      "//     });\r",
                      "//});\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "apikey",
                  "apikey": [
                    {
                      "key": "value",
                      "value": "UgDg/dqLRNEP8E0uAQ3MAo6LPL0J25S7nqVrPwowIUs=",
                      "type": "string"
                    },
                    {
                      "key": "in",
                      "value": "header",
                      "type": "string"
                    },
                    {
                      "key": "key",
                      "value": "x-api-key",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  },
                  {
                    "key": "x-version",
                    "value": "2.2",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"ReportId\": \"{{report_id1}}\",\r\n    \"ReportGenerationLogId\": \"{{id1}}\",\r\n   // \"Date\": \"06-10-2025\",\r\n    \"FileCompress\": false\r\n}\r\n\r\n// {\r\n//     \"ReportId\": \"\",\r\n//     \"ReportGenerationLogId\": \"\",\r\n//    // \"Date\": \"06-10-2025\",\r\n//     \"FileCompress\": false\r\n// }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/secure/reports/downloads",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "secure",
                    "reports",
                    "downloads"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_064: Verify that Ally can Generate a previous report.",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "\r",
                      "\r",
                      "pm.test(\"Status code is 201\", function () {\r",
                      "    pm.response.to.have.status(201);\r",
                      "pm.test(\"Body matches string\", function () {\r",
                      "    pm.expect(pm.response.text()).to.include(\"Daily Authorization Report\");\r",
                      "});\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "\r\n{\r\n    \"Date\": \"07-31-2025\"\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id1}}/logs",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id1}}",
                    "logs"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Monthly Profitability Report",
          "item": [
            {
              "name": "STC_082: Ally login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "\r",
                      "let jsonData = pm.response.json();\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "pm.environment.set(\"token\", jsonData.token);\r",
                      "pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                      "pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                      "pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                      "pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                      "\r",
                      "pm.environment.set(\"AID\", jsonData.parentId);\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{BaseURL}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": " \r\n // -------------- gNxr3n8l>>>>>>>>>>>>>>>>q3OroyOzljPCmuPMCYvN5KzPIJqZsoQkxF8BPocM8pk=\r\n//   {\r\n//     \"UserName\":\"RohanPatel39\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }\r\n//---------------------------------------------------\r\n// yB8B6J8g\r\n\r\n// {\r\n//     \"UserName\":\"KarthikWilson45\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }\r\n\r\n //\\\\\\-----------------------------------------------------wKvomp8y>>>MID>>ndDNO7xO\r\n//   {\r\n//     \"UserName\":\"TaylorNaidu89\",\r\n//     \"Password\":\"123#Qwertyuiop\"\r\n// }\r\n\r\n\r\n//\\\\\\---------------------// // //QAT-Blx3ZKv1 >>>>>>Allyuser..jdeaB4dz>>>>>>>>>>>MID>>Z8goej8o>>MxaKqOd3\r\n\r\n{\r\n\"userName\": \"TaylorVerma89\",\r\n\"password\": \"123#Qwertyuiop\"\r\n}\r\n",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/users/sessions",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "users",
                    "sessions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_083: Verify that Ally can Get subscriptions (Auto generate) available for all reports",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `report_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.reportId);\r",
                      "        console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `subscription_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"Body matches string\", function () {\r",
                      "    pm.expect(pm.response.text()).to.include(\"L68Krxoq\");\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/subscriptions",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "subscriptions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_084: Verify that Ally can Get all previously generated reports",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "// Optional: clear old ids (e.g., id1, id2, etc.)\r",
                      "for (let i = 1; i <= 10; i++) {\r",
                      "    pm.environment.unset(`id${i}`);\r",
                      "}\r",
                      "\r",
                      "// Save each id dynamically\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "pm.test(\"Body matches string\", function () {\r",
                      "    pm.expect(pm.response.text()).to.include(\"Monthly Profitability Report\");\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id2}}/logs",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id2}}",
                    "logs"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_086: Verify that Ally can Download CSV generated report using API key",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "// Get raw response\r",
                      "let rawData = pm.response.text();\r",
                      "\r",
                      "// Split rows\r",
                      "let rows = rawData.trim().split(\"\\n\");\r",
                      "\r",
                      "// Extract headers\r",
                      "let headers = rows[0].split(\",\");\r",
                      "\r",
                      "// Extract first data row\r",
                      "let dataRow = rows[1].split(\",\");\r",
                      "\r",
                      "// Define expected headers\r",
                      "let expectedHeaders = [\r",
                      "    \"MerchantId\",\"MerchantName\",\"TransactionId\",\"TransactionType\",\"MerchantReference\",\r",
                      "    \"TraceNumber\",\"PaymentMethod\",\"Brand\",\"CreatedOn\",\"Currency\",\"TimeZone\",\"SubTotal\",\r",
                      "    \"TotalAmount\",\"TechnologyFee\",\"PartnerShare\",\"CommissionAmount\",\"NetSettlementAmount\",\r",
                      "    \"SettlementDate\",\"UserId\",\"UserName\"\r",
                      "];\r",
                      "\r",
                      "// ✅ Validate headers exist\r",
                      "expectedHeaders.forEach(h => {\r",
                      "    pm.test(`Header exists: ${h}`, function () {\r",
                      "        pm.expect(headers).to.include(h);\r",
                      "    });\r",
                      "});\r",
                      "\r",
                      "// ✅ Build row object { header: value }\r",
                      "let row = {};\r",
                      "headers.forEach((h, i) => {\r",
                      "    row[h] = dataRow[i];\r",
                      "});\r",
                      "\r",
                      "\r",
                      "\r",
                      "// ✅ Validate specific rules\r",
                      "pm.test(\"Currency should be USD\", () => {\r",
                      "    pm.expect(row.Currency).to.eql(\"USD\");\r",
                      "});\r",
                      "\r",
                      "\r",
                      "\r",
                      "pm.test(\"Amounts should be numeric\", () => {\r",
                      "    [\"SubTotal\",\"TotalAmount\",\"TechnologyFee\",\"PartnerShare\",\"CommissionAmount\",\"NetSettlementAmount\"].forEach(f => {\r",
                      "        pm.expect(Number(row[f])).not.NaN;\r",
                      "    });\r",
                      "});\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "apikey",
                  "apikey": [
                    {
                      "key": "value",
                      "value": "{{env_merchantAccessKey1}}",
                      "type": "string"
                    },
                    {
                      "key": "in",
                      "value": "header",
                      "type": "string"
                    },
                    {
                      "key": "key",
                      "value": "x-api-key",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  },
                  {
                    "key": "x-version",
                    "value": "2.2",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"ReportId\": \"{{report_id2}}\",\r\n    \"ReportGenerationLogId\": \"{{id2}}\",\r\n   // \"Date\": \"06-10-2025\",\r\n    \"FileCompress\": false\r\n}\r\n\r\n// {\r\n//     \"ReportId\": \"\",\r\n//     \"ReportGenerationLogId\": \"\",\r\n//    // \"Date\": \"06-10-2025\",\r\n//     \"FileCompress\": false\r\n// }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/secure/reports/downloads",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "secure",
                    "reports",
                    "downloads"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_085: Verify that Ally can Download a generated report",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "pm.test(\"Body matches string\", function () {\r",
                      "    pm.expect(pm.response.text()).to.include(\"downloadLink\");\r",
                      "});\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "PUT",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/reports/{{report_id2}}/logs/{{id1}}/downloads",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "reports",
                    "{{report_id2}}",
                    "logs",
                    "{{id1}}",
                    "downloads"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_087: Verify that Ally can Download pdf generated report using API key",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "// // Get raw response\r",
                      "// let rawData = pm.response.text();\r",
                      "\r",
                      "// // Split rows\r",
                      "// let rows = rawData.trim().split(\"\\n\");\r",
                      "\r",
                      "// // Extract headers\r",
                      "// let headers = rows[0].split(\",\");\r",
                      "\r",
                      "// // Extract first data row\r",
                      "// let dataRow = rows[1].split(\",\");\r",
                      "\r",
                      "// // Define expected headers\r",
                      "// let expectedHeaders = [\r",
                      "//     \"MerchantId\",\"MerchantName\",\"TransactionId\",\"TransactionType\",\"MerchantReference\",\r",
                      "//     \"TraceNumber\",\"PaymentMethod\",\"Brand\",\"CreatedOn\",\"Currency\",\"TimeZone\",\"SubTotal\",\r",
                      "//     \"TotalAmount\",\"TechnologyFee\",\"PartnerShare\",\"CommissionAmount\",\"NetSettlementAmount\",\r",
                      "//     \"SettlementDate\",\"UserId\",\"UserName\"\r",
                      "// ];\r",
                      "\r",
                      "// // ✅ Validate headers exist\r",
                      "// expectedHeaders.forEach(h => {\r",
                      "//     pm.test(`Header exists: ${h}`, function () {\r",
                      "//         pm.expect(headers).to.include(h);\r",
                      "//     });\r",
                      "// });\r",
                      "\r",
                      "// // ✅ Build row object { header: value }\r",
                      "// let row = {};\r",
                      "// headers.forEach((h, i) => {\r",
                      "//     row[h] = dataRow[i];\r",
                      "// });\r",
                      "\r",
                      "\r",
                      "\r",
                      "// // ✅ Validate specific rules\r",
                      "// pm.test(\"Currency should be USD\", () => {\r",
                      "//     pm.expect(row.Currency).to.eql(\"USD\");\r",
                      "// });\r",
                      "\r",
                      "\r",
                      "\r",
                      "// pm.test(\"Amounts should be numeric\", () => {\r",
                      "//     [\"SubTotal\",\"TotalAmount\",\"TechnologyFee\",\"PartnerShare\",\"CommissionAmount\",\"NetSettlementAmount\"].forEach(f => {\r",
                      "//         pm.expect(Number(row[f])).not.NaN;\r",
                      "//     });\r",
                      "// });\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "apikey",
                  "apikey": [
                    {
                      "key": "value",
                      "value": "{{env_merchantAccessKey1}}",
                      "type": "string"
                    },
                    {
                      "key": "in",
                      "value": "header",
                      "type": "string"
                    },
                    {
                      "key": "key",
                      "value": "x-api-key",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  },
                  {
                    "key": "x-version",
                    "value": "2.2",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n    \"ReportId\": \"{{report_id2}}\",\r\n    \"ReportGenerationLogId\": \"{{id1}}\",\r\n   // \"Date\": \"06-10-2025\",\r\n    \"FileCompress\": false\r\n}\r\n\r\n// {\r\n//     \"ReportId\": \"\",\r\n//     \"ReportGenerationLogId\": \"\",\r\n//    // \"Date\": \"06-10-2025\",\r\n//     \"FileCompress\": false\r\n// }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/secure/reports/downloads",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "secure",
                    "reports",
                    "downloads"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Summary Reports",
          "item": [
            {
              "name": "Login Admin",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let jsonData = pm.response.json();\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "pm.environment.set(\"token\", jsonData.token);\r",
                      "pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                      "pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                      "pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                      "pm.environment.set(\"env_merchantId\", jsonData.merchantId);"
                    ],
                    "type": "text/javascript",
                    "packages": {}
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{BaseURL}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": " // //Dev\r\n\r\n// {\r\n//     \"UserName\":\"AdminUser\",\r\n//     \"Password\":\"AdminDev#252025\"\r\n// }\r\n\r\n// // //QAT\r\n{\r\n\"userName\": \"SiddheshwarQAT\",\r\n\"password\": \"678#Qwertyuiop\"\r\n}\r\n\r\n// // //UAT\r\n\r\n//  {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/users/sessions",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "users",
                    "sessions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC075: Verify that Ally can Get settlement summary",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `report_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.reportId);\r",
                      "        console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `subscription_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/reports/settlementsummary?DaysCount=360&isTransactionCostBreakDown=true",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "reports",
                    "settlementsummary"
                  ],
                  "query": [
                    {
                      "key": "DaysCount",
                      "value": "360"
                    },
                    {
                      "key": "isTransactionCostBreakDown",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_076: Verify that Ally can Get Single merchant summary which belong to ally",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// {\r",
                      "\r",
                      "//     //ally core-MID Z8goej8o, MxaKqOd3\r",
                      "\r",
                      "// coreMID-\r",
                      "\r",
                      "// }\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "pm.test(\"Body matches string\", function () {\r",
                      "    pm.expect(pm.response.text()).to.include(\"partnerShare\");\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/reports/settlementsummary/{{merchantId1}}?DaysCount=120&isTransactionCostBreakDown=true",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "reports",
                    "settlementsummary",
                    "{{merchantId1}}"
                  ],
                  "query": [
                    {
                      "key": "DaysCount",
                      "value": "120"
                    },
                    {
                      "key": "isTransactionCostBreakDown",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_078: Verify that Ally can Get Single merchant summary which belong to CORE merchant.",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// {\r",
                      "\r",
                      "//     //ally core-MID Z8goej8o, MxaKqOd3\r",
                      "\r",
                      "// coreMID-6RdQ4b8X\r",
                      "\r",
                      "// }\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "protocolProfileBehavior": {
                "disableBodyPruning": true
              },
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/reports/settlementsummary/{{merchantId2}}?DaysCount=120&isTransactionCostBreakDown=true",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "reports",
                    "settlementsummary",
                    "{{merchantId2}}"
                  ],
                  "query": [
                    {
                      "key": "DaysCount",
                      "value": "120"
                    },
                    {
                      "key": "isTransactionCostBreakDown",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "STC_079: Verify that Ally can Get Transaction Summary",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "let response = pm.response.json();\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `report_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.reportId);\r",
                      "        console.log(`Saved ${variableName}: ${item.reportId}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}\r",
                      "pm.test(\"Status code is 200\", function () {\r",
                      "    pm.response.to.have.status(200);\r",
                      "});\r",
                      "\r",
                      "if (response.data && response.data.length > 0) {\r",
                      "    response.data.forEach((item, index) => {\r",
                      "        let variableName = `subscription_id${index + 1}`;\r",
                      "        pm.environment.set(variableName, item.id);\r",
                      "        console.log(`Saved ${variableName}: ${item.id}`);\r",
                      "    });\r",
                      "} else {\r",
                      "    console.warn(\"No data found in response.\");\r",
                      "}"
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "setTimeout(() => {\r",
                      "    console.log(\"Delay executed\");\r",
                      "}, 2000); // 2-second delay\r",
                      "\r",
                      ""
                    ],
                    "type": "text/javascript",
                    "packages": {},
                    "requests": {}
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{origin_admin}}",
                    "type": "text"
                  }
                ],
                "url": {
                  "raw": "{{BaseURL}}/reports/transactionsummary?DaysCount=360&isTransactionCostBreakDown=true",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "reports",
                    "transactionsummary"
                  ],
                  "query": [
                    {
                      "key": "DaysCount",
                      "value": "360"
                    },
                    {
                      "key": "isTransactionCostBreakDown",
                      "value": "true"
                    }
                  ]
                }
              },
              "response": []
            }
          ],
          "description": "StartFragment\n\nAs an AndDone Admin\n\nI would like the summary reports to be updated based on the Ally Fees\n\nso that I will get the accurate information in the summary reports api information.\n\n<u><b>Details:</b></u>\n\n<u><b>APIs</b></u>\n\n- {{BaseURL}}/reports/settlementsummary ( Settlement Summary )\n    \n- {{BaseURL}}/reports/settlementsummary/OgdZ5m8N ( Single Merchant Summary)\n    \n- {{BaseURL}}/reports/transactionsummary ( Transaction Summary)\n    \n\n<u><b>Details:</b></u>\n\nTotal Transaction Cost shall consider another parameter called - Partner Share.\n\n**Partner Share = Processing Fee - Partner Sell Rate**\n\nThis will be added for all Ally transactions and the Partner Sell Rate shall be obtained from the transaction table.\n\nPartner Share will be added to the Transaction Cost Breakdown object in the api.\n\n## Acceptance Criteria\n\n- Validate that transaction cost considers Partner share as a new cost\n    \n- Validate that the Partner Share is listed as a property in the cost breakdown object.\n    \n- Validate these updates for all the listed apis.\n    \n- Validate the data integrity of the new updates to the api.\n    \n\nEndFragment"
        }
      ]
    },
    {
      "name": "Ally Notifications",
      "item": [
        {
          "name": "STC_093: Login Ally",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Validate token is present and save to environment\r",
                  "pm.test(\"TC02 - Validate token is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"token\");\r",
                  "    pm.expect(jsonData.token).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"token\", jsonData.token);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC03 - Validate refreshToken is present and save to environment\r",
                  "pm.test(\"TC03 - Validate refreshToken is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"refreshToken\");\r",
                  "    pm.expect(jsonData.refreshToken).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC04 - Validate parentId is present and save to environment\r",
                  "pm.test(\"TC04 - Validate parentId is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"parentId\");\r",
                  "    pm.expect(jsonData.parentId).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC05 - Validate resellerId is present and save to environment\r",
                  "pm.test(\"TC05 - Validate resellerId is present and save to environment\", function () {\r",
                  "    pm.expect(jsonData).to.have.property(\"resellerId\");\r",
                  "    pm.expect(jsonData.resellerId).to.be.a(\"string\").that.is.not.empty;\r",
                  "    pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "});\r",
                  "\r",
                  "// // ✅ TC06 - Validate merchantId is present and save to environment\r",
                  "// pm.test(\"TC06 - Validate merchantId is present and save to environment\", function () {\r",
                  "//     pm.expect(jsonData).to.have.property(\"merchantId\");\r",
                  "//     pm.expect(jsonData.merchantId).to.be.a(\"string\").that.is.not.empty;\r",
                  "//     pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "\r",
                  "//OLD//\r",
                  "\r",
                  "\r",
                  "// let jsonData = pm.response.json();\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.environment.set(\"token\", jsonData.token);\r",
                  "// pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "// pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "// pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "// pm.environment.set(\"env_merchantId\", jsonData.merchantId);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "// {\r\n//     \"userName\": \"{{allyUserName}}\",\r\n//     \"password\": \"{{allyPassword}}\"\r\n// }\r\n\r\n//Dev\r\n{\r\n      \"userName\": \"AlexThomas2731\",\r\n      \"password\": \"123#Qwertyuiop\"\r\n }\r\n//QAT\r\n// {\r\n// \"userName\": \"SiddheshwarQAT\",\r\n// \"password\": \"678#Qwertyuiop\"\r\n// }\r\n// // //UAT\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }\r\n// {\r\n// \"userName\": \"TaylorDavis5933\",\r\n// \"password\": \"TaylorDavis#5933\"\r\n// }\r\n// LQvzzEvV\r\n// {\r\n// \"userName\": \"AlexThomas2731\",\r\n// \"password\": \"AlexThomas@2731\"\r\n// }\r\n// {\r\n// \"userName\": \"AlexDavis4070\",\r\n// \"password\": \"AlexDavis@4070\"\r\n// }\r\n// {\r\n// \"userName\": \"CameronMiller6729\",\r\n// \"password\": \"CameronMiller@6729\"\r\n// }\r\n// {\r\n// \"userName\": \"CameronJohnson1394\",\r\n// \"password\": \"CameronJohnson@1394\"\r\n// }\r\n// {\r\n// \"userName\": \"CameronBrown83\",\r\n// \"password\": \"CameronBrown@83\"\r\n// }\r\n//Vn8MZ7d2\r\n// {\r\n// \"userName\": \"MorganWilson32\",\r\n// \"password\": \"MorganWilson@32\"\r\n// }\r\n// {\r\n//     \"userName\": \"JordanAnderson7874\",\r\n//     \"password\": \"JordanAnderson@7874\"\r\n// }\r\n//  {\r\n// \"userName\": \"CaseyMiller127\",\r\n// \"password\": \"CaseyMiller@127\"\r\n// }\r\n// {\r\n// \"userName\": \"JordanBrown1951\",\r\n// \"password\": \"JordanBrown@1951\"\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_094: Verify that Ally can Get all notifications",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test Case 01 - Success Response status code is 200",
                  "pm.test(\"TC01 - Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store the notification IDs, distributionlist Ids and template ids in environment variable",
                  "let response = pm.response.json();",
                  "if (response.data && response.data.length > 0) {",
                  "    response.data.forEach((item, index) => {",
                  "        let variableName = `notification_id${index + 1}`;",
                  "        pm.environment.set(variableName, item.id);",
                  "        console.log(`Saved ${variableName}: ${item.id}`);",
                  "",
                  "        item.emailTemplates.forEach((template, index) => {",
                  "        let variableName1 = `template_id${index + 1}`;",
                  "        if(variableName == 'notification_id1'){",
                  "        pm.environment.set(variableName1, template.id);",
                  "        console.log(`Saved ${variableName1}: ${template.id}`);",
                  "        }",
                  "        });",
                  "",
                  "        // Save all distribution list IDs regardless of position",
                  "        if (item.distributionList && item.distributionList.id) {",
                  "            let distListVarName = `distributionList_id${index + 1}`;",
                  "            pm.environment.set(distListVarName, item.distributionList.id);",
                  "            console.log(`Saved ${distListVarName}: ${item.distributionList.id}`);",
                  "        }",
                  "    });",
                  "} else {",
                  "    console.warn(\"No data found in response.\");",
                  "}",
                  "",
                  "// Test Case 02 - Test notification item structure",
                  "pm.test(\"TC02 - Each notification has the expected properties\", function () {",
                  "    const responseJson = pm.response.json();",
                  "    const data = responseJson.data;",
                  "    ",
                  "    // Define required properties for each notification",
                  "    const requiredProps = [",
                  "        'id', 'eventName', 'eventType', 'description', ",
                  "        'status', 'distributionList', 'emailTemplates', 'notificationType'",
                  "    ];",
                  "    ",
                  "    // Check each notification",
                  "    pm.expect(data).to.be.an('array');",
                  "    if (data.length > 0) {",
                  "        data.forEach((notification, index) => {",
                  "            requiredProps.forEach(prop => {",
                  "                pm.expect(notification).to.have.property(prop);",
                  "            });",
                  "        });",
                  "    }",
                  "});",
                  "",
                  "// // Test Case 01 - Success Response status code is 200",
                  "// pm.test(\"TC01 - Status code is 200\", function () {",
                  "//     pm.response.to.have.status(200);",
                  "// });",
                  "",
                  "// // Store the notification IDs, distributionlist Ids and template ids in environment variable",
                  "// let response = pm.response.json();",
                  "",
                  "// if (response.data && response.data.length > 0) {",
                  "//     response.data.forEach((item, index) => {",
                  "//         let variableName = `notification_id${index + 1}`;",
                  "//         pm.environment.set(variableName, item.id);",
                  "//         console.log(`Saved ${variableName}: ${item.id}`);",
                  "",
                  "//         item.emailTemplates.forEach((template, index) => {",
                  "//             let variableName1 = `template_id${index + 1}`;",
                  "//             if(variableName == 'notification_id1'){",
                  "//                 pm.environment.set(variableName1, template.id);",
                  "//             }",
                  "//         });",
                  "",
                  "//         if (item.distributionList && item.distributionList.id && variableName == 'notification_id1') {",
                  "//             pm.environment.set('distributionList_id1', item.distributionList.id);",
                  "//         }",
                  "//     });",
                  "// } else {",
                  "//     console.warn(\"No data found in response.\");",
                  "// }",
                  "",
                  "// // Test Case 02 - Test notification item structure",
                  "// pm.test(\"TC02 - Each notification has the expected properties\", function () {",
                  "//     const responseJson = pm.response.json();",
                  "//     const data = responseJson.data;",
                  "    ",
                  "//     // Define required properties for each notification",
                  "//     const requiredProps = [",
                  "//         'id', 'eventName', 'eventType', 'description', ",
                  "//         'status', 'distributionList', 'emailTemplates', 'notificationType'",
                  "//     ];",
                  "    ",
                  "//     // Check each notification",
                  "//     pm.expect(data).to.be.an('array');",
                  "//     if (data.length > 0) {",
                  "//         data.forEach((notification, index) => {",
                  "//             requiredProps.forEach(prop => {",
                  "//                 pm.expect(notification).to.have.property(prop);",
                  "//             });",
                  "//         });",
                  "//     }",
                  "// });"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications?sortField=eventName&asc=true&pageSize=5&startRow=10&notificationType=Ally",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications"
              ],
              "query": [
                {
                  "key": "sortField",
                  "value": "eventName"
                },
                {
                  "key": "asc",
                  "value": "true"
                },
                {
                  "key": "pageSize",
                  "value": "5"
                },
                {
                  "key": "startRow",
                  "value": "10"
                },
                {
                  "key": "statuses",
                  "value": "Active",
                  "disabled": true
                },
                {
                  "key": "eventTypes",
                  "value": "Support",
                  "disabled": true
                },
                {
                  "key": "notificationType",
                  "value": "Ally"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_095: Verify that Ally can Get notifications details of a notification",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test case 01 - Test suite for GET notification details by ID",
                  "pm.test(\"TC01 - Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test case 02",
                  "pm.test(\"TC02 - Response contains all expected fields\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    ",
                  "    // Check for required top-level fields",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('eventName');",
                  "    pm.expect(jsonData).to.have.property('eventType');",
                  "    pm.expect(jsonData).to.have.property('description');",
                  "    pm.expect(jsonData).to.have.property('isPaused');",
                  "    pm.expect(jsonData).to.have.property('distributionList');",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData).to.have.property('emailTemplates');",
                  "    pm.expect(jsonData).to.have.property('notificationType');",
                  "    ",
                  "    // Validate data types of top-level fields",
                  "    pm.expect(jsonData.id).to.be.a('string');",
                  "    pm.expect(jsonData.eventName).to.be.a('string');",
                  "    pm.expect(jsonData.eventType).to.be.a('string');",
                  "    pm.expect(jsonData.description).to.be.a('string');",
                  "    pm.expect(jsonData.isPaused).to.be.a('boolean');",
                  "    pm.expect(jsonData.status).to.be.a('string');",
                  "    pm.expect(jsonData.notificationType).to.be.a('number');",
                  "});",
                  "",
                  "pm.test(\"TC03 - Distribution list contains expected properties and verify email count\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    ",
                  "    // Check if distributionList exists and is an object",
                  "    pm.expect(jsonData.distributionList).to.be.an('object');",
                  "    ",
                  "    // Check for required fields in distributionList",
                  "    const distributionList = jsonData.distributionList;",
                  "    pm.expect(distributionList).to.have.property('id');",
                  "    pm.expect(distributionList).to.have.property('parentId');",
                  "    pm.expect(distributionList).to.have.property('notificationEventId');",
                  "    pm.expect(distributionList).to.have.property('emailList');",
                  "    pm.expect(distributionList).to.have.property('emailCount');",
                  "    pm.expect(distributionList).to.have.property('createdOn');",
                  "    pm.expect(distributionList).to.have.property('createdBy');",
                  "    pm.expect(distributionList).to.have.property('modifiedOn');",
                  "    pm.expect(distributionList).to.have.property('modifiedBy');",
                  "    ",
                  "    // Validate data types of distributionList fields",
                  "    pm.expect(distributionList.id).to.be.a('string');",
                  "    pm.expect(distributionList.parentId).to.be.a('string');",
                  "    pm.expect(distributionList.notificationEventId).to.be.a('string');",
                  "    pm.expect(distributionList.emailList).to.be.an('array');",
                  "    pm.expect(distributionList.emailCount).to.be.a('number');",
                  "    pm.expect(distributionList.createdOn).to.be.a('string');",
                  "    pm.expect(distributionList.createdBy).to.be.a('string');",
                  "    pm.expect(distributionList.modifiedOn).to.be.a('string');",
                  "    pm.expect(distributionList.modifiedBy).to.be.a('string');",
                  "    ",
                  "    // Check if emailCount matches the actual length of emailList",
                  "    pm.expect(distributionList.emailCount).to.equal(distributionList.emailList.length);",
                  "});",
                  "",
                  "pm.test(\"TC04 - Email template has correct structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    ",
                  "    // Check structure of each email template",
                  "    jsonData.emailTemplates.forEach(function(template) {",
                  "        pm.expect(template).to.have.property('id');",
                  "        pm.expect(template).to.have.property('name');",
                  "        pm.expect(template).to.have.property('description');",
                  "        pm.expect(template).to.have.property('parentId');",
                  "        pm.expect(template).to.have.property('templateSubject');",
                  "        pm.expect(template).to.have.property('templateText');",
                  "        pm.expect(template).to.have.property('from');",
                  "        pm.expect(template).to.have.property('to');",
                  "        pm.expect(template).to.have.property('cc');",
                  "        pm.expect(template).to.have.property('bcc');",
                  "        pm.expect(template).to.have.property('isDefaultTemplate');",
                  "        pm.expect(template).to.have.property('createdOn');",
                  "        pm.expect(template).to.have.property('createdBy');",
                  "        pm.expect(template).to.have.property('modifiedOn');",
                  "        pm.expect(template).to.have.property('modifiedBy');",
                  "        pm.expect(template).to.have.property('isPlatformDefault');",
                  "        pm.expect(template).to.have.property('isPlainText');",
                  "        pm.expect(template).to.have.property('isAdminEdited');",
                  "        ",
                  "        // Validate data types of template fields",
                  "        pm.expect(template.id).to.be.a('string');",
                  "        pm.expect(template.name).to.be.a('string');",
                  "        pm.expect(template.description).to.be.a('string');",
                  "        pm.expect(template.parentId).to.be.a('string');",
                  "        pm.expect(template.templateSubject).to.be.a('string');",
                  "        pm.expect(template.templateText).to.be.a('string');",
                  "        pm.expect(template.isDefaultTemplate).to.be.a('boolean');",
                  "        pm.expect(template.createdOn).to.be.a('string');",
                  "        pm.expect(template.createdBy).to.be.a('string');",
                  "        pm.expect(template.modifiedOn).to.be.a('string');",
                  "        pm.expect(template.modifiedBy).to.be.a('string');",
                  "        pm.expect(template.isPlatformDefault).to.be.a('boolean');",
                  "        pm.expect(template.isPlainText).to.be.a('boolean');",
                  "        pm.expect(template.isAdminEdited).to.be.a('boolean');",
                  "    });",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications/{{notification_id1}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications",
                "{{notification_id1}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_096: Verify that Ally can Get Distribution List by Id",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test for successful status code",
                  "pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Parse the response JSON for further testing",
                  "const responseData = pm.response.json();",
                  "",
                  "// Test for required fields in the response",
                  "pm.test(\"Response contains all required fields\", function () {",
                  "    pm.expect(responseData).to.have.property('id');",
                  "    pm.expect(responseData).to.have.property('parentId');",
                  "    pm.expect(responseData).to.have.property('notificationId');",
                  "    pm.expect(responseData).to.have.property('emailList');",
                  "    pm.expect(responseData).to.have.property('emailCount');",
                  "    pm.expect(responseData).to.have.property('createdOn');",
                  "    pm.expect(responseData).to.have.property('createdBy');",
                  "    pm.expect(responseData).to.have.property('modifiedOn');",
                  "    pm.expect(responseData).to.have.property('modifiedBy');",
                  "});",
                  "",
                  "// Test for correct data types",
                  "pm.test(\"Response fields have correct data types\", function () {",
                  "    pm.expect(responseData.id).to.be.a('string');",
                  "    pm.expect(responseData.parentId).to.be.a('string');",
                  "    pm.expect(responseData.notificationId).to.be.a('string');",
                  "    pm.expect(responseData.emailList).to.be.an('array');",
                  "    pm.expect(responseData.emailCount).to.be.a('number');",
                  "    pm.expect(responseData.createdOn).to.be.a('string');",
                  "    pm.expect(responseData.createdBy).to.be.a('string');",
                  "    pm.expect(responseData.modifiedOn).to.be.a('string');",
                  "    pm.expect(responseData.modifiedBy).to.be.a('string');",
                  "});",
                  "",
                  "// Test that email list was updated correctly",
                  "pm.test(\"Email list count is correct\", function () {",
                  "    pm.expect(responseData.emailList.length).to.eql(responseData.emailCount);",
                  "});",
                  "",
                  "// Test for consistency between request path and response",
                  "pm.test(\"Response IDs match request path parameters\", function () {",
                  "    const requestUrl = pm.request.url.toString();",
                  "    pm.expect(requestUrl).to.include(responseData.id);",
                  "    pm.expect(requestUrl).to.include(responseData.notificationId);",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications/{{notification_id1}}/distributionlist/{{distributionList_id1}}?pageSize=10&startRow=0&asc=true",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications",
                "{{notification_id1}}",
                "distributionlist",
                "{{distributionList_id1}}"
              ],
              "query": [
                {
                  "key": "pageSize",
                  "value": "10"
                },
                {
                  "key": "startRow",
                  "value": "0"
                },
                {
                  "key": "emailId",
                  "value": "test",
                  "disabled": true
                },
                {
                  "key": "asc",
                  "value": "true"
                },
                {
                  "key": "sortField",
                  "value": "",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_097: Verify that Ally can Update Distribution List",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test for successful status code",
                  "pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Parse the response JSON for further testing",
                  "const responseData = pm.response.json();",
                  "",
                  "// Test for required fields in the response",
                  "pm.test(\"Response contains all required fields\", function () {",
                  "    pm.expect(responseData).to.have.property('id');",
                  "    pm.expect(responseData).to.have.property('parentId');",
                  "    pm.expect(responseData).to.have.property('notificationEventId');",
                  "    pm.expect(responseData).to.have.property('emailList');",
                  "    pm.expect(responseData).to.have.property('emailCount');",
                  "    pm.expect(responseData).to.have.property('createdOn');",
                  "    pm.expect(responseData).to.have.property('createdBy');",
                  "    pm.expect(responseData).to.have.property('modifiedOn');",
                  "    pm.expect(responseData).to.have.property('modifiedBy');",
                  "});",
                  "",
                  "// Test for correct data types",
                  "pm.test(\"Response fields have correct data types\", function () {",
                  "    pm.expect(responseData.id).to.be.a('string');",
                  "    pm.expect(responseData.parentId).to.be.a('string');",
                  "    pm.expect(responseData.notificationEventId).to.be.a('string');",
                  "    pm.expect(responseData.emailList).to.be.an('array');",
                  "    pm.expect(responseData.emailCount).to.be.a('number');",
                  "    pm.expect(responseData.createdOn).to.be.a('string');",
                  "    pm.expect(responseData.createdBy).to.be.a('string');",
                  "    pm.expect(responseData.modifiedOn).to.be.a('string');",
                  "    pm.expect(responseData.modifiedBy).to.be.a('string');",
                  "});",
                  "",
                  "// Test that email list count is correct",
                  "pm.test(\"Email list count is correct\", function () {",
                  "    pm.expect(responseData.emailList.length).to.eql(responseData.emailCount);",
                  "});",
                  "",
                  "// Test for consistency between request path and response",
                  "pm.test(\"Response IDs match request path parameters\", function () {",
                  "    const requestUrl = pm.request.url.toString();",
                  "    pm.expect(requestUrl).to.include(responseData.id);",
                  "    pm.expect(requestUrl).to.include(responseData.notificationEventId);",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "// pm.globals.set(\"Firstname\", name);\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              },
              {
                "key": "x-version",
                "value": "2.2",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"emailList\" : \"{{$randomFirstName}}@yopmail.com\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications/{{notification_id1}}/distributionlist/{{distributionList_id1}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications",
                "{{notification_id1}}",
                "distributionlist",
                "{{distributionList_id1}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_098: Verify that Ally can Edit Notification Template",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 OK\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "strictSSL": false
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "x-version",
                "value": "2.1",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{   \r\n    \"templateName\": \"Test template Webhook\", // required // length 100 char\r\n    \"description\": \"Test template Webhook of ally\", // required\r\n    \"isDefaultTemplate\" : false, // not required\r\n    \"subject\": \"Webhook New Template Test\", // required // length 100 char\r\n    \"from\": \"[[EmailSetting.FromEmail]]\", // required\r\n    \"to\": \"[[to]]\", // required\r\n    // \"cc\": \"\", // required\r\n    // \"bcc\": \"\", // not required\r\n    \"body\": \"PCFET0NUWVBFIGh0bWw+CiA8aHRtbCBsYW5nPSJlbiI+CiA8aGVhZD4KICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICAgPHRpdGxlPldlYmhvb2sgQWRkZWQ8L3RpdGxlPgogCiAgICAgPCEtLSBGb250cyAtLT4KICAgICA8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20iPgogICAgIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbSIgY3Jvc3NvcmlnaW4+CiAgICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1SZWFkZXgrUHJvOndnaHRAMjAwOzMwMDs0MDA7NTAwOzYwMDs3MDAmZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiPgogPC9oZWFkPgogPGJvZHkgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNFRkYxRjY7Ij4KICAgICA8ZGl2PgogICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtmb250LXNpemU6IDEycHg7Zm9udC13ZWlnaHQ6IDQwMDtsaW5lLWhlaWdodDogMS40O2NvbG9yOiAjMTc0NzcwO2ZvbnQtZmFtaWx5OiAicmVhZGV4IHBybyIsIHNhbnMtc2VyaWY7d2lkdGg6IDEwMCU7bWF4LXdpZHRoOiA4MDBweDtib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6MnJlbSAxcmVtOyBvdmVyZmxvdzogaGlkZGVuOyI+CiAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXgtd2lkdGg6IDgwMHB4OyI+CiAgICAgICAgICAgICAgICAgPGltZyBzcmM9ImNpZDpoZWFkZXJMb2dvIiBhbHQ9IkFuZERvbmUgTG9nbyIgaGVpZ2h0PSIyNCI+CiAgICAgICAgICAgICAgICAgPGJyPjxicj4KICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgPGhyPgogICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWF4LXdpZHRoOiA4MDBweDsiPgogICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0ibWFyZ2luLXRvcDogMDtjb2xvcjogIzE3NDc3MDtmb250LXdlaWdodDogMjAwO2ZvbnQtc2l6ZTogMThweDtsaW5lLWhlaWdodDogMS4yNTttYXJnaW46IDAuNXJlbSAwO2xldHRlci1zcGFjaW5nOiAxcHg7ZGlzcGxheTogYmxvY2s7Ij4KICAgICAgICAgICAgICAgICAgICAgTmV3IFdlYmhvb2sgQWRkZWQKICAgICAgICAgICAgICAgICA8L2gzPgogICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiAzMDA7IGxpbmUtaGVpZ2h0OiAxNDAlOyBjb2xvcjogIzAwMDsgbWFyZ2luOiAxZW0gMDsiPgogICAgICAgICAgICAgICAgICAgICBFdmVudCBvY2N1cmVkIG9uIFtbRXZlbnRPY2N1cnJlZE9uXV0uCiAgICAgICAgICAgICAgICAgICAgIDxicj48YnI+CiAgICAgICAgICAgICAgICAgICAgIFdlYmhvb2sgd2FzIGFkZGVkIHdpdGggaWQ6IFtbd2ViaG9va0lkXV0gYnkgdXNlcjogW1thY3Rpb25UYWtlbkJ5XV0uIAogICAgICAgICAgICAgICAgICAgICA8YnI+PGJyPgogICAgICAgICAgICAgICAgICAgICBQbGVhc2Ugc2VlIGRldGFpbHMgYmVsb3cuCiAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDUwJTttaW4td2lkdGg6IDMwMHB4O2JvcmRlci1zcGFjaW5nOiAwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPSJ3aWR0aDogMTAwJTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGZvcj0iYWxseS1uYW1lIiBzdHlsZT0id2lkdGg6IDUwJTtmb250LXdlaWdodDogNzAwO3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7Ij5BbGx5IE5hbWU8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGlkPSJhbGx5LW5hbWUiIHN0eWxlPSJ3aWR0aDogNTAlOyI+W1thbGx5TmFtZV1dPC90ZD4KICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgPHRyIHN0eWxlPSJ3aWR0aDogMTAwJTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGZvcj0id2ViaG9vay1pZCIgc3R5bGU9IndpZHRoOiA1MCU7Zm9udC13ZWlnaHQ6IDcwMDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyI+V2ViaG9vayBJRDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgaWQ9IndlYmhvb2staWQiIHN0eWxlPSJ3aWR0aDogNTAlOyI+W1t3ZWJob29rSWRdXTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgIDx0ciBzdHlsZT0id2lkdGg6IDEwMCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBmb3I9IndlYmhvb2stdXJsIiBzdHlsZT0id2lkdGg6IDUwJTtmb250LXdlaWdodDogNzAwO3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7Ij5VUkw8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGlkPSJ3ZWJob29rLXVybCIgc3R5bGU9IndpZHRoOiA1MCU7Ij5bW3dlYmhvb2tVcmxdXTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgIDx0ciBzdHlsZT0id2lkdGg6IDEwMCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBmb3I9Im1vZHVsZSIgc3R5bGU9IndpZHRoOiA1MCU7Zm9udC13ZWlnaHQ6IDcwMDt0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOyI+TW9kdWxlKHMpPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBpZD0ibW9kdWxlIiBzdHlsZT0id2lkdGg6IDUwJTsiPltbbW9kdWxlXV08L3RkPgogICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICA8dHIgc3R5bGU9IndpZHRoOiAxMDAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgZm9yPSJhY3Rpb25UYWtlbkJ5IiBzdHlsZT0id2lkdGg6IDUwJTtmb250LXdlaWdodDogNzAwO3RleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7Ij5BY3Rpb24gVGFrZW4gQnk8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGlkPSJhY3Rpb25UYWtlbkJ5IiBzdHlsZT0id2lkdGg6IDUwJTsiPltbYWN0aW9uVGFrZW5CeV1dPC90ZD4KICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiAzMDA7IGxpbmUtaGVpZ2h0OiAxNDAlOyBjb2xvcjogIzAwMDsgbWFyZ2luLXRvcDogMWVtOyBtYXJnaW4tYm90dG9tOjA7Ij4KICAgICAgICAgICAgICAgICAgICAgVGhlIG5ldyBXZWJob29rIGNhbiBiZSBmb3VuZCBpbiB0aGUgQWxseSBwb3J0YWwgdW5kZXIgV2ViaG9va3MuCiAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgIDxicj4KICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBmb250LXdlaWdodDogMzAwOyBsaW5lLWhlaWdodDogMTQwJTsgY29sb3I6ICMwMDA7IG1hcmdpbi10b3A6IDFlbTsgbWFyZ2luLWJvdHRvbTowO3RleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICBGb3Igc3VwcG9ydCwgY29udGFjdCBbW0JyYW5kaW5nU3VwcG9ydEluZm9ybWF0aW9uXV0uPGJyPgogICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIGEgc3lzdGVtIGdlbmVyYXRlZCBlbWFpbCwgcGxlYXNlIGRvIG5vdCByZXBseSBvciBmb3J3YXJkLgogICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICA8L2Rpdj4KICAgICA8L2Rpdj4KIDwvYm9keT4KIDwvaHRtbD4=\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications/{{notification_id1}}/templates/{{template_id3}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications",
                "{{notification_id1}}",
                "templates",
                "{{template_id3}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_099: Verify that Ally can Notification Template Variable Search",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test suite for notification variables endpoint",
                  "pm.test(\"TC01 - Status code is 200 OK\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"TC02 - Each item has the all the expected properties\", function () {",
                  "    const responseData = pm.response.json();",
                  "    ",
                  "    responseData.forEach((item, index) => {",
                  "        pm.expect(item, `Item at index ${index}`).to.have.property(\"id\").that.is.a(\"string\");",
                  "        pm.expect(item, `Item at index ${index}`).to.have.property(\"fieldName\").that.is.a(\"string\");",
                  "        pm.expect(item, `Item at index ${index}`).to.have.property(\"displayName\").that.is.a(\"string\");",
                  "        pm.expect(item, `Item at index ${index}`).to.have.property(\"moduleName\").that.is.a(\"string\");",
                  "        pm.expect(item, `Item at index ${index}`).to.have.property(\"isPCI\").that.is.a(\"boolean\");",
                  "        ",
                  "        // These properties might be null but should exist",
                  "        pm.expect(item, `Item at index ${index}`).to.have.property(\"defaultValue\");",
                  "        pm.expect(item, `Item at index ${index}`).to.have.property(\"sampleData\");",
                  "    });",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              },
              {
                "key": "x-version",
                "value": "2.3",
                "type": "default"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications/variables?StartRow=0&pageSize=5&Asc=true&eventId={{notification_id1}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications",
                "variables"
              ],
              "query": [
                {
                  "key": "StartRow",
                  "value": "0"
                },
                {
                  "key": "pageSize",
                  "value": "5"
                },
                {
                  "key": "Asc",
                  "value": "true"
                },
                {
                  "key": "EventType",
                  "value": "Support",
                  "disabled": true
                },
                {
                  "key": "EntityType",
                  "value": "Support",
                  "disabled": true
                },
                {
                  "key": "fieldName",
                  "value": "ActionTakenBy",
                  "disabled": true
                },
                {
                  "key": "eventId",
                  "value": "{{notification_id1}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_100: Verify that Ally can Pause All Notification Event Subscription",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test suite for notification subscription status update",
                  "pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test for required fields in response",
                  "pm.test(\"Response contains required notification subscription fields\", function () {",
                  "    const responseData = pm.response.json();",
                  "    if (responseData.length > 0) {",
                  "        const firstItem = responseData[0];",
                  "        pm.expect(firstItem).to.have.property('id');",
                  "        pm.expect(firstItem).to.have.property('parentId');",
                  "        pm.expect(firstItem).to.have.property('notificationEventId');",
                  "        pm.expect(firstItem).to.have.property('subscriptionStatus');",
                  "        pm.expect(firstItem).to.have.property('createdOn');",
                  "        pm.expect(firstItem).to.have.property('createdBy');",
                  "        pm.expect(firstItem).to.have.property('modifiedOn');",
                  "        pm.expect(firstItem).to.have.property('modifiedBy');",
                  "    }",
                  "});",
                  "",
                  "// Test for correct subscription status in response",
                  "pm.test(\"Subscription status matches request\", function () {",
                  "    const responseData = pm.response.json();",
                  "    const requestBody = JSON.parse(pm.request.body.raw);",
                  "    ",
                  "    if (responseData.length > 0) {",
                  "        // Check if all items have the correct status",
                  "        const allHaveCorrectStatus = responseData.every(item => {",
                  "            // Map \"Active\" to \"Active\" and \"Paused\" to \"Paused\"",
                  "            return item.subscriptionStatus === requestBody.status;",
                  "        });",
                  "        ",
                  "        pm.expect(allHaveCorrectStatus).to.be.true;",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "strictSSL": false
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"status\" : \"Paused\"//Paused or Active,\r\n}\r\n\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications"
              ]
            }
          },
          "response": [
            {
              "name": "Pause/UnPause All Notification Event Subscription",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{BaseURL}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n   \"status\" : \"Active\"//Paused or Active,\r\n}\r\n\r\n//Status enum\r\n// Default = 0,\r\n// Inactive = 1,\r\n// Active = 2,\r\n// Paused = 3,\r\n// None = 100",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/notifications",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "notifications"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [
                {
                  "key": "Date",
                  "value": "Mon, 12 Jan 2026 05:24:12 GMT"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json; charset=utf-8"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked"
                },
                {
                  "key": "Connection",
                  "value": "keep-alive"
                },
                {
                  "key": "x-amzn-requestid",
                  "value": "5794cd97-6cc0-46b0-8165-87c3367e89bf"
                },
                {
                  "key": "access-control-allow-origin",
                  "value": "*"
                },
                {
                  "key": "strict-transport-security",
                  "value": "max-age=15552000; includeSubDomains; preload"
                },
                {
                  "key": "x-amzn-remapped-content-length",
                  "value": "232"
                },
                {
                  "key": "x-amz-apigw-id",
                  "value": "XDnLWFiTIAMERSw="
                },
                {
                  "key": "Cache-Control",
                  "value": "public, max-age=0"
                },
                {
                  "key": "x-amzn-trace-id",
                  "value": "Root=1-6964857b-2451fb3a268c859d65226a91;Parent=3a14d9fe9f1eaad7;Sampled=0;Lineage=2:6a3d39f0:0"
                },
                {
                  "key": "x-cache",
                  "value": "Miss from cloudfront"
                },
                {
                  "key": "via",
                  "value": "1.1 02ba81b0c123ad5b8f6204eafe0347aa.cloudfront.net (CloudFront)"
                },
                {
                  "key": "x-amz-cf-pop",
                  "value": "BOM78-P11"
                },
                {
                  "key": "x-amz-cf-id",
                  "value": "S-IjQbCx0klJiIcVygQNndmxUI2STqp8rLkCFlyQyd-pHCjd24HThQ=="
                },
                {
                  "key": "x-xss-protection",
                  "value": "1; mode=block"
                },
                {
                  "key": "x-frame-options",
                  "value": "SAMEORIGIN"
                },
                {
                  "key": "referrer-policy",
                  "value": "strict-origin"
                },
                {
                  "key": "x-content-type-options",
                  "value": "nosniff"
                },
                {
                  "key": "cf-cache-status",
                  "value": "DYNAMIC"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip"
                },
                {
                  "key": "Server",
                  "value": "cloudflare"
                },
                {
                  "key": "CF-RAY",
                  "value": "9bca39de1c20855b-BOM"
                }
              ],
              "cookie": [],
              "body": "[\n    {\n        \"id\": \"y8yO4lv5\",\n        \"parentId\": \"Vn8MZ7d2\",\n        \"notificationEventId\": \"RMxqKVdG\",\n        \"subscriptionStatus\": \"Active\",\n        \"createdOn\": \"01-09-2026 07:31:09\",\n        \"createdBy\": \"MorganWilson32\",\n        \"modifiedOn\": \"01-11-2026 23:24:11\",\n        \"modifiedBy\": \"MorganWilson32\"\n    }\n]"
            }
          ]
        },
        {
          "name": "STC_101: Verify that Ally can Unpause All Notification Event Subscription",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test suite for notification subscription status update",
                  "pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Test for required fields in response",
                  "pm.test(\"Response contains required notification subscription fields\", function () {",
                  "    const responseData = pm.response.json();",
                  "    if (responseData.length > 0) {",
                  "        const firstItem = responseData[0];",
                  "        pm.expect(firstItem).to.have.property('id');",
                  "        pm.expect(firstItem).to.have.property('parentId');",
                  "        pm.expect(firstItem).to.have.property('notificationEventId');",
                  "        pm.expect(firstItem).to.have.property('subscriptionStatus');",
                  "        pm.expect(firstItem).to.have.property('createdOn');",
                  "        pm.expect(firstItem).to.have.property('createdBy');",
                  "        pm.expect(firstItem).to.have.property('modifiedOn');",
                  "        pm.expect(firstItem).to.have.property('modifiedBy');",
                  "    }",
                  "});",
                  "",
                  "// Test for correct subscription status in response",
                  "pm.test(\"Subscription status matches request\", function () {",
                  "    const responseData = pm.response.json();",
                  "    const requestBody = JSON.parse(pm.request.body.raw);",
                  "    ",
                  "    if (responseData.length > 0) {",
                  "        // Check if all items have the correct status",
                  "        const allHaveCorrectStatus = responseData.every(item => {",
                  "            // Map \"Active\" to \"Active\" and \"Paused\" to \"Paused\"",
                  "            return item.subscriptionStatus === requestBody.status;",
                  "        });",
                  "        ",
                  "        pm.expect(allHaveCorrectStatus).to.be.true;",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "strictSSL": false
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"status\" : \"Active\"//Paused or Active,\r\n}\r\n\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications"
              ]
            }
          },
          "response": [
            {
              "name": "Pause/UnPause All Notification Event Subscription",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Origin",
                    "value": "{{BaseURL}}",
                    "type": "text"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\r\n   \"status\" : \"Active\"//Paused or Active,\r\n}\r\n\r\n//Status enum\r\n// Default = 0,\r\n// Inactive = 1,\r\n// Active = 2,\r\n// Paused = 3,\r\n// None = 100",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{BaseURL}}/allies/{{AID}}/notifications",
                  "host": [
                    "{{BaseURL}}"
                  ],
                  "path": [
                    "allies",
                    "{{AID}}",
                    "notifications"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [
                {
                  "key": "Date",
                  "value": "Mon, 12 Jan 2026 05:24:12 GMT"
                },
                {
                  "key": "Content-Type",
                  "value": "application/json; charset=utf-8"
                },
                {
                  "key": "Transfer-Encoding",
                  "value": "chunked"
                },
                {
                  "key": "Connection",
                  "value": "keep-alive"
                },
                {
                  "key": "x-amzn-requestid",
                  "value": "5794cd97-6cc0-46b0-8165-87c3367e89bf"
                },
                {
                  "key": "access-control-allow-origin",
                  "value": "*"
                },
                {
                  "key": "strict-transport-security",
                  "value": "max-age=15552000; includeSubDomains; preload"
                },
                {
                  "key": "x-amzn-remapped-content-length",
                  "value": "232"
                },
                {
                  "key": "x-amz-apigw-id",
                  "value": "XDnLWFiTIAMERSw="
                },
                {
                  "key": "Cache-Control",
                  "value": "public, max-age=0"
                },
                {
                  "key": "x-amzn-trace-id",
                  "value": "Root=1-6964857b-2451fb3a268c859d65226a91;Parent=3a14d9fe9f1eaad7;Sampled=0;Lineage=2:6a3d39f0:0"
                },
                {
                  "key": "x-cache",
                  "value": "Miss from cloudfront"
                },
                {
                  "key": "via",
                  "value": "1.1 02ba81b0c123ad5b8f6204eafe0347aa.cloudfront.net (CloudFront)"
                },
                {
                  "key": "x-amz-cf-pop",
                  "value": "BOM78-P11"
                },
                {
                  "key": "x-amz-cf-id",
                  "value": "S-IjQbCx0klJiIcVygQNndmxUI2STqp8rLkCFlyQyd-pHCjd24HThQ=="
                },
                {
                  "key": "x-xss-protection",
                  "value": "1; mode=block"
                },
                {
                  "key": "x-frame-options",
                  "value": "SAMEORIGIN"
                },
                {
                  "key": "referrer-policy",
                  "value": "strict-origin"
                },
                {
                  "key": "x-content-type-options",
                  "value": "nosniff"
                },
                {
                  "key": "cf-cache-status",
                  "value": "DYNAMIC"
                },
                {
                  "key": "Content-Encoding",
                  "value": "gzip"
                },
                {
                  "key": "Server",
                  "value": "cloudflare"
                },
                {
                  "key": "CF-RAY",
                  "value": "9bca39de1c20855b-BOM"
                }
              ],
              "cookie": [],
              "body": "[\n    {\n        \"id\": \"y8yO4lv5\",\n        \"parentId\": \"Vn8MZ7d2\",\n        \"notificationEventId\": \"RMxqKVdG\",\n        \"subscriptionStatus\": \"Active\",\n        \"createdOn\": \"01-09-2026 07:31:09\",\n        \"createdBy\": \"MorganWilson32\",\n        \"modifiedOn\": \"01-11-2026 23:24:11\",\n        \"modifiedBy\": \"MorganWilson32\"\n    }\n]"
            }
          ]
        },
        {
          "name": "STC_102: Verify that Ally can Unsubscribe Notification Event",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test for successful status code",
                  "pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Parse the response JSON",
                  "var jsonData = pm.response.json();",
                  "",
                  "// Test for response structure validation",
                  "pm.test(\"Response has the expected structure\", function () {",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('parentId');",
                  "    pm.expect(jsonData).to.have.property('notificationEventId');",
                  "    pm.expect(jsonData).to.have.property('subscriptionStatus');",
                  "    pm.expect(jsonData).to.have.property('createdOn');",
                  "    pm.expect(jsonData).to.have.property('createdBy');",
                  "    pm.expect(jsonData).to.have.property('modifiedOn');",
                  "    pm.expect(jsonData).to.have.property('modifiedBy');",
                  "});",
                  "",
                  "// Test for data types",
                  "pm.test(\"Response fields have correct data types\", function () {",
                  "    pm.expect(jsonData.id).to.be.a('string');",
                  "    pm.expect(jsonData.parentId).to.be.a('string');",
                  "    pm.expect(jsonData.notificationEventId).to.be.a('string');",
                  "    pm.expect(jsonData.subscriptionStatus).to.be.a('string');",
                  "    pm.expect(jsonData.createdOn).to.be.a('string');",
                  "    pm.expect(jsonData.createdBy).to.be.a('string');",
                  "    pm.expect(jsonData.modifiedOn).to.be.a('string');",
                  "    pm.expect(jsonData.modifiedBy).to.be.a('string');",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "strictSSL": false
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"status\" : \"Inactive\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications/{{notification_id1}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications",
                "{{notification_id1}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_103: Verify that Ally can Subscribe Notification Event",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test for successful status code",
                  "pm.test(\"Status code is 200 OK\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Parse the response JSON",
                  "var jsonData = pm.response.json();",
                  "",
                  "// Test for response structure validation",
                  "pm.test(\"Response has the expected structure\", function () {",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('parentId');",
                  "    pm.expect(jsonData).to.have.property('notificationEventId');",
                  "    pm.expect(jsonData).to.have.property('subscriptionStatus');",
                  "    pm.expect(jsonData).to.have.property('createdOn');",
                  "    pm.expect(jsonData).to.have.property('createdBy');",
                  "    pm.expect(jsonData).to.have.property('modifiedOn');",
                  "    pm.expect(jsonData).to.have.property('modifiedBy');",
                  "});",
                  "",
                  "// Test for data types",
                  "pm.test(\"Response fields have correct data types\", function () {",
                  "    pm.expect(jsonData.id).to.be.a('string');",
                  "    pm.expect(jsonData.parentId).to.be.a('string');",
                  "    pm.expect(jsonData.notificationEventId).to.be.a('string');",
                  "    pm.expect(jsonData.subscriptionStatus).to.be.a('string');",
                  "    pm.expect(jsonData.createdOn).to.be.a('string');",
                  "    pm.expect(jsonData.createdBy).to.be.a('string');",
                  "    pm.expect(jsonData.modifiedOn).to.be.a('string');",
                  "    pm.expect(jsonData.modifiedBy).to.be.a('string');",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "strictSSL": false
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"status\" : \"Active\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/notifications/{{notification_id1}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "notifications",
                "{{notification_id1}}"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Ally Payouts",
      "item": [
        {
          "name": "STC_020: Login as ally for payouts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// let jsonData = pm.response.json();\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.environment.set(\"token\", jsonData.token);\r",
                  "// pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "// pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "// pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "// pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "\r",
                  "\r",
                  "// pm.environment.set(\"Ally_User_ID\", jsonData.userId);\r",
                  "// pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Save response tokens and IDs to environment variables\r",
                  "pm.test(\"TC02 - Save response tokens and IDs to environment variables\", function () {\r",
                  "    pm.environment.set(\"token\", jsonData.token);\r",
                  "    pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "    pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "    pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "    pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "    pm.environment.set(\"Ally_User_ID\", jsonData.userId);\r",
                  "    pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " //Dev\r\n// {\r\n//       \"userName\": \"AdminUser\",\r\n//       \"password\": \"AdminDev#242024\"\r\n//  }\r\n\r\n\r\n\r\n//QAT-ally\r\n{\r\n\"userName\": \"CaseyWilson9954\",\r\n\"password\": \"123#Qwertyuiop\"\r\n}\r\n \r\n\r\n\r\n// // //UAT\r\n\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_104: Verify that Ally can create payouts using Secure API",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Test for successful status code",
                  "pm.test(\"TC01 - Status code is 201 Created\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "// Test for response structure and required fields",
                  "pm.test(\"TC02 - Response has all required fields\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "    pm.expect(jsonData).to.have.property('virtualAccountId');",
                  "    pm.expect(jsonData).to.have.property('payoutId');",
                  "    pm.expect(jsonData).to.have.property('merchantId');",
                  "    pm.expect(jsonData).to.have.property('merchantDBA');",
                  "    pm.expect(jsonData).to.have.property('creationDate');",
                  "    pm.expect(jsonData).to.have.property('traceNumber');",
                  "    pm.expect(jsonData).to.have.property('virtualAccount');",
                  "    pm.expect(jsonData).to.have.property('amount');",
                  "    pm.expect(jsonData).to.have.property('category');",
                  "    pm.expect(jsonData).to.have.property('priority');",
                  "    pm.expect(jsonData).to.have.property('referenceForBeneficiary');",
                  "    pm.expect(jsonData).to.have.property('reference');",
                  "    pm.expect(jsonData).to.have.property('description');",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData).to.have.property('reasonForStatus');",
                  "    pm.expect(jsonData).to.have.property('errorDetails');",
                  "});",
                  "",
                  "// Test for data types of response fields",
                  "pm.test(\"TC03 - Response fields have correct data types\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.virtualAccountId).to.be.a('string');",
                  "    pm.expect(jsonData.payoutId).to.be.a('string');",
                  "    pm.expect(jsonData.merchantId).to.be.a('string');",
                  "    pm.expect(jsonData.merchantDBA).to.be.a('string');",
                  "    pm.expect(jsonData.creationDate).to.be.a('string');",
                  "    pm.expect(jsonData.traceNumber).to.be.a('string');",
                  "    pm.expect(jsonData.virtualAccount).to.be.a('string');",
                  "    pm.expect(jsonData.amount).to.be.a('number');",
                  "    pm.expect(jsonData.category).to.be.a('string');",
                  "    pm.expect(jsonData.priority).to.be.a('string');",
                  "    pm.expect(jsonData.referenceForBeneficiary).to.be.a('string');",
                  "    pm.expect(jsonData.reference).to.be.a('string');",
                  "    pm.expect(jsonData.description).to.be.a('string');",
                  "    pm.expect(jsonData.status).to.be.a('string');",
                  "    pm.expect(jsonData.reasonForStatus).to.be.a('string');",
                  "});",
                  "",
                  "// Test for authorised status",
                  "pm.test(\"TC04 - Payout status is 'authorised'\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql('authorised');",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "apikey",
              "apikey": [
                {
                  "key": "value",
                  "value": "jcqSfJecGAMRKG2bSLfzN167a5sbBn8BbHQlzmeLeOs=",
                  "type": "string"
                },
                {
                  "key": "in",
                  "value": "header",
                  "type": "string"
                },
                {
                  "key": "key",
                  "value": "x-api-key",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "x-app-key",
                "value": "Dv4qqDxR",
                "type": "text",
                "disabled": true
              },
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"virtualAccountId\": \"yVxjYjvp\",/* AndDone balance account id hash value*/\r\n    \"amount\": 1.0,/*amount to be paid out*/\r\n    \"description\": \"payout\",/* Your description for the transfer*/\r\n    \"priority\": \"regular\",/*Other options fast, wire, instant, crossBorder, internal*/\r\n    \"reference\": \"Merchant -24312 payout\",/* optional - Ally or merchant reference for the payout*/\r\n    \"referenceForBeneficiary\": \"policy20000123\",/* optional max 15 characters*/\r\n    //\"externalFinancialEntityId\": \"SE3293N223226C5MCJWFH7X43\"/* optional */\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/secure/payouts",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "secure",
                "payouts"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_107: Verify that Ally can retrieve all Response Webhook Events",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "",
                  "// ✅ TC02 - Validate response contains events with name \"AccountPayout.PayoutCreated\"",
                  "pm.test(\"TC02 - Validate response contains events with name 'AccountPayout.PayoutCreated'\", function () {",
                  "    const responseJson = pm.response.json();",
                  "    ",
                  "    // Check if data array exists",
                  "    pm.expect(responseJson).to.have.property('data');",
                  "    pm.expect(responseJson.data).to.be.an('array');",
                  "    ",
                  "    // Check if at least one event has the name \"AccountPayout.PayoutCreated\"",
                  "    const hasPayoutCreatedEvent = responseJson.data.some(event => event.eventName === \"AccountPayout.PayoutCreated\");",
                  "    pm.expect(hasPayoutCreatedEvent).to.be.true;",
                  "});",
                  "",
                  "// ✅ TC03 - Validate response contains events with name \"AccountPayout.PayoutUpdated\"",
                  "pm.test(\"TC03 - Validate response contains events with name 'AccountPayout.PayoutUpdated'\", function () {",
                  "    const responseJson = pm.response.json();",
                  "    ",
                  "    // Check if data array exists",
                  "    pm.expect(responseJson).to.have.property('data');",
                  "    pm.expect(responseJson.data).to.be.an('array');",
                  "    ",
                  "    // Check if at least one event has the name \"AccountPayout.PayoutUpdated\"",
                  "    const hasPayoutUpdatedEvent = responseJson.data.some(event => event.eventName === \"AccountPayout.PayoutUpdated\");",
                  "    pm.expect(hasPayoutUpdatedEvent).to.be.true;",
                  "});",
                  "",
                  "",
                  "// ✅ TC04 - Validate response contains events with name \"AccountPayout.PayoutFailed\"",
                  "pm.test(\"TC04 - Validate response contains events with name 'AccountPayout.PayoutFailed'\", function () {",
                  "    const responseJson = pm.response.json();",
                  "    ",
                  "    // Check if data array exists",
                  "    pm.expect(responseJson).to.have.property('data');",
                  "    pm.expect(responseJson.data).to.be.an('array');",
                  "    ",
                  "    // Check if at least one event has the name \"AccountPayout.PayoutFailed\"",
                  "    const hasPayoutFailedEvent = responseJson.data.some(event => event.eventName === \"AccountPayout.PayoutFailed\");",
                  "    pm.expect(hasPayoutFailedEvent).to.be.true;",
                  "});",
                  "",
                  "// ✅ TC05 - Validate response contains events with name \"PayoutCapability.PayoutBlocked\"",
                  "pm.test(\"TC05 - Validate response contains events with name 'PayoutCapability.PayoutBlocked'\", function () {",
                  "    const responseJson = pm.response.json();",
                  "    ",
                  "    // Check if data array exists",
                  "    pm.expect(responseJson).to.have.property('data');",
                  "    pm.expect(responseJson.data).to.be.an('array');",
                  "    ",
                  "    // Check if at least one event has the name \"PayoutCapability.PayoutBlocked\"",
                  "    const hasPayoutBlockedEvent = responseJson.data.some(event => event.eventName === \"PayoutCapability.PayoutBlocked\");",
                  "    pm.expect(hasPayoutBlockedEvent).to.be.true;",
                  "});",
                  "",
                  "// ✅ TC06 - Validate response contains events with name \"PayoutCapability.PayoutUnblocked\"",
                  "pm.test(\"TC06 - Validate response contains events with name 'PayoutCapability.PayoutUnblocked'\", function () {",
                  "    const responseJson = pm.response.json();",
                  "    ",
                  "    // Check if data array exists",
                  "    pm.expect(responseJson).to.have.property('data');",
                  "    pm.expect(responseJson.data).to.be.an('array');",
                  "    ",
                  "    // Check if at least one event has the name \"PayoutCapability.PayoutUnblocked\"",
                  "    const hasPayoutUnblockedEvent = responseJson.data.some(event => event.eventName === \"PayoutCapability.PayoutUnblocked\");",
                  "    pm.expect(hasPayoutUnblockedEvent).to.be.true;",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/webhookeventnotifications",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "webhookeventnotifications"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Ally webhook management",
      "item": [
        {
          "name": "STC_020: Login as ally for webhooks",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// let jsonData = pm.response.json();\r",
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// pm.environment.set(\"token\", jsonData.token);\r",
                  "// pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "// pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "// pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "// pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "\r",
                  "\r",
                  "// pm.environment.set(\"Ally_User_ID\", jsonData.userId);\r",
                  "// pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "\r",
                  "\r",
                  "//NEW\r",
                  "\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// ✅ TC02 - Save response tokens and IDs to environment variables\r",
                  "pm.test(\"TC02 - Save response tokens and IDs to environment variables\", function () {\r",
                  "    pm.environment.set(\"token\", jsonData.token);\r",
                  "    pm.environment.set(\"refresh_Token\", jsonData.refreshToken);\r",
                  "    pm.environment.set(\"env_Parentid\", jsonData.parentId);\r",
                  "    pm.environment.set(\"env_Resellerid\", jsonData.resellerId);\r",
                  "    pm.environment.set(\"env_merchantId\", jsonData.merchantId);\r",
                  "    pm.environment.set(\"Ally_User_ID\", jsonData.userId);\r",
                  "    pm.environment.set(\"AID\", jsonData.parentId);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{BaseURL}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " //Dev\r\n// {\r\n//       \"userName\": \"AdminUser\",\r\n//       \"password\": \"AdminDev#242024\"\r\n//  }\r\n\r\n\r\n\r\n//QAT-ally\r\n{\r\n\"userName\": \"APISmokeAlly01\",\r\n\"password\": \"999#Qwertyuiop\"\r\n}\r\n// // //UAT\r\n\r\n// {\r\n// \"userName\": \"SiddheshwarUAT\",\r\n// \"password\": \"123#Qwertyuiop\"\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/users/sessions",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "users",
                "sessions"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_038: Verify that Ally can Get all webhook events.",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/webhookEvents",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "webhookEvents"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_039: Verify that Ally can Get the list of subscribed webhooks.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// pm.test(\"TC02 - Extract and save IDs from response\", function () {\r",
                  "//     let jsonData = pm.response.json(); // Parse JSON response\r",
                  "\r",
                  "//     // Ensure 'data' exists and is an array\r",
                  "//     pm.expect(jsonData).to.have.property(\"data\");\r",
                  "//     pm.expect(jsonData.data).to.be.an(\"array\").that.is.not.empty;\r",
                  "\r",
                  "//     // Loop through data and save all IDs\r",
                  "//     jsonData.data.forEach((item, index) => {\r",
                  "//         if (item.id) {\r",
                  "//             pm.environment.set(`id_${index + 1}`, item.id);\r",
                  "//             console.log(`Saved id_${index + 1}: `, item.id);\r",
                  "//         }\r",
                  "//     });\r",
                  "\r",
                  "//     // Optional: Save all IDs as an array\r",
                  "//     let allIds = jsonData.data.map(item => item.id);\r",
                  "//     pm.environment.set(\"all_ids\", JSON.stringify(allIds));\r",
                  "//     console.log(\"Saved all_ids: \", allIds);\r",
                  "// });\r",
                  "\r",
                  "\r",
                  "\r",
                  "// //NEW\r",
                  "// let jsonData = pm.response.json();\r",
                  "\r",
                  "// // ✅ TC01 - Validate status code is 200\r",
                  "// pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "\r",
                  "// // ✅ TC02 - Validate response contains 'data' array and extract/save IDs\r",
                  "// pm.test(\"TC02 - Validate response contains 'data' array and extract/save IDs\", function () {\r",
                  "//     // Ensure 'data' exists and is an array\r",
                  "//     pm.expect(jsonData).to.have.property(\"data\");\r",
                  "//     pm.expect(jsonData.data).to.be.an(\"array\").that.is.not.empty;\r",
                  "\r",
                  "//     // Loop through data and save all IDs individually\r",
                  "//     jsonData.data.forEach((item, index) => {\r",
                  "//         if (item.id) {\r",
                  "//             pm.environment.set(`id_${index + 1}`, item.id);\r",
                  "//             console.log(`Saved id_${index + 1}: `, item.id);\r",
                  "//         }\r",
                  "//     });\r",
                  "\r",
                  "//     // Save all IDs as a single array in environment\r",
                  "//     let allIds = jsonData.data.map(item => item.id);\r",
                  "//     pm.environment.set(\"all_ids\", JSON.stringify(allIds));\r",
                  "//     console.log(\"Saved all_ids: \", allIds);\r",
                  "// });\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/webhooks",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "webhooks"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_040: Verify that Ally can Subscribe a webhook",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "let response = pm.response.json();\r",
                  "\r",
                  "// Store id\r",
                  "pm.environment.set(\"webhookId\", response.id);\r",
                  "\r",
                  "console.log(\"Stored ID:\", response.id);\r",
                  "\r",
                  "//\r",
                  "pm.test(\"TC02 - Response is JSON and has required fields\", () => {\r",
                  "    pm.response.to.be.withBody;\r",
                  "    pm.response.to.be.json;\r",
                  "\r",
                  "    const b = pm.response.json();\r",
                  "    // Required properties present\r",
                  "    [\"id\", \"allyId\", \"moduleName\", \"webhookIds\", \"webhookUrl\", \"contentType\", \"httpMethod\", \"authType\", \"subscriptionStatus\", \"version\", \"createdOn\", \"createdBy\"]\r",
                  "        .forEach(k => pm.expect(b, `Missing property: ${k}`).to.have.property(k));\r",
                  "});\r",
                  "//\r",
                  "pm.test(`TC03 - Validation message: Webhook subscription created for ${pm.response.json().moduleName} with IDs ${pm.response.json().webhookIds}`, () => {\r",
                  "    pm.expect(true).to.be.true;\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 1000); // 2-second delay"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "// ***********Transaction************\r\n// {\r\n//     \"ModuleName\": \"Transaction\",\r\n//     \"WebhookIds\": \"2\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.opt\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"PrivateKey\": \"This text will be converted tot\",\r\n//     \"Version\": 2\r\n// }\r\n  //  /// ***Merchant***/////\r\n{\r\n    \"ModuleName\": \"Merchant\",\r\n    \"WebhookIds\": \"68,69,70\",\r\n    \"WebhookUrl\": \"https://eop9lz8v5k7u4lo.m.pipedream1.net\",\r\n    \"ContentType\": \"applicationJson\",\r\n    \"HttpMethod\": \"HttpPost\",\r\n    \"AuthType\": \"NoAuth\",\r\n    \"SubscriptionStatus\": \"Active\",\r\n    \"AuthValue\": \"[]\",\r\n    \"HmacRequired\": false,\r\n    \"AutoGenereationKey\": false,\r\n    \"PrivateKey\": \"This text will be converted tot\",\r\n    \"Version\": 1\r\n}\r\n\r\n// ///*********** APIKEY*********************//\r\n// {\r\n//     \"ModuleName\": \"Transaction\",\r\n//     \"WebhookIds\": \"2,3,4,7\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.oot\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"ApiKey\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n// \"AuthValue\": \"[{\\\"Key\\\":\\\"AuthApiHeader\\\",\\\"Value\\\":\\\"test\\\"},{\\\"Key\\\":\\\"AuthApiValue\\\",\\\"Value\\\":\\\"123\\\"}]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null,\r\n//     \"Version\": 1\r\n// }\r\n\r\n\r\n///////////****************** BearerToken ************************///\r\n// {\r\n// \"ModuleName\": \"Report\",\r\n// \"WebhookIds\": \"31,32,33\",\r\n// \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.npp\",\r\n// \"ContentType\": \"applicationJson\",\r\n// \"HttpMethod\": \"HttpPost\",\r\n// \"AuthType\": \"BearerToken\",\r\n// \"SubscriptionStatus\": \"Active\",\r\n// \"AuthValue\": \"[{\\\"Key\\\":\\\"AuthBearerURL\\\",\\\"Value\\\":\\\"https://eotsrysvoy6li62.m.pipedream.npp\\\"},{\\\"Key\\\":\\\"AuthBearerUsername\\\",\\\"Value\\\":\\\"pftestpftest\\\"},{\\\"Key\\\":\\\"AuthBearerPassword\\\",\\\"Value\\\":\\\"123#Qwertyuiop\\\"},{\\\"Key\\\":\\\"AuthBearerToken\\\",\\\"Value\\\":\\\"234\\\"}]\",\r\n// \"HmacRequired\": false,\r\n// \"AutoGenereationKey\": false,\r\n// \"ChangePrivateKey\": true,\r\n// \"PrivateKey\": null,\r\n// \"Version\": 1\r\n// }\r\n\r\n\r\n// //*************************----BasicAuth------************************//\r\n// {\r\n//     \"ModuleName\": \"AccountToken\",\r\n//     \"WebhookIds\": \"39,40,41\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.netfdgj\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"BasicAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[{\\\"Key\\\":\\\"AuthBasicUsername\\\",\\\"Value\\\":\\\"pftestpftest\\\"},{\\\"Key\\\":\\\"AuthBasicPassword\\\",\\\"Value\\\":\\\"\\\"}]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": \"\"\r\n// }\r\n\r\n\r\n// *********Report****************\r\n// {\r\n// \"ModuleName\": \"Report\",\r\n// \"WebhookIds\": \"31,32,33\",\r\n// \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n// \"ContentType\": \"applicationJson\",\r\n// \"HttpMethod\": \"HttpPost\",\r\n// \"AuthType\": \"NoAuth\",\r\n// \"SubscriptionStatus\": \"Active\",\r\n// \"AuthValue\": \"[]\",\r\n// \"HmacRequired\": false,\r\n// \"AutoGenereationKey\": false,\r\n// \"ChangePrivateKey\": true,\r\n// \"PrivateKey\": null\r\n// }\r\n//// ***********PaymentLink***************\r\n// {\r\n//     \"ModuleName\": \"PaymentLink\",\r\n//     \"WebhookIds\": \"34,35,36,37,38\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null\r\n// }\r\n\r\n// ///******AccountToken\r\n\r\n// {\r\n//     \"ModuleName\": \"AccountToken\",\r\n//     \"WebhookIds\": \"39,40,41\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null\r\n    \r\n// }\r\n\r\n// //********TokenLink\r\n// {\r\n//        \"ModuleName\": \"TokenLink\",\r\n//     \"WebhookIds\": \"42,43,44\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null\r\n    \r\n// }\r\n// ///**************CBNacha********\r\n\r\n// {\r\n//     \"ModuleName\": \"CBNacha\",\r\n//     \"WebhookIds\": \"45,46\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null    \r\n// }\r\n\r\n// //****TransactionRefund\r\n// {    \r\n//     \"ModuleName\": \"TransactionRefund\",\r\n//     \"WebhookIds\": \"48,49,50,51,54\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null    \r\n// }\r\n\r\n// //********TransactionChargeback***********\r\n// {    \r\n//     \"ModuleName\": \"TransactionChargeback\",\r\n//     \"WebhookIds\": \"53\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null   \r\n// }\r\n// //***********TransactionVoid**********\r\n// {\r\n//     \"ModuleName\": \"TransactionVoid\",\r\n//     \"WebhookIds\": \"52\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null,\r\n//     \"Version\": 1\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/webhooks",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "webhooks"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_041: Verify that Ally can Delete subscription to a webhook",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// pm.test(\"Status code is 200\", function () {\r",
                  "//     pm.response.to.have.status(200);\r",
                  "// });\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "// ✅ TC03 - Validate 'message' equals expected value and show comparison\r",
                  "pm.test(\"TC02 - Validate message equals expected value\", function () {\r",
                  "    const expected = \"key_WebhookSubscriptionMarkedAsDeleted\";\r",
                  "    const actual = pm.response.json().message;\r",
                  "    pm.expect(actual, `Expected message to equal \"${expected}\", got \"${actual}\"`).to.eql(expected);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 4000); // 2-second delay"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"ModuleName\": \"Transaction\",\r\n    \"WebhookIds\": \"1\",\r\n    \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n    \"ContentType\": \"applicationJson\",\r\n    \"HttpMethod\": \"HttpPost\",\r\n    \"AuthType\": \"NoAuth\",\r\n    \"SubscriptionStatus\": \"Active\",\r\n    \"AuthValue\": \"[]\",\r\n    \"HmacRequired\": true,\r\n    \"AutoGenereationKey\": false,\r\n    \"PrivateKey\": \"This text will be converted tot\"\r\n}\r\n\r\n\r\n\r\n\r\n// {\"MerchantId\":\"RMxqzR8G\",\"ModuleName\":\"Report\",\"WebhookIds\":\"31,32,33\",\"WebhookUrl\":\"https://eotsrysvoy6li62.m.pipedream.net\",\"ContentType\":\"applicationJson\",\"HttpMethod\":\"HttpPost\",\"AuthType\":\"NoAuth\",\"SubscriptionStatus\":\"Active\",\"AuthValue\":\"[]\",\"HmacRequired\":false,\"AutoGenereationKey\":false,\"ChangePrivateKey\":true,\"PrivateKey\":null,\"Version\":1}\r\n// {\"MerchantId\":\"RMxqzR8G\",\"ModuleName\":\"PaymentLink\",\"WebhookIds\":\"34,35,36,37,38\",\"WebhookUrl\":\"https://eotsrysvoy6li62.m.pipedream.net\",\"ContentType\":\"applicationJson\",\"HttpMethod\":\"HttpPost\",\"AuthType\":\"NoAuth\",\"SubscriptionStatus\":\"Active\",\"AuthValue\":\"[]\",\"HmacRequired\":false,\"AutoGenereationKey\":false,\"ChangePrivateKey\":true,\"PrivateKey\":null,\"Version\":1}\r\n//{\"MerchantId\":\"RMxqzR8G\",\"ModuleName\":\"AccountToken\",\"WebhookIds\":\"39,40,41\",\"WebhookUrl\":\"https://eotsrysvoy6li62.m.pipedream.net\",\"ContentType\":\"applicationJson\",\"HttpMethod\":\"HttpPost\",\"AuthType\":\"NoAuth\",\"SubscriptionStatus\":\"Active\",\"AuthValue\":\"[]\",\"HmacRequired\":false,\"AutoGenereationKey\":false,\"ChangePrivateKey\":true,\"PrivateKey\":null,\"Version\":1}\r\n// {\"MerchantId\":\"RMxqzR8G\",\"ModuleName\":\"TokenLink\",\"WebhookIds\":\"42,43,44\",\"WebhookUrl\":\"https://eotsrysvoy6li62.m.pipedream.net\",\"ContentType\":\"applicationJson\",\"HttpMethod\":\"HttpPost\",\"AuthType\":\"NoAuth\",\"SubscriptionStatus\":\"Active\",\"AuthValue\":\"[]\",\"HmacRequired\":false,\"AutoGenereationKey\":false,\"ChangePrivateKey\":true,\"PrivateKey\":null,\"Version\":1}\r\n\r\n// {\"MerchantId\":\"RMxqzR8G\",\"ModuleName\":\"CBNacha\",\"WebhookIds\":\"45,46\",\"WebhookUrl\":\"https://eotsrysvoy6li62.m.pipedream.net\",\"ContentType\":\"applicationJson\",\"HttpMethod\":\"HttpPost\",\"AuthType\":\"NoAuth\",\"SubscriptionStatus\":\"Active\",\"AuthValue\":\"[]\",\"HmacRequired\":false,\"AutoGenereationKey\":false,\"ChangePrivateKey\":true,\"PrivateKey\":null,\"Version\":1}\r\n\r\n\r\n// {\r\n//     \"merchantId\": \"RMxqzR8G\",\r\n//     \"version\": 1,\r\n//     \"id\": \"evGp1bxW\",\r\n//     \"webhookIds\": \"2,3,4,7\",\r\n//     \"moduleName\": \"Transaction\",\r\n//     \"webhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"contentType\": \"applicationJson\",\r\n//     \"httpMethod\": \"HttpPost\",\r\n//     \"authType\": \"NoAuth\",\r\n//     \"authValue\": \"[]\",\r\n//     \"subscriptionStatus\": \"Active\",\r\n//     \"createdOn\": \"03-11-2025 11:11:28\",\r\n//     \"createdBy\": \"invoice888\",\r\n//     \"modifiedOn\": \"03-11-2025 11:11:28\",\r\n//     \"modifiedBy\": \"invoice888\",\r\n//     \"hmacRequired\": false,\r\n//     \"autoGenereationKey\": null,\r\n//     \"privateKey\": null\r\n// }\r\n\r\n// {\r\n//     \"MerchantId\": \"RMxqzR8G\",\r\n//     \"ModuleName\": \"Transaction\",\r\n//     \"WebhookIds\": \"2,3,4,7\",\r\n//     \"WebhookUrl\": \"https://eotsrysvoy6li62.m.pipedream.net\",\r\n//     \"ContentType\": \"applicationJson\",\r\n//     \"HttpMethod\": \"HttpPost\",\r\n//     \"AuthType\": \"NoAuth\",\r\n//     \"SubscriptionStatus\": \"Active\",\r\n//     \"AuthValue\": \"[]\",\r\n//     \"HmacRequired\": false,\r\n//     \"AutoGenereationKey\": false,\r\n//     \"ChangePrivateKey\": true,\r\n//     \"PrivateKey\": null,\r\n//     \"Version\": 1\r\n// }",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/webhooks/{{webhookId}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "webhooks",
                "{{webhookId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_042: Verify that Ally can retrieve all Response Webhook Events",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "\r",
                  "\r",
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "let response = pm.response.json();\r",
                  "\r",
                  "// Store first record ID\r",
                  "pm.environment.set(\"webhook_notification_Id\", response.data[0].id);\r",
                  "\r",
                  "// Optional: log it\r",
                  "console.log(\"Stored webhook_notification_Id:\", response.data[0].id);\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/webhookeventnotifications",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "webhookeventnotifications"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_043: Verify that Ally can retrieve Webhook Event Notification by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "\r",
                  "let jsonData = pm.response.json();\r",
                  "\r",
                  "// Set entityId and subscriptionId in environment\r",
                  "pm.environment.set(\"entityId\", jsonData.entityId);\r",
                  "pm.environment.set(\"subscriptionId\", jsonData.subscriptionId);\r",
                  "\r",
                  "pm.environment.set(\"eventId\", response.eventId);\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/webhookeventnotifications/{{webhook_notification_Id}}",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "webhookeventnotifications",
                "{{webhook_notification_Id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "STC_044: Verify that Ally can Retry Webhook Notification",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// ✅ TC01 - Validate status code is 200\r",
                  "pm.test(\"TC01 - Validate status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "pm.test(\"TC02 - Body matches string\", function () {\r",
                  "    pm.expect(pm.response.text()).to.include(\"Event Executed successfully.\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"eventId\": {{eventId}},\r\n    \"entityId\": \"{{entityId}}\",\r\n    \"subscriptionId\": \"{{subscriptionId}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/allies/{{AID}}/retrywebhookeventnotification",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "allies",
                "{{AID}}",
                "retrywebhookeventnotification"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Allies sub merchant onboarding (secure flow)",
      "item": [
        {
          "name": "SA01: This is a secure API which onboards ally sub merchants.",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "\r",
                  "\r",
                  "function generateUsername() {\r",
                  "    let firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Morgan\", \"Casey\", \"Riley\", \"Cameron\", \"Avery\"];\r",
                  "    let lastNames = [\"Smith\", \"Johnson\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Anderson\", \"Thomas\"];\r",
                  "    \r",
                  "    let firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\r",
                  "    let lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\r",
                  "    let randomNumber = Math.floor(1000 + Math.random() * 9000); // Random 4-digit number\r",
                  "\r",
                  "    return `${firstName}${lastName}${randomNumber}`;\r",
                  "}\r",
                  "\r",
                  "let randomUsername = generateUsername();\r",
                  "pm.environment.set(\"random_username\", randomUsername);\r",
                  "\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  "\r",
                  "let keyType = pm.environment.get(\"keyQatType\") || \"1\";\r",
                  "\r",
                  "let apiKey = pm.environment.get(`api_qatkey_${keyType}`);\r",
                  "\r",
                  "if (!apiKey) {\r",
                  "    throw new Error(\"API Key not found for keyType: \" + keyType);\r",
                  "}\r",
                  "//api_qatkey_1\r",
                  "pm.request.headers.upsert({\r",
                  "    key: \"x-api-key\",\r",
                  "    value: apiKey\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// --- Parse JSON Response ---",
                  "let jsonData = {};",
                  "try {",
                  "    jsonData = pm.response.json();",
                  "} catch (e) {",
                  "    pm.test(\"Validate Response JSON\", function () {",
                  "        pm.expect.fail(\"Response body is not valid JSON: \" + e.message);",
                  "    });",
                  "}",
                  "",
                  "// --- TC01. Validate Status Code is 201 (Created) ---",
                  "pm.test(\"TC01. Validate Status Code is 201 (Created)\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "// --- TC02. Validate required fields exist and are non-empty strings ---",
                  "pm.test(\"TC02. Validate 'merchantID', 'companyName', and 'merchantDBA' fields are present and non-empty\", function () {",
                  "    pm.expect(jsonData, \"Response body should not be empty\").to.exist;",
                  "",
                  "    const requiredFields = [\"merchantID\", \"companyName\", \"merchantDBA\"];",
                  "    requiredFields.forEach(field => {",
                  "        pm.expect(jsonData, `Missing key: ${field}`).to.have.property(field);",
                  "        pm.expect(jsonData[field], `${field} should be a non-empty string`).to.be.a(\"string\").and.not.empty;",
                  "    });",
                  "});",
                  "",
                  "// --- TC03. Save 'merchantID' as environment variable ---",
                  "pm.test(\"TC03. Save 'merchantID' as environment variable\", function () {",
                  "    if (jsonData.merchantID) {",
                  "        pm.environment.set(\"env_merchantId\", jsonData.merchantID);",
                  "        pm.expect(jsonData.merchantID, \"merchantID should be a non-empty string\").to.be.a(\"string\").and.not.empty;",
                  "    } else {",
                  "        pm.expect.fail(\"'merchantID' missing in response — cannot save environment variable\");",
                  "    }",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-app-key",
                "value": "{{merchantId2}}",
                "description": "x-api-key",
                "type": "text",
                "disabled": true
              },
              {
                "key": "x-version",
                "value": "{{apiVersion}}",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              },
              {
                "key": "x-api-key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"{{$randomCompanyName}}\",\n    \"dbaName\": \"{{$randomCompanyName}}\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"{{$randomFirstName}}\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"{{$randomLastName}}\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"{{$randomFirstName}}@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    }\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/secure/allies/merchants",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "secure",
                "allies",
                "merchants"
              ]
            }
          },
          "response": [
            {
              "name": "Successful Creation",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Armstrong and Sons\",\n    \"dbaName\": \"Armstrong and Sons Pvt Ltd\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    }\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"merchantID\": \"L68KrKxo\",\n  \"companyName\": \"Armstrong and Sons\",\n  \"merchantDBA\": \"Armstrong and Sons Pvt Ltd\"\n}"
            },
            {
              "name": "Bad Request",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Armstrong and Sons\",\n    \"dbaName\": \"Armstrong and Sons Pvt Ltd\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    }\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Unauthorized",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Armstrong and Sons\",\n    \"dbaName\": \"Armstrong and Sons Pvt Ltd\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    }\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Unauthorized",
              "code": 401,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Forbidden",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Armstrong and Sons\",\n    \"dbaName\": \"Armstrong and Sons Pvt Ltd\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    }\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Forbidden",
              "code": 403,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Not Found",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Armstrong and Sons\",\n    \"dbaName\": \"Armstrong and Sons Pvt Ltd\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    }\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Internal Server Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Armstrong and Sons\",\n    \"dbaName\": \"Armstrong and Sons Pvt Ltd\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    }\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Internal Server Error",
              "code": 500,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            }
          ]
        },
        {
          "name": "SA02: This API is used to update sub merchant details of ally.",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "var name = pm.variables.replaceIn(\"{{$randomFirstName}}\"); \r",
                  "pm.globals.set(\"Firstname\", name);\r",
                  "\r",
                  "var Lname = pm.variables.replaceIn(\"{{$randomLastName}}\"); \r",
                  "pm.globals.set(\"Lastname\", Lname);\r",
                  "\r",
                  "\r",
                  "\r",
                  "function generateUsername() {\r",
                  "    let firstNames = [\"Alex\", \"Jordan\", \"Taylor\", \"Morgan\", \"Casey\", \"Riley\", \"Cameron\", \"Avery\"];\r",
                  "    let lastNames = [\"Smith\", \"Johnson\", \"Brown\", \"Davis\", \"Miller\", \"Wilson\", \"Anderson\", \"Thomas\"];\r",
                  "    \r",
                  "    let firstName = firstNames[Math.floor(Math.random() * firstNames.length)];\r",
                  "    let lastName = lastNames[Math.floor(Math.random() * lastNames.length)];\r",
                  "    let randomNumber = Math.floor(1000 + Math.random() * 9000); // Random 4-digit number\r",
                  "\r",
                  "    return `${firstName}${lastName}${randomNumber}`;\r",
                  "}\r",
                  "\r",
                  "let randomUsername = generateUsername();\r",
                  "pm.environment.set(\"random_username\", randomUsername);\r",
                  "\r",
                  "// // Test: Request body contains merchantID with non-empty string values\r",
                  "// pm.test(\"Request body contains 'merchantID'with non-empty string values\", function () {\r",
                  "//     var jsonData = pm.response.json();\r",
                  "//     pm.expect(jsonData).to.have.property('merchantID');\r",
                  "//     pm.expect(jsonData.merchantID).to.be.a('string').and.not.empty;\r",
                  "// });\r",
                  "\r",
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 5000); // 2-second delay\r",
                  "\r",
                  "\r",
                  "let keyType = pm.environment.get(\"keyQatType\") || \"1\";\r",
                  "\r",
                  "let apiKey = pm.environment.get(`api_qatkey_${keyType}`);\r",
                  "\r",
                  "if (!apiKey) {\r",
                  "    throw new Error(\"API Key not found for keyType: \" + keyType);\r",
                  "}\r",
                  "//api_qatkey_1\r",
                  "pm.request.headers.upsert({\r",
                  "    key: \"x-api-key\",\r",
                  "    value: apiKey\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"TC01: Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "x-app-key",
                "value": "{{merchantId2}}",
                "description": "x-api-key",
                "type": "text",
                "disabled": true
              },
              {
                "key": "x-version",
                "value": "{{apiVersion}}",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              },
              {
                "key": "x-api-key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"{{$randomCompanyName}}\",\n    \"dbaName\": \"{{$randomCompanyName}}\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"{{$randomFirstName}}\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"{{$randomLastName}}\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"{{$randomFirstName}}@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    },\n    \"merchantId\": \"{{env_merchantId}}\"\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/secure/allies/merchants",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "secure",
                "allies",
                "merchants"
              ]
            }
          },
          "response": [
            {
              "name": "Successful Operation",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Updated Company Name\",\n    \"dbaName\": \"Updated DBA Name\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    },\n    \"merchantId\": \"Z8goly78\"\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Bad Request",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Updated Company Name\",\n    \"dbaName\": \"Updated DBA Name\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    },\n    \"merchantId\": \"Z8goly78\"\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Unauthorized",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Updated Company Name\",\n    \"dbaName\": \"Updated DBA Name\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    },\n    \"merchantId\": \"Z8goly78\"\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Unauthorized",
              "code": 401,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Forbidden",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Updated Company Name\",\n    \"dbaName\": \"Updated DBA Name\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    },\n    \"merchantId\": \"Z8goly78\"\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Forbidden",
              "code": 403,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Not Found",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Updated Company Name\",\n    \"dbaName\": \"Updated DBA Name\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    },\n    \"merchantId\": \"Z8goly78\"\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Internal Server Error",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantDetails\": {\n    \"companyName\": \"Updated Company Name\",\n    \"dbaName\": \"Updated DBA Name\",\n    \"contact\": {\n      \"name\": {\n        \"title\": \"Mr\",\n        \"firstName\": \"Gabriel\",\n        \"middleName\": \"Cristopher\",\n        \"lastName\": \"Armstrong\"\n      },\n      \"phone\": \"9876543210\",\n      \"email\": \"ArmstrongAndSons@yopmail.com\",\n      \"address\": {\n        \"addressLine1\": \"7438 Airport Drive\",\n        \"addressLine2\": \"Collegeville\",\n        \"city\": \"PA\",\n        \"state\": \"Georgia\",\n        \"country\": \"USA\",\n        \"postalCode\": \"19426\",\n        \"timeZone\": \"Eastern\"\n      }\n    },\n    \"merchantId\": \"Z8goly78\"\n  },\n  \"allowedPaymentMethods\": [\n    {\n      \"action\": 1,\n      \"type\": 3,\n      \"subTypes\": [\n        \"visa\",\n        \"master\",\n        \"amex\",\n        \"diners\",\n        \"discover\"\n      ]\n    },\n    {\n      \"action\": 1,\n      \"type\": 2,\n      \"subTypes\": [\n        \"web\",\n        \"ccd\",\n        \"ppd\"\n      ]\n    }\n  ],\n  \"features\": [\n    {\n      \"name\": 1,\n      \"reason\": \"Enabling AndDoneJs feature for payment processing\",\n      \"enabled\": true,\n      \"additionalData\": \"[{\\\"Name\\\":\\\"AgencyID\\\"}]\"\n    }\n  ],\n  \"fees\": [\n    {\n      \"type\": 1,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": 2,\n      \"status\": 1,\n      \"details\": [\n        {\n          \"percentageValue\": 10,\n          \"fixedValue\": 10,\n          \"appliesTo\": [\n            3,\n            4\n          ]\n        },\n        {\n          \"percentageValue\": 20,\n          \"fixedValue\": 20,\n          \"appliesTo\": [\n            2\n          ]\n        }\n      ]\n    }\n  ],\n  \"payAuthStatements\": [\n    {\n      \"paymentMethod\": 2,\n      \"type\": 1,\n      \"body\": \"Payment Authorization Statement Body\"\n    },\n    {\n      \"paymentMethod\": 3,\n      \"type\": 2,\n      \"body\": \"Payment Authorization Statement Body\"\n    }\n  ]\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants"
                  ]
                }
              },
              "status": "Internal Server Error",
              "code": 500,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            }
          ]
        },
        {
          "name": "SA03: This is a secure API which searches ally submerchant using search criteria.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// --- TC01. Validate Response Status Code is 200 ---",
                  "pm.test(\"TC01 - Validate Response Status Code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// --- Parse Response JSON Safely ---",
                  "let jsonData = {};",
                  "try {",
                  "    jsonData = pm.response.json();",
                  "} catch (e) {",
                  "    pm.test(\"TC02 - Validate Response JSON Parse\", function () {",
                  "        pm.expect.fail(\"Response body is not valid JSON: \" + e.message);",
                  "    });",
                  "}",
                  "",
                  "// --- TC03. Validate 'totalRowCount' Exists and is >= 0 ---",
                  "pm.test(\"TC03 - Validate 'totalRowCount' Exists and is >= 0\", function () {",
                  "    pm.expect(jsonData, \"Response should contain totalRowCount\").to.have.property(\"totalRowCount\");",
                  "    pm.expect(jsonData.totalRowCount, \"totalRowCount should be a number\").to.be.a(\"number\");",
                  "    pm.expect(jsonData.totalRowCount, \"totalRowCount should be >= 0\").to.be.at.least(0);",
                  "});",
                  "",
                  "// --- TC04. Validate 'data' Array Exists ---",
                  "pm.test(\"TC04 - Validate 'data' Array Exists\", function () {",
                  "    pm.expect(jsonData, \"Response should contain data\").to.have.property(\"data\");",
                  "    pm.expect(jsonData.data, \"data should be an array\").to.be.an(\"array\");",
                  "});",
                  "",
                  "// --- TC05. Validate Each Merchant Object Has Required Keys and Flags ---",
                  "pm.test(\"TC05 - Validate Each Merchant Object Has Required Keys and Flags\", function () {",
                  "    if (Array.isArray(jsonData.data)) {",
                  "        jsonData.data.forEach((merchant, index) => {",
                  "            pm.expect(merchant, `Merchant at index ${index} should be an object`).to.be.an(\"object\");",
                  "",
                  "            const requiredKeys = [",
                  "                \"id\",",
                  "                \"companyName\",",
                  "                \"contact\",",
                  "                \"merchantId\",",
                  "                \"userIsActive\",",
                  "                \"isActive\",",
                  "                \"allyId\"",
                  "            ];",
                  "",
                  "            requiredKeys.forEach(key => {",
                  "                pm.expect(merchant, `Missing key '${key}' in merchant at index ${index}`).to.have.property(key);",
                  "            });",
                  "",
                  "            pm.expect(merchant.userIsActive, `userIsActive should be boolean in merchant ${index}`).to.be.a(\"boolean\");",
                  "            pm.expect(merchant.isActive, `isActive should be boolean in merchant ${index}`).to.be.a(\"boolean\");",
                  "        });",
                  "    } else {",
                  "        pm.expect.fail(\"Response 'data' is not an array\");",
                  "    }",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  "\r",
                  "let keyType = pm.environment.get(\"keyQatType\") || \"1\";\r",
                  "\r",
                  "let apiKey = pm.environment.get(`api_qatkey_${keyType}`);\r",
                  "\r",
                  "if (!apiKey) {\r",
                  "    throw new Error(\"API Key not found for keyType: \" + keyType);\r",
                  "}\r",
                  "//api_qatkey_1\r",
                  "pm.request.headers.upsert({\r",
                  "    key: \"x-api-key\",\r",
                  "    value: apiKey\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-app-key",
                "value": "{{merchantId2}}",
                "description": "x-api-key",
                "type": "text",
                "disabled": true
              },
              {
                "key": "x-version",
                "value": "{{apiVersion}}",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              },
              {
                "key": "x-api-key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{BaseURL}}/secure/allies/merchants/search",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "secure",
                "allies",
                "merchants",
                "search"
              ],
              "query": [
                {
                  "key": "companyName",
                  "value": "string",
                  "description": "Indicates Company Name",
                  "disabled": true
                },
                {
                  "key": "firstName",
                  "value": "string",
                  "description": "Indicates Merchant's First Name",
                  "disabled": true
                },
                {
                  "key": "lastName",
                  "value": "string",
                  "description": "Indicates Merchant's Last Name",
                  "disabled": true
                },
                {
                  "key": "email",
                  "value": "string",
                  "description": "Indicates Merchant's Email",
                  "disabled": true
                },
                {
                  "key": "phone",
                  "value": "string",
                  "description": "Indicates Merchant's Phone Number",
                  "disabled": true
                },
                {
                  "key": "city",
                  "value": "string",
                  "description": "Indicates Merchant's City",
                  "disabled": true
                },
                {
                  "key": "postalCode",
                  "value": "string",
                  "description": "Indicates Merchant's Postal Code",
                  "disabled": true
                },
                {
                  "key": "isActive",
                  "value": "false",
                  "description": "Indicates Merchant's Active Status: true/false",
                  "disabled": true
                },
                {
                  "key": "merchantId",
                  "value": "string",
                  "description": "Indicates Merchant's Identifier",
                  "disabled": true
                },
                {
                  "key": "adminName",
                  "value": "string",
                  "description": "Indicates Merchant's Admin Name",
                  "disabled": true
                },
                {
                  "key": "dBAName",
                  "value": "string",
                  "description": "Indicates Merchant's DBAName",
                  "disabled": true
                },
                {
                  "key": "startDate",
                  "value": "2011-08-17T00:41:47.522Z",
                  "description": "Indicates Start Date",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "1953-06-22T19:33:51.251Z",
                  "description": "Indicates End Date",
                  "disabled": true
                },
                {
                  "key": "searchText",
                  "value": "string",
                  "description": "Indicates Text to Search",
                  "disabled": true
                },
                {
                  "key": "startRow",
                  "value": "107",
                  "description": "Set start row",
                  "disabled": true
                },
                {
                  "key": "pageSize",
                  "value": "9528",
                  "description": "Set page size",
                  "disabled": true
                },
                {
                  "key": "sortField",
                  "value": "string",
                  "description": "Set sort field",
                  "disabled": true
                },
                {
                  "key": "asc",
                  "value": "true",
                  "description": "Set ascending or descending order",
                  "disabled": true
                }
              ]
            }
          },
          "response": [
            {
              "name": "Successful Operation",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/search?companyName=string&firstName=string&lastName=string&email=string&phone=string&city=string&postalCode=string&isActive=false&merchantId=string&adminName=string&dBAName=string&startDate=2011-08-17T00:41:47.522Z&endDate=1953-06-22T19:33:51.251Z&searchText=string&startRow=107&pageSize=9528&sortField=string&asc=true",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "search"
                  ],
                  "query": [
                    {
                      "key": "companyName",
                      "value": "string",
                      "description": "Indicates Company Name"
                    },
                    {
                      "key": "firstName",
                      "value": "string",
                      "description": "Indicates Merchant's First Name"
                    },
                    {
                      "key": "lastName",
                      "value": "string",
                      "description": "Indicates Merchant's Last Name"
                    },
                    {
                      "key": "email",
                      "value": "string",
                      "description": "Indicates Merchant's Email"
                    },
                    {
                      "key": "phone",
                      "value": "string",
                      "description": "Indicates Merchant's Phone Number"
                    },
                    {
                      "key": "city",
                      "value": "string",
                      "description": "Indicates Merchant's City"
                    },
                    {
                      "key": "postalCode",
                      "value": "string",
                      "description": "Indicates Merchant's Postal Code"
                    },
                    {
                      "key": "isActive",
                      "value": "false",
                      "description": "Indicates Merchant's Active Status: true/false"
                    },
                    {
                      "key": "merchantId",
                      "value": "string",
                      "description": "Indicates Merchant's Identifier"
                    },
                    {
                      "key": "adminName",
                      "value": "string",
                      "description": "Indicates Merchant's Admin Name"
                    },
                    {
                      "key": "dBAName",
                      "value": "string",
                      "description": "Indicates Merchant's DBAName"
                    },
                    {
                      "key": "startDate",
                      "value": "2011-08-17T00:41:47.522Z",
                      "description": "Indicates Start Date"
                    },
                    {
                      "key": "endDate",
                      "value": "1953-06-22T19:33:51.251Z",
                      "description": "Indicates End Date"
                    },
                    {
                      "key": "searchText",
                      "value": "string",
                      "description": "Indicates Text to Search"
                    },
                    {
                      "key": "startRow",
                      "value": "107",
                      "description": "Set start row"
                    },
                    {
                      "key": "pageSize",
                      "value": "9528",
                      "description": "Set page size"
                    },
                    {
                      "key": "sortField",
                      "value": "string",
                      "description": "Set sort field"
                    },
                    {
                      "key": "asc",
                      "value": "true",
                      "description": "Set ascending or descending order"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"totalRowCount\": 1,\n  \"data\": [\n    {\n      \"id\": \"nZ8gjaxo\",\n      \"merchantAdminUser\": \"nZ8gjaxo\",\n      \"companyName\": \"Pfeffer Group\",\n      \"contact\": {\n        \"name\": {\n          \"title\": \"Mr.\",\n          \"firstName\": \"Damion\",\n          \"middleName\": \"E.\",\n          \"lastName\": \"Pfeffer\"\n        },\n        \"companyName\": \"Pfeffer Group\",\n        \"department\": \"Sales\",\n        \"fax\": \"1234567890\",\n        \"phone\": \"1234567890\",\n        \"alternatePhone\": \"1234567890\",\n        \"mobile\": \"1234567890\",\n        \"email\": \"Damion@yopmail.com\",\n        \"url\": \"https://pfeffergroup.com\",\n        \"address\": {\n          \"addressLine1\": \"123 Main St\",\n          \"addressLine2\": \"Apt 4B\",\n          \"city\": \"New York\",\n          \"state\": \"NY\",\n          \"country\": 77,\n          \"postalCode\": \"10001\",\n          \"timeZone\": \"EST\"\n        }\n      },\n      \"loginURL\": \"https://pfeffergroup.com/login\",\n      \"merchantId\": \"nZ8gjaxo\",\n      \"merchantActivatedOn\": \"11-13-2024 01:15:25\",\n      \"userIsActive\": true,\n      \"userIsLock\": false,\n      \"isActive\": true,\n      \"createdOn\": \"11-13-2024 01:15:25\",\n      \"createdBy\": \"admin\",\n      \"modifiedOn\": \"11-13-2024 01:15:25\",\n      \"modifiedBy\": \"admin\",\n      \"accessKey\": \"wefrtyuiop\",\n      \"paymentToken\": \"1234567890\",\n      \"hasIntegrationAccess\": false,\n      \"hierarchy\": \"Level 1\",\n      \"dbaName\": \"Pfeffer Group DBA\",\n      \"considerDBAName\": true,\n      \"changedPasswordOn\": \"11-13-2024 01:15:25\",\n      \"closeTime\": \"17:00:00\",\n      \"utcCloseTime\": \"17:00:00\",\n      \"isQuickOnBoarding\": false,\n      \"payoutTimeType\": 1,\n      \"onboardingType\": 1,\n      \"allyId\": \"6MxaKld3\"\n    }\n  ]\n}"
            },
            {
              "name": "Bad Request",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/search?companyName=string&firstName=string&lastName=string&email=string&phone=string&city=string&postalCode=string&isActive=false&merchantId=string&adminName=string&dBAName=string&startDate=2011-08-17T00:41:47.522Z&endDate=1953-06-22T19:33:51.251Z&searchText=string&startRow=107&pageSize=9528&sortField=string&asc=true",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "search"
                  ],
                  "query": [
                    {
                      "key": "companyName",
                      "value": "string",
                      "description": "Indicates Company Name"
                    },
                    {
                      "key": "firstName",
                      "value": "string",
                      "description": "Indicates Merchant's First Name"
                    },
                    {
                      "key": "lastName",
                      "value": "string",
                      "description": "Indicates Merchant's Last Name"
                    },
                    {
                      "key": "email",
                      "value": "string",
                      "description": "Indicates Merchant's Email"
                    },
                    {
                      "key": "phone",
                      "value": "string",
                      "description": "Indicates Merchant's Phone Number"
                    },
                    {
                      "key": "city",
                      "value": "string",
                      "description": "Indicates Merchant's City"
                    },
                    {
                      "key": "postalCode",
                      "value": "string",
                      "description": "Indicates Merchant's Postal Code"
                    },
                    {
                      "key": "isActive",
                      "value": "false",
                      "description": "Indicates Merchant's Active Status: true/false"
                    },
                    {
                      "key": "merchantId",
                      "value": "string",
                      "description": "Indicates Merchant's Identifier"
                    },
                    {
                      "key": "adminName",
                      "value": "string",
                      "description": "Indicates Merchant's Admin Name"
                    },
                    {
                      "key": "dBAName",
                      "value": "string",
                      "description": "Indicates Merchant's DBAName"
                    },
                    {
                      "key": "startDate",
                      "value": "2011-08-17T00:41:47.522Z",
                      "description": "Indicates Start Date"
                    },
                    {
                      "key": "endDate",
                      "value": "1953-06-22T19:33:51.251Z",
                      "description": "Indicates End Date"
                    },
                    {
                      "key": "searchText",
                      "value": "string",
                      "description": "Indicates Text to Search"
                    },
                    {
                      "key": "startRow",
                      "value": "107",
                      "description": "Set start row"
                    },
                    {
                      "key": "pageSize",
                      "value": "9528",
                      "description": "Set page size"
                    },
                    {
                      "key": "sortField",
                      "value": "string",
                      "description": "Set sort field"
                    },
                    {
                      "key": "asc",
                      "value": "true",
                      "description": "Set ascending or descending order"
                    }
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Unauthorized",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/search?companyName=string&firstName=string&lastName=string&email=string&phone=string&city=string&postalCode=string&isActive=false&merchantId=string&adminName=string&dBAName=string&startDate=2011-08-17T00:41:47.522Z&endDate=1953-06-22T19:33:51.251Z&searchText=string&startRow=107&pageSize=9528&sortField=string&asc=true",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "search"
                  ],
                  "query": [
                    {
                      "key": "companyName",
                      "value": "string",
                      "description": "Indicates Company Name"
                    },
                    {
                      "key": "firstName",
                      "value": "string",
                      "description": "Indicates Merchant's First Name"
                    },
                    {
                      "key": "lastName",
                      "value": "string",
                      "description": "Indicates Merchant's Last Name"
                    },
                    {
                      "key": "email",
                      "value": "string",
                      "description": "Indicates Merchant's Email"
                    },
                    {
                      "key": "phone",
                      "value": "string",
                      "description": "Indicates Merchant's Phone Number"
                    },
                    {
                      "key": "city",
                      "value": "string",
                      "description": "Indicates Merchant's City"
                    },
                    {
                      "key": "postalCode",
                      "value": "string",
                      "description": "Indicates Merchant's Postal Code"
                    },
                    {
                      "key": "isActive",
                      "value": "false",
                      "description": "Indicates Merchant's Active Status: true/false"
                    },
                    {
                      "key": "merchantId",
                      "value": "string",
                      "description": "Indicates Merchant's Identifier"
                    },
                    {
                      "key": "adminName",
                      "value": "string",
                      "description": "Indicates Merchant's Admin Name"
                    },
                    {
                      "key": "dBAName",
                      "value": "string",
                      "description": "Indicates Merchant's DBAName"
                    },
                    {
                      "key": "startDate",
                      "value": "2011-08-17T00:41:47.522Z",
                      "description": "Indicates Start Date"
                    },
                    {
                      "key": "endDate",
                      "value": "1953-06-22T19:33:51.251Z",
                      "description": "Indicates End Date"
                    },
                    {
                      "key": "searchText",
                      "value": "string",
                      "description": "Indicates Text to Search"
                    },
                    {
                      "key": "startRow",
                      "value": "107",
                      "description": "Set start row"
                    },
                    {
                      "key": "pageSize",
                      "value": "9528",
                      "description": "Set page size"
                    },
                    {
                      "key": "sortField",
                      "value": "string",
                      "description": "Set sort field"
                    },
                    {
                      "key": "asc",
                      "value": "true",
                      "description": "Set ascending or descending order"
                    }
                  ]
                }
              },
              "status": "Unauthorized",
              "code": 401,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Forbidden",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/search?companyName=string&firstName=string&lastName=string&email=string&phone=string&city=string&postalCode=string&isActive=false&merchantId=string&adminName=string&dBAName=string&startDate=2011-08-17T00:41:47.522Z&endDate=1953-06-22T19:33:51.251Z&searchText=string&startRow=107&pageSize=9528&sortField=string&asc=true",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "search"
                  ],
                  "query": [
                    {
                      "key": "companyName",
                      "value": "string",
                      "description": "Indicates Company Name"
                    },
                    {
                      "key": "firstName",
                      "value": "string",
                      "description": "Indicates Merchant's First Name"
                    },
                    {
                      "key": "lastName",
                      "value": "string",
                      "description": "Indicates Merchant's Last Name"
                    },
                    {
                      "key": "email",
                      "value": "string",
                      "description": "Indicates Merchant's Email"
                    },
                    {
                      "key": "phone",
                      "value": "string",
                      "description": "Indicates Merchant's Phone Number"
                    },
                    {
                      "key": "city",
                      "value": "string",
                      "description": "Indicates Merchant's City"
                    },
                    {
                      "key": "postalCode",
                      "value": "string",
                      "description": "Indicates Merchant's Postal Code"
                    },
                    {
                      "key": "isActive",
                      "value": "false",
                      "description": "Indicates Merchant's Active Status: true/false"
                    },
                    {
                      "key": "merchantId",
                      "value": "string",
                      "description": "Indicates Merchant's Identifier"
                    },
                    {
                      "key": "adminName",
                      "value": "string",
                      "description": "Indicates Merchant's Admin Name"
                    },
                    {
                      "key": "dBAName",
                      "value": "string",
                      "description": "Indicates Merchant's DBAName"
                    },
                    {
                      "key": "startDate",
                      "value": "2011-08-17T00:41:47.522Z",
                      "description": "Indicates Start Date"
                    },
                    {
                      "key": "endDate",
                      "value": "1953-06-22T19:33:51.251Z",
                      "description": "Indicates End Date"
                    },
                    {
                      "key": "searchText",
                      "value": "string",
                      "description": "Indicates Text to Search"
                    },
                    {
                      "key": "startRow",
                      "value": "107",
                      "description": "Set start row"
                    },
                    {
                      "key": "pageSize",
                      "value": "9528",
                      "description": "Set page size"
                    },
                    {
                      "key": "sortField",
                      "value": "string",
                      "description": "Set sort field"
                    },
                    {
                      "key": "asc",
                      "value": "true",
                      "description": "Set ascending or descending order"
                    }
                  ]
                }
              },
              "status": "Forbidden",
              "code": 403,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Not Found",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/search?companyName=string&firstName=string&lastName=string&email=string&phone=string&city=string&postalCode=string&isActive=false&merchantId=string&adminName=string&dBAName=string&startDate=2011-08-17T00:41:47.522Z&endDate=1953-06-22T19:33:51.251Z&searchText=string&startRow=107&pageSize=9528&sortField=string&asc=true",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "search"
                  ],
                  "query": [
                    {
                      "key": "companyName",
                      "value": "string",
                      "description": "Indicates Company Name"
                    },
                    {
                      "key": "firstName",
                      "value": "string",
                      "description": "Indicates Merchant's First Name"
                    },
                    {
                      "key": "lastName",
                      "value": "string",
                      "description": "Indicates Merchant's Last Name"
                    },
                    {
                      "key": "email",
                      "value": "string",
                      "description": "Indicates Merchant's Email"
                    },
                    {
                      "key": "phone",
                      "value": "string",
                      "description": "Indicates Merchant's Phone Number"
                    },
                    {
                      "key": "city",
                      "value": "string",
                      "description": "Indicates Merchant's City"
                    },
                    {
                      "key": "postalCode",
                      "value": "string",
                      "description": "Indicates Merchant's Postal Code"
                    },
                    {
                      "key": "isActive",
                      "value": "false",
                      "description": "Indicates Merchant's Active Status: true/false"
                    },
                    {
                      "key": "merchantId",
                      "value": "string",
                      "description": "Indicates Merchant's Identifier"
                    },
                    {
                      "key": "adminName",
                      "value": "string",
                      "description": "Indicates Merchant's Admin Name"
                    },
                    {
                      "key": "dBAName",
                      "value": "string",
                      "description": "Indicates Merchant's DBAName"
                    },
                    {
                      "key": "startDate",
                      "value": "2011-08-17T00:41:47.522Z",
                      "description": "Indicates Start Date"
                    },
                    {
                      "key": "endDate",
                      "value": "1953-06-22T19:33:51.251Z",
                      "description": "Indicates End Date"
                    },
                    {
                      "key": "searchText",
                      "value": "string",
                      "description": "Indicates Text to Search"
                    },
                    {
                      "key": "startRow",
                      "value": "107",
                      "description": "Set start row"
                    },
                    {
                      "key": "pageSize",
                      "value": "9528",
                      "description": "Set page size"
                    },
                    {
                      "key": "sortField",
                      "value": "string",
                      "description": "Set sort field"
                    },
                    {
                      "key": "asc",
                      "value": "true",
                      "description": "Set ascending or descending order"
                    }
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Internal Server Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/search?companyName=string&firstName=string&lastName=string&email=string&phone=string&city=string&postalCode=string&isActive=false&merchantId=string&adminName=string&dBAName=string&startDate=2011-08-17T00:41:47.522Z&endDate=1953-06-22T19:33:51.251Z&searchText=string&startRow=107&pageSize=9528&sortField=string&asc=true",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "search"
                  ],
                  "query": [
                    {
                      "key": "companyName",
                      "value": "string",
                      "description": "Indicates Company Name"
                    },
                    {
                      "key": "firstName",
                      "value": "string",
                      "description": "Indicates Merchant's First Name"
                    },
                    {
                      "key": "lastName",
                      "value": "string",
                      "description": "Indicates Merchant's Last Name"
                    },
                    {
                      "key": "email",
                      "value": "string",
                      "description": "Indicates Merchant's Email"
                    },
                    {
                      "key": "phone",
                      "value": "string",
                      "description": "Indicates Merchant's Phone Number"
                    },
                    {
                      "key": "city",
                      "value": "string",
                      "description": "Indicates Merchant's City"
                    },
                    {
                      "key": "postalCode",
                      "value": "string",
                      "description": "Indicates Merchant's Postal Code"
                    },
                    {
                      "key": "isActive",
                      "value": "false",
                      "description": "Indicates Merchant's Active Status: true/false"
                    },
                    {
                      "key": "merchantId",
                      "value": "string",
                      "description": "Indicates Merchant's Identifier"
                    },
                    {
                      "key": "adminName",
                      "value": "string",
                      "description": "Indicates Merchant's Admin Name"
                    },
                    {
                      "key": "dBAName",
                      "value": "string",
                      "description": "Indicates Merchant's DBAName"
                    },
                    {
                      "key": "startDate",
                      "value": "2011-08-17T00:41:47.522Z",
                      "description": "Indicates Start Date"
                    },
                    {
                      "key": "endDate",
                      "value": "1953-06-22T19:33:51.251Z",
                      "description": "Indicates End Date"
                    },
                    {
                      "key": "searchText",
                      "value": "string",
                      "description": "Indicates Text to Search"
                    },
                    {
                      "key": "startRow",
                      "value": "107",
                      "description": "Set start row"
                    },
                    {
                      "key": "pageSize",
                      "value": "9528",
                      "description": "Set page size"
                    },
                    {
                      "key": "sortField",
                      "value": "string",
                      "description": "Set sort field"
                    },
                    {
                      "key": "asc",
                      "value": "true",
                      "description": "Set ascending or descending order"
                    }
                  ]
                }
              },
              "status": "Internal Server Error",
              "code": 500,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            }
          ]
        },
        {
          "name": "SA04: This is a secure API which fetches the details of a particular ally sub merchant using merchantId.",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// --- Parse Response JSON Safely ---",
                  "let jsonData = {};",
                  "try {",
                  "    jsonData = pm.response.json();",
                  "} catch (e) {",
                  "    pm.test(\"TC00 - Validate Response JSON Parse\", function () {",
                  "        pm.expect.fail(\"Response is not valid JSON: \" + e.message);",
                  "    });",
                  "}",
                  "",
                  "// --- TC01. Validate Status Code is 200 ---",
                  "pm.test(\"TC01 - Validate Status Code is 200\", function () {",
                  "    pm.expect(pm.response.code, `Expected 200 but got ${pm.response.code}`).to.eql(200);",
                  "});",
                  "",
                  "// --- TC02. Validate Response Body is Valid JSON ---",
                  "pm.test(\"TC02 - Validate Response Body is Valid JSON\", function () {",
                  "    pm.expect(() => pm.response.json()).to.not.throw();",
                  "});",
                  "",
                  "// --- TC03. Validate Response Has 'id' Field ---",
                  "pm.test(\"TC03 - Validate Response Has 'id' Field\", function () {",
                  "    pm.expect(jsonData).to.have.property(\"id\").that.is.a(\"string\").and.not.empty;",
                  "});",
                  "",
                  "// --- TC04. Validate Response Has 'merchantId' Field ---",
                  "pm.test(\"TC04 - Validate Response Has 'merchantId' Field\", function () {",
                  "    pm.expect(jsonData).to.have.property(\"merchantId\").that.is.a(\"string\").and.not.empty;",
                  "});",
                  "",
                  "// --- TC05. Validate Response Has 'companyName' Field ---",
                  "pm.test(\"TC05 - Validate Response Has 'companyName' Field\", function () {",
                  "    pm.expect(jsonData).to.have.property(\"companyName\").that.is.a(\"string\").and.not.empty;",
                  "});",
                  "",
                  "// --- TC06. Validate Response Has 'contact.email' Field ---",
                  "pm.test(\"TC06 - Validate Response Has 'contact.email' Field\", function () {",
                  "    pm.expect(jsonData).to.have.nested.property(\"contact.email\").that.is.a(\"string\").and.not.empty;",
                  "});",
                  "",
                  "// --- TC07. Validate Response Has 'userIsActive' Field ---",
                  "pm.test(\"TC07 - Validate Response Has 'userIsActive' Field\", function () {",
                  "    pm.expect(jsonData).to.have.property(\"userIsActive\").that.is.a(\"boolean\");",
                  "});",
                  "",
                  "// --- TC08. Validate Response Has 'allyId' Field ---",
                  "pm.test(\"TC08 - Validate Response Has 'allyId' Field\", function () {",
                  "    pm.expect(jsonData).to.have.property(\"allyId\").that.is.a(\"string\");",
                  "});",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "setTimeout(() => {\r",
                  "    console.log(\"Delay executed\");\r",
                  "}, 2000); // 2-second delay\r",
                  "\r",
                  "\r",
                  "let keyType = pm.environment.get(\"keyQatType\") || \"1\";\r",
                  "\r",
                  "let apiKey = pm.environment.get(`api_qatkey_${keyType}`);\r",
                  "\r",
                  "if (!apiKey) {\r",
                  "    throw new Error(\"API Key not found for keyType: \" + keyType);\r",
                  "}\r",
                  "//api_qatkey_1\r",
                  "pm.request.headers.upsert({\r",
                  "    key: \"x-api-key\",\r",
                  "    value: apiKey\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-app-key",
                "value": "{{merchantId2}}",
                "description": "x-api-key",
                "type": "text",
                "disabled": true
              },
              {
                "key": "x-version",
                "value": "{{apiVersion}}",
                "type": "text"
              },
              {
                "key": "Origin",
                "value": "{{origin_admin}}",
                "type": "text"
              },
              {
                "key": "x-api-key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"merchantId\": \"{{env_merchantId}}\"\n}",
              "options": {
                "raw": {
                  "headerFamily": "json",
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{BaseURL}}/secure/allies/merchants/details",
              "host": [
                "{{BaseURL}}"
              ],
              "path": [
                "secure",
                "allies",
                "merchants",
                "details"
              ]
            }
          },
          "response": [
            {
              "name": "Successful Operation",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantId\": \"nZ8gjaxo\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/details",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "details"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"id\": \"nZ8gjaxo\",\n  \"merchantAdminUser\": \"nZ8gjaxo\",\n  \"companyName\": \"Pfeffer Group\",\n  \"contact\": {\n    \"name\": {\n      \"title\": \"Mr.\",\n      \"firstName\": \"Damion\",\n      \"middleName\": \"E.\",\n      \"lastName\": \"Pfeffer\"\n    },\n    \"companyName\": \"Pfeffer Group\",\n    \"department\": \"Sales\",\n    \"fax\": \"1234567890\",\n    \"phone\": \"1234567890\",\n    \"alternatePhone\": \"1234567890\",\n    \"mobile\": \"1234567890\",\n    \"email\": \"Damion@yopmail.com\",\n    \"url\": \"https://pfeffergroup.com\",\n    \"address\": {\n      \"addressLine1\": \"123 Main St\",\n      \"addressLine2\": \"Apt 4B\",\n      \"city\": \"New York\",\n      \"state\": \"NY\",\n      \"country\": 77,\n      \"postalCode\": \"10001\",\n      \"timeZone\": \"EST\"\n    }\n  },\n  \"loginURL\": \"https://pfeffergroup.com/login\",\n  \"merchantId\": \"nZ8gjaxo\",\n  \"merchantActivatedOn\": \"11-13-2024 01:15:25\",\n  \"userIsActive\": true,\n  \"userIsLock\": false,\n  \"isActive\": true,\n  \"createdOn\": \"11-13-2024 01:15:25\",\n  \"createdBy\": \"admin\",\n  \"modifiedOn\": \"11-13-2024 01:15:25\",\n  \"modifiedBy\": \"admin\",\n  \"accessKey\": \"wefrtyuiop\",\n  \"paymentToken\": \"1234567890\",\n  \"hasIntegrationAccess\": false,\n  \"hierarchy\": \"Level 1\",\n  \"dbaName\": \"Pfeffer Group DBA\",\n  \"considerDBAName\": true,\n  \"changedPasswordOn\": \"11-13-2024 01:15:25\",\n  \"closeTime\": \"17:00:00\",\n  \"utcCloseTime\": \"17:00:00\",\n  \"isQuickOnBoarding\": false,\n  \"payoutTimeType\": 1,\n  \"onboardingType\": 1,\n  \"allyId\": \"6MxaKld3\"\n}"
            },
            {
              "name": "Bad Request",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantId\": \"nZ8gjaxo\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/details",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "details"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Unauthorized",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantId\": \"nZ8gjaxo\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/details",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "details"
                  ]
                }
              },
              "status": "Unauthorized",
              "code": 401,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Forbidden",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantId\": \"nZ8gjaxo\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/details",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "details"
                  ]
                }
              },
              "status": "Forbidden",
              "code": 403,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Not Found",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantId\": \"nZ8gjaxo\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/details",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "details"
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            },
            {
              "name": "Internal Server Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "x-api-key",
                    "value": "string",
                    "description": "x-api-key"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"merchantId\": \"nZ8gjaxo\"\n}",
                  "options": {
                    "raw": {
                      "headerFamily": "json",
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/secure/allies/merchants/details",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "secure",
                    "allies",
                    "merchants",
                    "details"
                  ]
                }
              },
              "status": "Internal Server Error",
              "code": 500,
              "_postman_previewlanguage": "text",
              "header": [],
              "cookie": [],
              "body": ""
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    }
  ]
}